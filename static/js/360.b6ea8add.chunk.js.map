{"version":3,"file":"static/js/360.b6ea8add.chunk.js","mappings":"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","sources":["../node_modules/echarts/lib/action/roamHelper.js","../node_modules/echarts/lib/animation/customGraphicKeyframeAnimation.js","../node_modules/echarts/lib/animation/customGraphicTransition.js","../node_modules/echarts/lib/chart/helper/LinePath.js","../node_modules/echarts/lib/chart/helper/Line.js","../node_modules/echarts/lib/chart/helper/LineDraw.js","../node_modules/echarts/lib/chart/helper/Symbol.js","../node_modules/echarts/lib/chart/helper/SymbolDraw.js","../node_modules/echarts/lib/chart/helper/labelHelper.js","../node_modules/echarts/lib/coord/geo/Geo.js","../node_modules/echarts/lib/coord/geo/geoCreator.js","../node_modules/echarts/lib/coord/geo/GeoModel.js","../node_modules/echarts/lib/component/geo/GeoView.js","../node_modules/echarts/lib/component/geo/install.js","../node_modules/echarts/lib/component/helper/BrushController.js","../node_modules/echarts/lib/component/helper/MapDraw.js","../node_modules/echarts/lib/component/helper/RoamController.js","../node_modules/echarts/lib/component/helper/brushHelper.js","../node_modules/echarts/lib/component/helper/cursorHelper.js","../node_modules/echarts/lib/component/helper/interactionMutex.js","../node_modules/echarts/lib/component/helper/roamHelper.js","../node_modules/echarts/lib/component/helper/sliderMove.js","../node_modules/echarts/lib/coord/parallel/parallelPreprocessor.js","../node_modules/echarts/lib/component/parallel/ParallelView.js","../node_modules/echarts/lib/coord/parallel/ParallelModel.js","../node_modules/echarts/lib/coord/parallel/ParallelAxis.js","../node_modules/echarts/lib/coord/parallel/Parallel.js","../node_modules/echarts/lib/coord/parallel/parallelCreator.js","../node_modules/echarts/lib/coord/parallel/AxisModel.js","../node_modules/echarts/lib/component/axis/ParallelAxisView.js","../node_modules/echarts/lib/component/axis/parallelAxisAction.js","../node_modules/echarts/lib/component/parallel/install.js","../node_modules/echarts/lib/coord/radar/RadarModel.js","../node_modules/echarts/lib/component/radar/RadarView.js","../node_modules/echarts/lib/coord/radar/IndicatorAxis.js","../node_modules/echarts/lib/coord/radar/Radar.js","../node_modules/echarts/lib/component/radar/install.js","../node_modules/echarts/lib/coord/CoordinateSystem.js","../node_modules/echarts/lib/coord/View.js","../node_modules/zrender/lib/tool/parseSVG.js","../node_modules/zrender/lib/tool/parseXML.js","../node_modules/echarts/lib/coord/geo/Region.js","../node_modules/echarts/lib/coord/geo/GeoSVGResource.js","../node_modules/echarts/lib/coord/geo/parseGeoJson.js","../node_modules/echarts/lib/coord/geo/fix/nanhai.js","../node_modules/echarts/lib/coord/geo/fix/textCoord.js","../node_modules/echarts/lib/coord/geo/fix/diaoyuIsland.js","../node_modules/echarts/lib/coord/geo/GeoJSONResource.js","../node_modules/echarts/lib/coord/geo/geoSourceManager.js","../node_modules/echarts/lib/data/DataDiffer.js","../node_modules/echarts/lib/data/SeriesData.js","../node_modules/echarts/lib/data/SeriesDimensionDefine.js","../node_modules/echarts/lib/data/helper/dimensionHelper.js","../node_modules/echarts/lib/util/styleCompat.js","../node_modules/echarts/lib/visual/VisualMapping.js","../node_modules/zrender/lib/contain/polygon.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction getCenterCoord(view, point) {\n  // Use projected coord as center because it's linear.\n  return view.pointToProjected ? view.pointToProjected(point) : view.pointToData(point);\n}\nexport function updateCenterAndZoom(view, payload, zoomLimit, api) {\n  var previousZoom = view.getZoom();\n  var center = view.getCenter();\n  var zoom = payload.zoom;\n  var point = view.projectedToPoint ? view.projectedToPoint(center) : view.dataToPoint(center);\n  if (payload.dx != null && payload.dy != null) {\n    point[0] -= payload.dx;\n    point[1] -= payload.dy;\n    view.setCenter(getCenterCoord(view, point), api);\n  }\n  if (zoom != null) {\n    if (zoomLimit) {\n      var zoomMin = zoomLimit.min || 0;\n      var zoomMax = zoomLimit.max || Infinity;\n      zoom = Math.max(Math.min(previousZoom * zoom, zoomMax), zoomMin) / previousZoom;\n    }\n    // Zoom on given point(originX, originY)\n    view.scaleX *= zoom;\n    view.scaleY *= zoom;\n    var fixX = (payload.originX - view.x) * (zoom - 1);\n    var fixY = (payload.originY - view.y) * (zoom - 1);\n    view.x -= fixX;\n    view.y -= fixY;\n    view.updateTransform();\n    // Get the new center\n    view.setCenter(getCenterCoord(view, point), api);\n    view.setZoom(zoom * previousZoom);\n  }\n  return {\n    center: view.getCenter(),\n    zoom: view.getZoom()\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { keys, filter, each, isArray, indexOf } from 'zrender/lib/core/util.js';\nimport { ELEMENT_ANIMATABLE_PROPS } from './customGraphicTransition.js';\nimport { getAnimationConfig } from './basicTransition.js';\nimport { warn } from '../util/log.js';\nimport { makeInner } from '../util/model.js';\nvar getStateToRestore = makeInner();\nvar KEYFRAME_EXCLUDE_KEYS = ['percent', 'easing', 'shape', 'style', 'extra'];\n/**\n * Stop previous keyframe animation and restore the attributes.\n * Avoid new keyframe animation starts with wrong internal state when the percent: 0 is not set.\n */\nexport function stopPreviousKeyframeAnimationAndRestore(el) {\n  // Stop previous keyframe animation.\n  el.stopAnimation('keyframe');\n  // Restore\n  el.attr(getStateToRestore(el));\n}\nexport function applyKeyframeAnimation(el, animationOpts, animatableModel) {\n  if (!animatableModel.isAnimationEnabled() || !animationOpts) {\n    return;\n  }\n  if (isArray(animationOpts)) {\n    each(animationOpts, function (singleAnimationOpts) {\n      applyKeyframeAnimation(el, singleAnimationOpts, animatableModel);\n    });\n    return;\n  }\n  var keyframes = animationOpts.keyframes;\n  var duration = animationOpts.duration;\n  if (animatableModel && duration == null) {\n    // Default to use duration of config.\n    // NOTE: animation config from payload will be ignored because they are mainly for transitions.\n    var config = getAnimationConfig('enter', animatableModel, 0);\n    duration = config && config.duration;\n  }\n  if (!keyframes || !duration) {\n    return;\n  }\n  var stateToRestore = getStateToRestore(el);\n  each(ELEMENT_ANIMATABLE_PROPS, function (targetPropName) {\n    if (targetPropName && !el[targetPropName]) {\n      return;\n    }\n    var animator;\n    var endFrameIsSet = false;\n    // Sort keyframes by percent.\n    keyframes.sort(function (a, b) {\n      return a.percent - b.percent;\n    });\n    each(keyframes, function (kf) {\n      // Stop current animation.\n      var animators = el.animators;\n      var kfValues = targetPropName ? kf[targetPropName] : kf;\n      if (process.env.NODE_ENV !== 'production') {\n        if (kf.percent >= 1) {\n          endFrameIsSet = true;\n        }\n      }\n      if (!kfValues) {\n        return;\n      }\n      var propKeys = keys(kfValues);\n      if (!targetPropName) {\n        // PENDING performance?\n        propKeys = filter(propKeys, function (key) {\n          return indexOf(KEYFRAME_EXCLUDE_KEYS, key) < 0;\n        });\n      }\n      if (!propKeys.length) {\n        return;\n      }\n      if (!animator) {\n        animator = el.animate(targetPropName, animationOpts.loop, true);\n        animator.scope = 'keyframe';\n      }\n      for (var i = 0; i < animators.length; i++) {\n        // Stop all other animation that is not keyframe.\n        if (animators[i] !== animator && animators[i].targetName === animator.targetName) {\n          animators[i].stopTracks(propKeys);\n        }\n      }\n      targetPropName && (stateToRestore[targetPropName] = stateToRestore[targetPropName] || {});\n      var savedTarget = targetPropName ? stateToRestore[targetPropName] : stateToRestore;\n      each(propKeys, function (key) {\n        // Save original value.\n        savedTarget[key] = ((targetPropName ? el[targetPropName] : el) || {})[key];\n      });\n      animator.whenWithKeys(duration * kf.percent, kfValues, propKeys, kf.easing);\n    });\n    if (!animator) {\n      return;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      if (!endFrameIsSet) {\n        warn('End frame with percent: 1 is missing in the keyframeAnimation.', true);\n      }\n    }\n    animator.delay(animationOpts.delay || 0).duration(duration).start(animationOpts.easing);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner, normalizeToArray } from '../util/model.js';\nimport { assert, bind, each, eqNaN, extend, hasOwn, indexOf, isArrayLike, keys, reduce } from 'zrender/lib/core/util.js';\nimport { cloneValue } from 'zrender/lib/animation/Animator.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nimport { getAnimationConfig } from './basicTransition.js';\nimport { Path } from '../util/graphic.js';\nimport { warn } from '../util/log.js';\nimport { TRANSFORMABLE_PROPS } from 'zrender/lib/core/Transformable.js';\nvar LEGACY_TRANSFORM_PROPS_MAP = {\n  position: ['x', 'y'],\n  scale: ['scaleX', 'scaleY'],\n  origin: ['originX', 'originY']\n};\nvar LEGACY_TRANSFORM_PROPS = keys(LEGACY_TRANSFORM_PROPS_MAP);\nvar TRANSFORM_PROPS_MAP = reduce(TRANSFORMABLE_PROPS, function (obj, key) {\n  obj[key] = 1;\n  return obj;\n}, {});\nvar transformPropNamesStr = TRANSFORMABLE_PROPS.join(', ');\n// '' means root\nexport var ELEMENT_ANIMATABLE_PROPS = ['', 'style', 'shape', 'extra'];\n;\nvar transitionInnerStore = makeInner();\n;\nfunction getElementAnimationConfig(animationType, el, elOption, parentModel, dataIndex) {\n  var animationProp = animationType + \"Animation\";\n  var config = getAnimationConfig(animationType, parentModel, dataIndex) || {};\n  var userDuring = transitionInnerStore(el).userDuring;\n  // Only set when duration is > 0 and it's need to be animated.\n  if (config.duration > 0) {\n    // For simplicity, if during not specified, the previous during will not work any more.\n    config.during = userDuring ? bind(duringCall, {\n      el: el,\n      userDuring: userDuring\n    }) : null;\n    config.setToFinal = true;\n    config.scope = animationType;\n  }\n  extend(config, elOption[animationProp]);\n  return config;\n}\nexport function applyUpdateTransition(el, elOption, animatableModel, opts) {\n  opts = opts || {};\n  var dataIndex = opts.dataIndex,\n    isInit = opts.isInit,\n    clearStyle = opts.clearStyle;\n  var hasAnimation = animatableModel.isAnimationEnabled();\n  // Save the meta info for further morphing. Like apply on the sub morphing elements.\n  var store = transitionInnerStore(el);\n  var styleOpt = elOption.style;\n  store.userDuring = elOption.during;\n  var transFromProps = {};\n  var propsToSet = {};\n  prepareTransformAllPropsFinal(el, elOption, propsToSet);\n  prepareShapeOrExtraAllPropsFinal('shape', elOption, propsToSet);\n  prepareShapeOrExtraAllPropsFinal('extra', elOption, propsToSet);\n  if (!isInit && hasAnimation) {\n    prepareTransformTransitionFrom(el, elOption, transFromProps);\n    prepareShapeOrExtraTransitionFrom('shape', el, elOption, transFromProps);\n    prepareShapeOrExtraTransitionFrom('extra', el, elOption, transFromProps);\n    prepareStyleTransitionFrom(el, elOption, styleOpt, transFromProps);\n  }\n  propsToSet.style = styleOpt;\n  applyPropsDirectly(el, propsToSet, clearStyle);\n  applyMiscProps(el, elOption);\n  if (hasAnimation) {\n    if (isInit) {\n      var enterFromProps_1 = {};\n      each(ELEMENT_ANIMATABLE_PROPS, function (propName) {\n        var prop = propName ? elOption[propName] : elOption;\n        if (prop && prop.enterFrom) {\n          if (propName) {\n            enterFromProps_1[propName] = enterFromProps_1[propName] || {};\n          }\n          extend(propName ? enterFromProps_1[propName] : enterFromProps_1, prop.enterFrom);\n        }\n      });\n      var config = getElementAnimationConfig('enter', el, elOption, animatableModel, dataIndex);\n      if (config.duration > 0) {\n        el.animateFrom(enterFromProps_1, config);\n      }\n    } else {\n      applyPropsTransition(el, elOption, dataIndex || 0, animatableModel, transFromProps);\n    }\n  }\n  // Store leave to be used in leave transition.\n  updateLeaveTo(el, elOption);\n  styleOpt ? el.dirty() : el.markRedraw();\n}\nexport function updateLeaveTo(el, elOption) {\n  // Try merge to previous set leaveTo\n  var leaveToProps = transitionInnerStore(el).leaveToProps;\n  for (var i = 0; i < ELEMENT_ANIMATABLE_PROPS.length; i++) {\n    var propName = ELEMENT_ANIMATABLE_PROPS[i];\n    var prop = propName ? elOption[propName] : elOption;\n    if (prop && prop.leaveTo) {\n      if (!leaveToProps) {\n        leaveToProps = transitionInnerStore(el).leaveToProps = {};\n      }\n      if (propName) {\n        leaveToProps[propName] = leaveToProps[propName] || {};\n      }\n      extend(propName ? leaveToProps[propName] : leaveToProps, prop.leaveTo);\n    }\n  }\n}\nexport function applyLeaveTransition(el, elOption, animatableModel, onRemove) {\n  if (el) {\n    var parent_1 = el.parent;\n    var leaveToProps = transitionInnerStore(el).leaveToProps;\n    if (leaveToProps) {\n      // TODO TODO use leave after leaveAnimation in series is introduced\n      // TODO Data index?\n      var config = getElementAnimationConfig('update', el, elOption, animatableModel, 0);\n      config.done = function () {\n        parent_1.remove(el);\n        onRemove && onRemove();\n      };\n      el.animateTo(leaveToProps, config);\n    } else {\n      parent_1.remove(el);\n      onRemove && onRemove();\n    }\n  }\n}\nexport function isTransitionAll(transition) {\n  return transition === 'all';\n}\nfunction applyPropsDirectly(el,\n// Can be null/undefined\nallPropsFinal, clearStyle) {\n  var styleOpt = allPropsFinal.style;\n  if (!el.isGroup && styleOpt) {\n    if (clearStyle) {\n      el.useStyle({});\n      // When style object changed, how to trade the existing animation?\n      // It is probably complicated and not needed to cover all the cases.\n      // But still need consider the case:\n      // (1) When using init animation on `style.opacity`, and before the animation\n      //     ended users triggers an update by mousewhel. At that time the init\n      //     animation should better be continued rather than terminated.\n      //     So after `useStyle` called, we should change the animation target manually\n      //     to continue the effect of the init animation.\n      // (2) PENDING: If the previous animation targeted at a `val1`, and currently we need\n      //     to update the value to `val2` and no animation declared, should be terminate\n      //     the previous animation or just modify the target of the animation?\n      //     Therotically That will happen not only on `style` but also on `shape` and\n      //     `transfrom` props. But we haven't handle this case at present yet.\n      // (3) PENDING: Is it proper to visit `animators` and `targetName`?\n      var animators = el.animators;\n      for (var i = 0; i < animators.length; i++) {\n        var animator = animators[i];\n        // targetName is the \"topKey\".\n        if (animator.targetName === 'style') {\n          animator.changeTarget(el.style);\n        }\n      }\n    }\n    el.setStyle(styleOpt);\n  }\n  if (allPropsFinal) {\n    // Not set style here.\n    allPropsFinal.style = null;\n    // Set el to the final state firstly.\n    allPropsFinal && el.attr(allPropsFinal);\n    allPropsFinal.style = styleOpt;\n  }\n}\nfunction applyPropsTransition(el, elOption, dataIndex, model,\n// Can be null/undefined\ntransFromProps) {\n  if (transFromProps) {\n    var config = getElementAnimationConfig('update', el, elOption, model, dataIndex);\n    if (config.duration > 0) {\n      el.animateFrom(transFromProps, config);\n    }\n  }\n}\nfunction applyMiscProps(el, elOption) {\n  // Merge by default.\n  hasOwn(elOption, 'silent') && (el.silent = elOption.silent);\n  hasOwn(elOption, 'ignore') && (el.ignore = elOption.ignore);\n  if (el instanceof Displayable) {\n    hasOwn(elOption, 'invisible') && (el.invisible = elOption.invisible);\n  }\n  if (el instanceof Path) {\n    hasOwn(elOption, 'autoBatch') && (el.autoBatch = elOption.autoBatch);\n  }\n}\n// Use it to avoid it be exposed to user.\nvar tmpDuringScope = {};\nvar transitionDuringAPI = {\n  // Usually other props do not need to be changed in animation during.\n  setTransform: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(hasOwn(TRANSFORM_PROPS_MAP, key), 'Only ' + transformPropNamesStr + ' available in `setTransform`.');\n    }\n    tmpDuringScope.el[key] = val;\n    return this;\n  },\n  getTransform: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(hasOwn(TRANSFORM_PROPS_MAP, key), 'Only ' + transformPropNamesStr + ' available in `getTransform`.');\n    }\n    return tmpDuringScope.el[key];\n  },\n  setShape: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n    var el = tmpDuringScope.el;\n    var shape = el.shape || (el.shape = {});\n    shape[key] = val;\n    el.dirtyShape && el.dirtyShape();\n    return this;\n  },\n  getShape: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n    var shape = tmpDuringScope.el.shape;\n    if (shape) {\n      return shape[key];\n    }\n  },\n  setStyle: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n    var el = tmpDuringScope.el;\n    var style = el.style;\n    if (style) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (eqNaN(val)) {\n          warn('style.' + key + ' must not be assigned with NaN.');\n        }\n      }\n      style[key] = val;\n      el.dirtyStyle && el.dirtyStyle();\n    }\n    return this;\n  },\n  getStyle: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n    var style = tmpDuringScope.el.style;\n    if (style) {\n      return style[key];\n    }\n  },\n  setExtra: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n    var extra = tmpDuringScope.el.extra || (tmpDuringScope.el.extra = {});\n    extra[key] = val;\n    return this;\n  },\n  getExtra: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n    var extra = tmpDuringScope.el.extra;\n    if (extra) {\n      return extra[key];\n    }\n  }\n};\nfunction assertNotReserved(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (key === 'transition' || key === 'enterFrom' || key === 'leaveTo') {\n      throw new Error('key must not be \"' + key + '\"');\n    }\n  }\n}\nfunction duringCall() {\n  // Do not provide \"percent\" until some requirements come.\n  // Because consider thies case:\n  // enterFrom: {x: 100, y: 30}, transition: 'x'.\n  // And enter duration is different from update duration.\n  // Thus it might be confused about the meaning of \"percent\" in during callback.\n  var scope = this;\n  var el = scope.el;\n  if (!el) {\n    return;\n  }\n  // If el is remove from zr by reason like legend, during still need to called,\n  // because el will be added back to zr and the prop value should not be incorrect.\n  var latestUserDuring = transitionInnerStore(el).userDuring;\n  var scopeUserDuring = scope.userDuring;\n  // Ensured a during is only called once in each animation frame.\n  // If a during is called multiple times in one frame, maybe some users' calculation logic\n  // might be wrong (not sure whether this usage exists).\n  // The case of a during might be called twice can be: by default there is a animator for\n  // 'x', 'y' when init. Before the init animation finished, call `setOption` to start\n  // another animators for 'style'/'shape'/'extra'.\n  if (latestUserDuring !== scopeUserDuring) {\n    // release\n    scope.el = scope.userDuring = null;\n    return;\n  }\n  tmpDuringScope.el = el;\n  // Give no `this` to user in \"during\" calling.\n  scopeUserDuring(transitionDuringAPI);\n  // FIXME: if in future meet the case that some prop will be both modified in `during` and `state`,\n  // consider the issue that the prop might be incorrect when return to \"normal\" state.\n}\n\nfunction prepareShapeOrExtraTransitionFrom(mainAttr, fromEl, elOption, transFromProps) {\n  var attrOpt = elOption[mainAttr];\n  if (!attrOpt) {\n    return;\n  }\n  var elPropsInAttr = fromEl[mainAttr];\n  var transFromPropsInAttr;\n  if (elPropsInAttr) {\n    var transition = elOption.transition;\n    var attrTransition = attrOpt.transition;\n    if (attrTransition) {\n      !transFromPropsInAttr && (transFromPropsInAttr = transFromProps[mainAttr] = {});\n      if (isTransitionAll(attrTransition)) {\n        extend(transFromPropsInAttr, elPropsInAttr);\n      } else {\n        var transitionKeys = normalizeToArray(attrTransition);\n        for (var i = 0; i < transitionKeys.length; i++) {\n          var key = transitionKeys[i];\n          var elVal = elPropsInAttr[key];\n          transFromPropsInAttr[key] = elVal;\n        }\n      }\n    } else if (isTransitionAll(transition) || indexOf(transition, mainAttr) >= 0) {\n      !transFromPropsInAttr && (transFromPropsInAttr = transFromProps[mainAttr] = {});\n      var elPropsInAttrKeys = keys(elPropsInAttr);\n      for (var i = 0; i < elPropsInAttrKeys.length; i++) {\n        var key = elPropsInAttrKeys[i];\n        var elVal = elPropsInAttr[key];\n        if (isNonStyleTransitionEnabled(attrOpt[key], elVal)) {\n          transFromPropsInAttr[key] = elVal;\n        }\n      }\n    }\n  }\n}\nfunction prepareShapeOrExtraAllPropsFinal(mainAttr, elOption, allProps) {\n  var attrOpt = elOption[mainAttr];\n  if (!attrOpt) {\n    return;\n  }\n  var allPropsInAttr = allProps[mainAttr] = {};\n  var keysInAttr = keys(attrOpt);\n  for (var i = 0; i < keysInAttr.length; i++) {\n    var key = keysInAttr[i];\n    // To avoid share one object with different element, and\n    // to avoid user modify the object inexpectedly, have to clone.\n    allPropsInAttr[key] = cloneValue(attrOpt[key]);\n  }\n}\nfunction prepareTransformTransitionFrom(el, elOption, transFromProps) {\n  var transition = elOption.transition;\n  var transitionKeys = isTransitionAll(transition) ? TRANSFORMABLE_PROPS : normalizeToArray(transition || []);\n  for (var i = 0; i < transitionKeys.length; i++) {\n    var key = transitionKeys[i];\n    if (key === 'style' || key === 'shape' || key === 'extra') {\n      continue;\n    }\n    var elVal = el[key];\n    if (process.env.NODE_ENV !== 'production') {\n      checkTransformPropRefer(key, 'el.transition');\n    }\n    // Do not clone, animator will perform that clone.\n    transFromProps[key] = elVal;\n  }\n}\nfunction prepareTransformAllPropsFinal(el, elOption, allProps) {\n  for (var i = 0; i < LEGACY_TRANSFORM_PROPS.length; i++) {\n    var legacyName = LEGACY_TRANSFORM_PROPS[i];\n    var xyName = LEGACY_TRANSFORM_PROPS_MAP[legacyName];\n    var legacyArr = elOption[legacyName];\n    if (legacyArr) {\n      allProps[xyName[0]] = legacyArr[0];\n      allProps[xyName[1]] = legacyArr[1];\n    }\n  }\n  for (var i = 0; i < TRANSFORMABLE_PROPS.length; i++) {\n    var key = TRANSFORMABLE_PROPS[i];\n    if (elOption[key] != null) {\n      allProps[key] = elOption[key];\n    }\n  }\n}\nfunction prepareStyleTransitionFrom(fromEl, elOption, styleOpt, transFromProps) {\n  if (!styleOpt) {\n    return;\n  }\n  var fromElStyle = fromEl.style;\n  var transFromStyleProps;\n  if (fromElStyle) {\n    var styleTransition = styleOpt.transition;\n    var elTransition = elOption.transition;\n    if (styleTransition && !isTransitionAll(styleTransition)) {\n      var transitionKeys = normalizeToArray(styleTransition);\n      !transFromStyleProps && (transFromStyleProps = transFromProps.style = {});\n      for (var i = 0; i < transitionKeys.length; i++) {\n        var key = transitionKeys[i];\n        var elVal = fromElStyle[key];\n        // Do not clone, see `checkNonStyleTansitionRefer`.\n        transFromStyleProps[key] = elVal;\n      }\n    } else if (fromEl.getAnimationStyleProps && (isTransitionAll(elTransition) || isTransitionAll(styleTransition) || indexOf(elTransition, 'style') >= 0)) {\n      var animationProps = fromEl.getAnimationStyleProps();\n      var animationStyleProps = animationProps ? animationProps.style : null;\n      if (animationStyleProps) {\n        !transFromStyleProps && (transFromStyleProps = transFromProps.style = {});\n        var styleKeys = keys(styleOpt);\n        for (var i = 0; i < styleKeys.length; i++) {\n          var key = styleKeys[i];\n          if (animationStyleProps[key]) {\n            var elVal = fromElStyle[key];\n            transFromStyleProps[key] = elVal;\n          }\n        }\n      }\n    }\n  }\n}\nfunction isNonStyleTransitionEnabled(optVal, elVal) {\n  // The same as `checkNonStyleTansitionRefer`.\n  return !isArrayLike(optVal) ? optVal != null && isFinite(optVal) : optVal !== elVal;\n}\nvar checkTransformPropRefer;\nif (process.env.NODE_ENV !== 'production') {\n  checkTransformPropRefer = function (key, usedIn) {\n    if (!hasOwn(TRANSFORM_PROPS_MAP, key)) {\n      warn('Prop `' + key + '` is not a permitted in `' + usedIn + '`. ' + 'Only `' + keys(TRANSFORM_PROPS_MAP).join('`, `') + '` are permitted.');\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Line path for bezier and straight line draw\n */\nimport * as graphic from '../../util/graphic.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nvar straightLineProto = graphic.Line.prototype;\nvar bezierCurveProto = graphic.BezierCurve.prototype;\nvar StraightLineShape = /** @class */function () {\n  function StraightLineShape() {\n    // Start point\n    this.x1 = 0;\n    this.y1 = 0;\n    // End point\n    this.x2 = 0;\n    this.y2 = 0;\n    this.percent = 1;\n  }\n  return StraightLineShape;\n}();\nvar CurveShape = /** @class */function (_super) {\n  __extends(CurveShape, _super);\n  function CurveShape() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  return CurveShape;\n}(StraightLineShape);\nfunction isStraightLine(shape) {\n  return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n}\nvar ECLinePath = /** @class */function (_super) {\n  __extends(ECLinePath, _super);\n  function ECLinePath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'ec-line';\n    return _this;\n  }\n  ECLinePath.prototype.getDefaultStyle = function () {\n    return {\n      stroke: '#000',\n      fill: null\n    };\n  };\n  ECLinePath.prototype.getDefaultShape = function () {\n    return new StraightLineShape();\n  };\n  ECLinePath.prototype.buildPath = function (ctx, shape) {\n    if (isStraightLine(shape)) {\n      straightLineProto.buildPath.call(this, ctx, shape);\n    } else {\n      bezierCurveProto.buildPath.call(this, ctx, shape);\n    }\n  };\n  ECLinePath.prototype.pointAt = function (t) {\n    if (isStraightLine(this.shape)) {\n      return straightLineProto.pointAt.call(this, t);\n    } else {\n      return bezierCurveProto.pointAt.call(this, t);\n    }\n  };\n  ECLinePath.prototype.tangentAt = function (t) {\n    var shape = this.shape;\n    var p = isStraightLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : bezierCurveProto.tangentAt.call(this, t);\n    return vec2.normalize(p, p);\n  };\n  return ECLinePath;\n}(graphic.Path);\nexport default ECLinePath;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { isArray, each } from 'zrender/lib/core/util.js';\nimport * as vector from 'zrender/lib/core/vector.js';\nimport * as symbolUtil from '../../util/symbol.js';\nimport ECLinePath from './LinePath.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis, enterEmphasis, leaveEmphasis, SPECIAL_STATES } from '../../util/states.js';\nimport { getLabelStatesModels, setLabelStyle } from '../../label/labelStyle.js';\nimport { round } from '../../util/number.js';\nvar SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\nfunction makeSymbolTypeKey(symbolCategory) {\n  return '_' + symbolCategory + 'Type';\n}\nfunction makeSymbolTypeValue(name, lineData, idx) {\n  var symbolType = lineData.getItemVisual(idx, name);\n  if (!symbolType || symbolType === 'none') {\n    return symbolType;\n  }\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n  var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\n  var symbolOffset = lineData.getItemVisual(idx, name + 'Offset');\n  var symbolKeepAspect = lineData.getItemVisual(idx, name + 'KeepAspect');\n  var symbolSizeArr = symbolUtil.normalizeSymbolSize(symbolSize);\n  var symbolOffsetArr = symbolUtil.normalizeSymbolOffset(symbolOffset || 0, symbolSizeArr);\n  return symbolType + symbolSizeArr + symbolOffsetArr + (symbolRotate || '') + (symbolKeepAspect || '');\n}\n/**\n * @inner\n */\nfunction createSymbol(name, lineData, idx) {\n  var symbolType = lineData.getItemVisual(idx, name);\n  if (!symbolType || symbolType === 'none') {\n    return;\n  }\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n  var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\n  var symbolOffset = lineData.getItemVisual(idx, name + 'Offset');\n  var symbolKeepAspect = lineData.getItemVisual(idx, name + 'KeepAspect');\n  var symbolSizeArr = symbolUtil.normalizeSymbolSize(symbolSize);\n  var symbolOffsetArr = symbolUtil.normalizeSymbolOffset(symbolOffset || 0, symbolSizeArr);\n  var symbolPath = symbolUtil.createSymbol(symbolType, -symbolSizeArr[0] / 2 + symbolOffsetArr[0], -symbolSizeArr[1] / 2 + symbolOffsetArr[1], symbolSizeArr[0], symbolSizeArr[1], null, symbolKeepAspect);\n  symbolPath.__specifiedRotation = symbolRotate == null || isNaN(symbolRotate) ? void 0 : +symbolRotate * Math.PI / 180 || 0;\n  symbolPath.name = name;\n  return symbolPath;\n}\nfunction createLine(points) {\n  var line = new ECLinePath({\n    name: 'line',\n    subPixelOptimize: true\n  });\n  setLinePoints(line.shape, points);\n  return line;\n}\nfunction setLinePoints(targetShape, points) {\n  targetShape.x1 = points[0][0];\n  targetShape.y1 = points[0][1];\n  targetShape.x2 = points[1][0];\n  targetShape.y2 = points[1][1];\n  targetShape.percent = 1;\n  var cp1 = points[2];\n  if (cp1) {\n    targetShape.cpx1 = cp1[0];\n    targetShape.cpy1 = cp1[1];\n  } else {\n    targetShape.cpx1 = NaN;\n    targetShape.cpy1 = NaN;\n  }\n}\nvar Line = /** @class */function (_super) {\n  __extends(Line, _super);\n  function Line(lineData, idx, seriesScope) {\n    var _this = _super.call(this) || this;\n    _this._createLine(lineData, idx, seriesScope);\n    return _this;\n  }\n  Line.prototype._createLine = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var linePoints = lineData.getItemLayout(idx);\n    var line = createLine(linePoints);\n    line.shape.percent = 0;\n    graphic.initProps(line, {\n      shape: {\n        percent: 1\n      }\n    }, seriesModel, idx);\n    this.add(line);\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = createSymbol(symbolCategory, lineData, idx);\n      // symbols must added after line to make sure\n      // it will be updated after line#update.\n      // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n      this.add(symbol);\n      this[makeSymbolTypeKey(symbolCategory)] = makeSymbolTypeValue(symbolCategory, lineData, idx);\n    }, this);\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n  // TODO More strict on the List type in parameters?\n  Line.prototype.updateData = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var linePoints = lineData.getItemLayout(idx);\n    var target = {\n      shape: {}\n    };\n    setLinePoints(target.shape, linePoints);\n    graphic.updateProps(line, target, seriesModel, idx);\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbolType = makeSymbolTypeValue(symbolCategory, lineData, idx);\n      var key = makeSymbolTypeKey(symbolCategory);\n      // Symbol changed\n      if (this[key] !== symbolType) {\n        this.remove(this.childOfName(symbolCategory));\n        var symbol = createSymbol(symbolCategory, lineData, idx);\n        this.add(symbol);\n      }\n      this[key] = symbolType;\n    }, this);\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n  ;\n  Line.prototype.getLinePath = function () {\n    return this.childAt(0);\n  };\n  Line.prototype._updateCommonStl = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var emphasisLineStyle = seriesScope && seriesScope.emphasisLineStyle;\n    var blurLineStyle = seriesScope && seriesScope.blurLineStyle;\n    var selectLineStyle = seriesScope && seriesScope.selectLineStyle;\n    var labelStatesModels = seriesScope && seriesScope.labelStatesModels;\n    var emphasisDisabled = seriesScope && seriesScope.emphasisDisabled;\n    var focus = seriesScope && seriesScope.focus;\n    var blurScope = seriesScope && seriesScope.blurScope;\n    // Optimization for large dataset\n    if (!seriesScope || lineData.hasItemOption) {\n      var itemModel = lineData.getItemModel(idx);\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisLineStyle = emphasisModel.getModel('lineStyle').getLineStyle();\n      blurLineStyle = itemModel.getModel(['blur', 'lineStyle']).getLineStyle();\n      selectLineStyle = itemModel.getModel(['select', 'lineStyle']).getLineStyle();\n      emphasisDisabled = emphasisModel.get('disabled');\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n      labelStatesModels = getLabelStatesModels(itemModel);\n    }\n    var lineStyle = lineData.getItemVisual(idx, 'style');\n    var visualColor = lineStyle.stroke;\n    line.useStyle(lineStyle);\n    line.style.fill = null;\n    line.style.strokeNoScale = true;\n    line.ensureState('emphasis').style = emphasisLineStyle;\n    line.ensureState('blur').style = blurLineStyle;\n    line.ensureState('select').style = selectLineStyle;\n    // Update symbol\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = this.childOfName(symbolCategory);\n      if (symbol) {\n        // Share opacity and color with line.\n        symbol.setColor(visualColor);\n        symbol.style.opacity = lineStyle.opacity;\n        for (var i = 0; i < SPECIAL_STATES.length; i++) {\n          var stateName = SPECIAL_STATES[i];\n          var lineState = line.getState(stateName);\n          if (lineState) {\n            var lineStateStyle = lineState.style || {};\n            var state = symbol.ensureState(stateName);\n            var stateStyle = state.style || (state.style = {});\n            if (lineStateStyle.stroke != null) {\n              stateStyle[symbol.__isEmptyBrush ? 'stroke' : 'fill'] = lineStateStyle.stroke;\n            }\n            if (lineStateStyle.opacity != null) {\n              stateStyle.opacity = lineStateStyle.opacity;\n            }\n          }\n        }\n        symbol.markRedraw();\n      }\n    }, this);\n    var rawVal = seriesModel.getRawValue(idx);\n    setLabelStyle(this, labelStatesModels, {\n      labelDataIndex: idx,\n      labelFetcher: {\n        getFormattedLabel: function (dataIndex, stateName) {\n          return seriesModel.getFormattedLabel(dataIndex, stateName, lineData.dataType);\n        }\n      },\n      inheritColor: visualColor || '#000',\n      defaultOpacity: lineStyle.opacity,\n      defaultText: (rawVal == null ? lineData.getName(idx) : isFinite(rawVal) ? round(rawVal) : rawVal) + ''\n    });\n    var label = this.getTextContent();\n    // Always set `textStyle` even if `normalStyle.text` is null, because default\n    // values have to be set on `normalStyle`.\n    if (label) {\n      var labelNormalModel = labelStatesModels.normal;\n      label.__align = label.style.align;\n      label.__verticalAlign = label.style.verticalAlign;\n      // 'start', 'middle', 'end'\n      label.__position = labelNormalModel.get('position') || 'middle';\n      var distance = labelNormalModel.get('distance');\n      if (!isArray(distance)) {\n        distance = [distance, distance];\n      }\n      label.__labelDistance = distance;\n    }\n    this.setTextConfig({\n      position: null,\n      local: true,\n      inside: false // Can't be inside for stroke element.\n    });\n\n    toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);\n  };\n  Line.prototype.highlight = function () {\n    enterEmphasis(this);\n  };\n  Line.prototype.downplay = function () {\n    leaveEmphasis(this);\n  };\n  Line.prototype.updateLayout = function (lineData, idx) {\n    this.setLinePoints(lineData.getItemLayout(idx));\n  };\n  Line.prototype.setLinePoints = function (points) {\n    var linePath = this.childOfName('line');\n    setLinePoints(linePath.shape, points);\n    linePath.dirty();\n  };\n  Line.prototype.beforeUpdate = function () {\n    var lineGroup = this;\n    var symbolFrom = lineGroup.childOfName('fromSymbol');\n    var symbolTo = lineGroup.childOfName('toSymbol');\n    var label = lineGroup.getTextContent();\n    // Quick reject\n    if (!symbolFrom && !symbolTo && (!label || label.ignore)) {\n      return;\n    }\n    var invScale = 1;\n    var parentNode = this.parent;\n    while (parentNode) {\n      if (parentNode.scaleX) {\n        invScale /= parentNode.scaleX;\n      }\n      parentNode = parentNode.parent;\n    }\n    var line = lineGroup.childOfName('line');\n    // If line not changed\n    // FIXME Parent scale changed\n    if (!this.__dirty && !line.__dirty) {\n      return;\n    }\n    var percent = line.shape.percent;\n    var fromPos = line.pointAt(0);\n    var toPos = line.pointAt(percent);\n    var d = vector.sub([], toPos, fromPos);\n    vector.normalize(d, d);\n    function setSymbolRotation(symbol, percent) {\n      // Fix #12388\n      // when symbol is set to be 'arrow' in markLine,\n      // symbolRotate value will be ignored, and compulsively use tangent angle.\n      // rotate by default if symbol rotation is not specified\n      var specifiedRotation = symbol.__specifiedRotation;\n      if (specifiedRotation == null) {\n        var tangent = line.tangentAt(percent);\n        symbol.attr('rotation', (percent === 1 ? -1 : 1) * Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n      } else {\n        symbol.attr('rotation', specifiedRotation);\n      }\n    }\n    if (symbolFrom) {\n      symbolFrom.setPosition(fromPos);\n      setSymbolRotation(symbolFrom, 0);\n      symbolFrom.scaleX = symbolFrom.scaleY = invScale * percent;\n      symbolFrom.markRedraw();\n    }\n    if (symbolTo) {\n      symbolTo.setPosition(toPos);\n      setSymbolRotation(symbolTo, 1);\n      symbolTo.scaleX = symbolTo.scaleY = invScale * percent;\n      symbolTo.markRedraw();\n    }\n    if (label && !label.ignore) {\n      label.x = label.y = 0;\n      label.originX = label.originY = 0;\n      var textAlign = void 0;\n      var textVerticalAlign = void 0;\n      var distance = label.__labelDistance;\n      var distanceX = distance[0] * invScale;\n      var distanceY = distance[1] * invScale;\n      var halfPercent = percent / 2;\n      var tangent = line.tangentAt(halfPercent);\n      var n = [tangent[1], -tangent[0]];\n      var cp = line.pointAt(halfPercent);\n      if (n[1] > 0) {\n        n[0] = -n[0];\n        n[1] = -n[1];\n      }\n      var dir = tangent[0] < 0 ? -1 : 1;\n      if (label.__position !== 'start' && label.__position !== 'end') {\n        var rotation = -Math.atan2(tangent[1], tangent[0]);\n        if (toPos[0] < fromPos[0]) {\n          rotation = Math.PI + rotation;\n        }\n        label.rotation = rotation;\n      }\n      var dy = void 0;\n      switch (label.__position) {\n        case 'insideStartTop':\n        case 'insideMiddleTop':\n        case 'insideEndTop':\n        case 'middle':\n          dy = -distanceY;\n          textVerticalAlign = 'bottom';\n          break;\n        case 'insideStartBottom':\n        case 'insideMiddleBottom':\n        case 'insideEndBottom':\n          dy = distanceY;\n          textVerticalAlign = 'top';\n          break;\n        default:\n          dy = 0;\n          textVerticalAlign = 'middle';\n      }\n      switch (label.__position) {\n        case 'end':\n          label.x = d[0] * distanceX + toPos[0];\n          label.y = d[1] * distanceY + toPos[1];\n          textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\n          break;\n        case 'start':\n          label.x = -d[0] * distanceX + fromPos[0];\n          label.y = -d[1] * distanceY + fromPos[1];\n          textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\n          break;\n        case 'insideStartTop':\n        case 'insideStart':\n        case 'insideStartBottom':\n          label.x = distanceX * dir + fromPos[0];\n          label.y = fromPos[1] + dy;\n          textAlign = tangent[0] < 0 ? 'right' : 'left';\n          label.originX = -distanceX * dir;\n          label.originY = -dy;\n          break;\n        case 'insideMiddleTop':\n        case 'insideMiddle':\n        case 'insideMiddleBottom':\n        case 'middle':\n          label.x = cp[0];\n          label.y = cp[1] + dy;\n          textAlign = 'center';\n          label.originY = -dy;\n          break;\n        case 'insideEndTop':\n        case 'insideEnd':\n        case 'insideEndBottom':\n          label.x = -distanceX * dir + toPos[0];\n          label.y = toPos[1] + dy;\n          textAlign = tangent[0] >= 0 ? 'right' : 'left';\n          label.originX = distanceX * dir;\n          label.originY = -dy;\n          break;\n      }\n      label.scaleX = label.scaleY = invScale;\n      label.setStyle({\n        // Use the user specified text align and baseline first\n        verticalAlign: label.__verticalAlign || textVerticalAlign,\n        align: label.__align || textAlign\n      });\n    }\n  };\n  return Line;\n}(graphic.Group);\nexport default Line;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic.js';\nimport LineGroup from './Line.js';\nimport { getLabelStatesModels } from '../../label/labelStyle.js';\nvar LineDraw = /** @class */function () {\n  function LineDraw(LineCtor) {\n    this.group = new graphic.Group();\n    this._LineCtor = LineCtor || LineGroup;\n  }\n  LineDraw.prototype.updateData = function (lineData) {\n    var _this = this;\n    // Remove progressive els.\n    this._progressiveEls = null;\n    var lineDraw = this;\n    var group = lineDraw.group;\n    var oldLineData = lineDraw._lineData;\n    lineDraw._lineData = lineData;\n    // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n    if (!oldLineData) {\n      group.removeAll();\n    }\n    var seriesScope = makeSeriesScope(lineData);\n    lineData.diff(oldLineData).add(function (idx) {\n      _this._doAdd(lineData, idx, seriesScope);\n    }).update(function (newIdx, oldIdx) {\n      _this._doUpdate(oldLineData, lineData, oldIdx, newIdx, seriesScope);\n    }).remove(function (idx) {\n      group.remove(oldLineData.getItemGraphicEl(idx));\n    }).execute();\n  };\n  ;\n  LineDraw.prototype.updateLayout = function () {\n    var lineData = this._lineData;\n    // Do not support update layout in incremental mode.\n    if (!lineData) {\n      return;\n    }\n    lineData.eachItemGraphicEl(function (el, idx) {\n      el.updateLayout(lineData, idx);\n    }, this);\n  };\n  ;\n  LineDraw.prototype.incrementalPrepareUpdate = function (lineData) {\n    this._seriesScope = makeSeriesScope(lineData);\n    this._lineData = null;\n    this.group.removeAll();\n  };\n  ;\n  LineDraw.prototype.incrementalUpdate = function (taskParams, lineData) {\n    this._progressiveEls = [];\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup && !isEffectObject(el)) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var itemLayout = lineData.getItemLayout(idx);\n      if (lineNeedsDraw(itemLayout)) {\n        var el = new this._LineCtor(lineData, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        this.group.add(el);\n        lineData.setItemGraphicEl(idx, el);\n        this._progressiveEls.push(el);\n      }\n    }\n  };\n  ;\n  LineDraw.prototype.remove = function () {\n    this.group.removeAll();\n  };\n  ;\n  LineDraw.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  LineDraw.prototype._doAdd = function (lineData, idx, seriesScope) {\n    var itemLayout = lineData.getItemLayout(idx);\n    if (!lineNeedsDraw(itemLayout)) {\n      return;\n    }\n    var el = new this._LineCtor(lineData, idx, seriesScope);\n    lineData.setItemGraphicEl(idx, el);\n    this.group.add(el);\n  };\n  LineDraw.prototype._doUpdate = function (oldLineData, newLineData, oldIdx, newIdx, seriesScope) {\n    var itemEl = oldLineData.getItemGraphicEl(oldIdx);\n    if (!lineNeedsDraw(newLineData.getItemLayout(newIdx))) {\n      this.group.remove(itemEl);\n      return;\n    }\n    if (!itemEl) {\n      itemEl = new this._LineCtor(newLineData, newIdx, seriesScope);\n    } else {\n      itemEl.updateData(newLineData, newIdx, seriesScope);\n    }\n    newLineData.setItemGraphicEl(newIdx, itemEl);\n    this.group.add(itemEl);\n  };\n  return LineDraw;\n}();\nfunction isEffectObject(el) {\n  return el.animators && el.animators.length > 0;\n}\nfunction makeSeriesScope(lineData) {\n  var hostModel = lineData.hostModel;\n  var emphasisModel = hostModel.getModel('emphasis');\n  return {\n    lineStyle: hostModel.getModel('lineStyle').getLineStyle(),\n    emphasisLineStyle: emphasisModel.getModel(['lineStyle']).getLineStyle(),\n    blurLineStyle: hostModel.getModel(['blur', 'lineStyle']).getLineStyle(),\n    selectLineStyle: hostModel.getModel(['select', 'lineStyle']).getLineStyle(),\n    emphasisDisabled: emphasisModel.get('disabled'),\n    blurScope: emphasisModel.get('blurScope'),\n    focus: emphasisModel.get('focus'),\n    labelStatesModels: getLabelStatesModels(hostModel)\n  };\n}\nfunction isPointNaN(pt) {\n  return isNaN(pt[0]) || isNaN(pt[1]);\n}\nfunction lineNeedsDraw(pts) {\n  return pts && !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n}\nexport default LineDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { createSymbol, normalizeSymbolOffset, normalizeSymbolSize } from '../../util/symbol.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { enterEmphasis, leaveEmphasis, toggleHoverEmphasis } from '../../util/states.js';\nimport { getDefaultLabel } from './labelHelper.js';\nimport { extend } from 'zrender/lib/core/util.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nvar Symbol = /** @class */function (_super) {\n  __extends(Symbol, _super);\n  function Symbol(data, idx, seriesScope, opts) {\n    var _this = _super.call(this) || this;\n    _this.updateData(data, idx, seriesScope, opts);\n    return _this;\n  }\n  Symbol.prototype._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n    // Remove paths created before\n    this.removeAll();\n    // let symbolPath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4150.\n    var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, null, keepAspect);\n    symbolPath.attr({\n      z2: 100,\n      culling: true,\n      scaleX: symbolSize[0] / 2,\n      scaleY: symbolSize[1] / 2\n    });\n    // Rewrite drift method\n    symbolPath.drift = driftSymbol;\n    this._symbolType = symbolType;\n    this.add(symbolPath);\n  };\n  /**\n   * Stop animation\n   * @param {boolean} toLastFrame\n   */\n  Symbol.prototype.stopSymbolAnimation = function (toLastFrame) {\n    this.childAt(0).stopAnimation(null, toLastFrame);\n  };\n  Symbol.prototype.getSymbolType = function () {\n    return this._symbolType;\n  };\n  /**\n   * FIXME:\n   * Caution: This method breaks the encapsulation of this module,\n   * but it indeed brings convenience. So do not use the method\n   * unless you detailedly know all the implements of `Symbol`,\n   * especially animation.\n   *\n   * Get symbol path element.\n   */\n  Symbol.prototype.getSymbolPath = function () {\n    return this.childAt(0);\n  };\n  /**\n   * Highlight symbol\n   */\n  Symbol.prototype.highlight = function () {\n    enterEmphasis(this.childAt(0));\n  };\n  /**\n   * Downplay symbol\n   */\n  Symbol.prototype.downplay = function () {\n    leaveEmphasis(this.childAt(0));\n  };\n  /**\n   * @param {number} zlevel\n   * @param {number} z\n   */\n  Symbol.prototype.setZ = function (zlevel, z) {\n    var symbolPath = this.childAt(0);\n    symbolPath.zlevel = zlevel;\n    symbolPath.z = z;\n  };\n  Symbol.prototype.setDraggable = function (draggable, hasCursorOption) {\n    var symbolPath = this.childAt(0);\n    symbolPath.draggable = draggable;\n    symbolPath.cursor = !hasCursorOption && draggable ? 'move' : symbolPath.cursor;\n  };\n  /**\n   * Update symbol properties\n   */\n  Symbol.prototype.updateData = function (data, idx, seriesScope, opts) {\n    this.silent = false;\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n    var seriesModel = data.hostModel;\n    var symbolSize = Symbol.getSymbolSize(data, idx);\n    var isInit = symbolType !== this._symbolType;\n    var disableAnimation = opts && opts.disableAnimation;\n    if (isInit) {\n      var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n      this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n    } else {\n      var symbolPath = this.childAt(0);\n      symbolPath.silent = false;\n      var target = {\n        scaleX: symbolSize[0] / 2,\n        scaleY: symbolSize[1] / 2\n      };\n      disableAnimation ? symbolPath.attr(target) : graphic.updateProps(symbolPath, target, seriesModel, idx);\n      saveOldStyle(symbolPath);\n    }\n    this._updateCommon(data, idx, symbolSize, seriesScope, opts);\n    if (isInit) {\n      var symbolPath = this.childAt(0);\n      if (!disableAnimation) {\n        var target = {\n          scaleX: this._sizeX,\n          scaleY: this._sizeY,\n          style: {\n            // Always fadeIn. Because it has fadeOut animation when symbol is removed..\n            opacity: symbolPath.style.opacity\n          }\n        };\n        symbolPath.scaleX = symbolPath.scaleY = 0;\n        symbolPath.style.opacity = 0;\n        graphic.initProps(symbolPath, target, seriesModel, idx);\n      }\n    }\n    if (disableAnimation) {\n      // Must stop leave transition manually if don't call initProps or updateProps.\n      this.childAt(0).stopAnimation('leave');\n    }\n  };\n  Symbol.prototype._updateCommon = function (data, idx, symbolSize, seriesScope, opts) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var emphasisItemStyle;\n    var blurItemStyle;\n    var selectItemStyle;\n    var focus;\n    var blurScope;\n    var emphasisDisabled;\n    var labelStatesModels;\n    var hoverScale;\n    var cursorStyle;\n    if (seriesScope) {\n      emphasisItemStyle = seriesScope.emphasisItemStyle;\n      blurItemStyle = seriesScope.blurItemStyle;\n      selectItemStyle = seriesScope.selectItemStyle;\n      focus = seriesScope.focus;\n      blurScope = seriesScope.blurScope;\n      labelStatesModels = seriesScope.labelStatesModels;\n      hoverScale = seriesScope.hoverScale;\n      cursorStyle = seriesScope.cursorStyle;\n      emphasisDisabled = seriesScope.emphasisDisabled;\n    }\n    if (!seriesScope || data.hasItemOption) {\n      var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx);\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisItemStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n      selectItemStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n      blurItemStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n      emphasisDisabled = emphasisModel.get('disabled');\n      labelStatesModels = getLabelStatesModels(itemModel);\n      hoverScale = emphasisModel.getShallow('scale');\n      cursorStyle = itemModel.getShallow('cursor');\n    }\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n    var symbolOffset = normalizeSymbolOffset(data.getItemVisual(idx, 'symbolOffset'), symbolSize);\n    if (symbolOffset) {\n      symbolPath.x = symbolOffset[0];\n      symbolPath.y = symbolOffset[1];\n    }\n    cursorStyle && symbolPath.attr('cursor', cursorStyle);\n    var symbolStyle = data.getItemVisual(idx, 'style');\n    var visualColor = symbolStyle.fill;\n    if (symbolPath instanceof ZRImage) {\n      var pathStyle = symbolPath.style;\n      symbolPath.useStyle(extend({\n        // TODO other properties like x, y ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, symbolStyle));\n    } else {\n      if (symbolPath.__isEmptyBrush) {\n        // fill and stroke will be swapped if it's empty.\n        // So we cloned a new style to avoid it affecting the original style in visual storage.\n        // TODO Better implementation. No empty logic!\n        symbolPath.useStyle(extend({}, symbolStyle));\n      } else {\n        symbolPath.useStyle(symbolStyle);\n      }\n      // Disable decal because symbol scale will been applied on the decal.\n      symbolPath.style.decal = null;\n      symbolPath.setColor(visualColor, opts && opts.symbolInnerColor);\n      symbolPath.style.strokeNoScale = true;\n    }\n    var liftZ = data.getItemVisual(idx, 'liftZ');\n    var z2Origin = this._z2;\n    if (liftZ != null) {\n      if (z2Origin == null) {\n        this._z2 = symbolPath.z2;\n        symbolPath.z2 += liftZ;\n      }\n    } else if (z2Origin != null) {\n      symbolPath.z2 = z2Origin;\n      this._z2 = null;\n    }\n    var useNameLabel = opts && opts.useNameLabel;\n    setLabelStyle(symbolPath, labelStatesModels, {\n      labelFetcher: seriesModel,\n      labelDataIndex: idx,\n      defaultText: getLabelDefaultText,\n      inheritColor: visualColor,\n      defaultOpacity: symbolStyle.opacity\n    });\n    // Do not execute util needed.\n    function getLabelDefaultText(idx) {\n      return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n    }\n    this._sizeX = symbolSize[0] / 2;\n    this._sizeY = symbolSize[1] / 2;\n    var emphasisState = symbolPath.ensureState('emphasis');\n    emphasisState.style = emphasisItemStyle;\n    symbolPath.ensureState('select').style = selectItemStyle;\n    symbolPath.ensureState('blur').style = blurItemStyle;\n    // null / undefined / true means to use default strategy.\n    // 0 / false / negative number / NaN / Infinity means no scale.\n    var scaleRatio = hoverScale == null || hoverScale === true ? Math.max(1.1, 3 / this._sizeY)\n    // PENDING: restrict hoverScale > 1? It seems unreasonable to scale down\n    : isFinite(hoverScale) && hoverScale > 0 ? +hoverScale : 1;\n    // always set scale to allow resetting\n    emphasisState.scaleX = this._sizeX * scaleRatio;\n    emphasisState.scaleY = this._sizeY * scaleRatio;\n    this.setSymbolScale(1);\n    toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);\n  };\n  Symbol.prototype.setSymbolScale = function (scale) {\n    this.scaleX = this.scaleY = scale;\n  };\n  Symbol.prototype.fadeOut = function (cb, seriesModel, opt) {\n    var symbolPath = this.childAt(0);\n    var dataIndex = getECData(this).dataIndex;\n    var animationOpt = opt && opt.animation;\n    // Avoid mistaken hover when fading out\n    this.silent = symbolPath.silent = true;\n    // Not show text when animating\n    if (opt && opt.fadeLabel) {\n      var textContent = symbolPath.getTextContent();\n      if (textContent) {\n        graphic.removeElement(textContent, {\n          style: {\n            opacity: 0\n          }\n        }, seriesModel, {\n          dataIndex: dataIndex,\n          removeOpt: animationOpt,\n          cb: function () {\n            symbolPath.removeTextContent();\n          }\n        });\n      }\n    } else {\n      symbolPath.removeTextContent();\n    }\n    graphic.removeElement(symbolPath, {\n      style: {\n        opacity: 0\n      },\n      scaleX: 0,\n      scaleY: 0\n    }, seriesModel, {\n      dataIndex: dataIndex,\n      cb: cb,\n      removeOpt: animationOpt\n    });\n  };\n  Symbol.getSymbolSize = function (data, idx) {\n    return normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n  };\n  return Symbol;\n}(graphic.Group);\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\nexport default Symbol;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic.js';\nimport SymbolClz from './Symbol.js';\nimport { isObject } from 'zrender/lib/core/util.js';\nimport { getLabelStatesModels } from '../../label/labelStyle.js';\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx))\n  // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n  return opt || {};\n}\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  var emphasisModel = seriesModel.getModel('emphasis');\n  return {\n    emphasisItemStyle: emphasisModel.getModel('itemStyle').getItemStyle(),\n    blurItemStyle: seriesModel.getModel(['blur', 'itemStyle']).getItemStyle(),\n    selectItemStyle: seriesModel.getModel(['select', 'itemStyle']).getItemStyle(),\n    focus: emphasisModel.get('focus'),\n    blurScope: emphasisModel.get('blurScope'),\n    emphasisDisabled: emphasisModel.get('disabled'),\n    hoverScale: emphasisModel.get('scale'),\n    labelStatesModels: getLabelStatesModels(seriesModel),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\nvar SymbolDraw = /** @class */function () {\n  function SymbolDraw(SymbolCtor) {\n    this.group = new graphic.Group();\n    this._SymbolCtor = SymbolCtor || SymbolClz;\n  }\n  /**\n   * Update symbols draw by new data\n   */\n  SymbolDraw.prototype.updateData = function (data, opt) {\n    // Remove progressive els.\n    this._progressiveEls = null;\n    opt = normalizeUpdateOpt(opt);\n    var group = this.group;\n    var seriesModel = data.hostModel;\n    var oldData = this._data;\n    var SymbolCtor = this._SymbolCtor;\n    var disableAnimation = opt.disableAnimation;\n    var seriesScope = makeSeriesScope(data);\n    var symbolUpdateOpt = {\n      disableAnimation: disableAnimation\n    };\n    var getSymbolPoint = opt.getSymbolPoint || function (idx) {\n      return data.getItemLayout(idx);\n    };\n    // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n    if (!oldData) {\n      group.removeAll();\n    }\n    data.diff(oldData).add(function (newIdx) {\n      var point = getSymbolPoint(newIdx);\n      if (symbolNeedsDraw(data, point, newIdx, opt)) {\n        var symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\n        symbolEl.setPosition(point);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      var point = getSymbolPoint(newIdx);\n      if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n        group.remove(symbolEl);\n        return;\n      }\n      var newSymbolType = data.getItemVisual(newIdx, 'symbol') || 'circle';\n      var oldSymbolType = symbolEl && symbolEl.getSymbolType && symbolEl.getSymbolType();\n      if (!symbolEl\n      // Create a new if symbol type changed.\n      || oldSymbolType && oldSymbolType !== newSymbolType) {\n        group.remove(symbolEl);\n        symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\n        symbolEl.setPosition(point);\n      } else {\n        symbolEl.updateData(data, newIdx, seriesScope, symbolUpdateOpt);\n        var target = {\n          x: point[0],\n          y: point[1]\n        };\n        disableAnimation ? symbolEl.attr(target) : graphic.updateProps(symbolEl, target, seriesModel);\n      }\n      // Add back\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && el.fadeOut(function () {\n        group.remove(el);\n      }, seriesModel);\n    }).execute();\n    this._getSymbolPoint = getSymbolPoint;\n    this._data = data;\n  };\n  ;\n  SymbolDraw.prototype.updateLayout = function () {\n    var _this = this;\n    var data = this._data;\n    if (data) {\n      // Not use animation\n      data.eachItemGraphicEl(function (el, idx) {\n        var point = _this._getSymbolPoint(idx);\n        el.setPosition(point);\n        el.markRedraw();\n      });\n    }\n  };\n  ;\n  SymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this._seriesScope = makeSeriesScope(data);\n    this._data = null;\n    this.group.removeAll();\n  };\n  ;\n  /**\n   * Update symbols draw by new data\n   */\n  SymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    // Clear\n    this._progressiveEls = [];\n    opt = normalizeUpdateOpt(opt);\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var point = data.getItemLayout(idx);\n      if (symbolNeedsDraw(data, point, idx, opt)) {\n        var el = new this._SymbolCtor(data, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        el.setPosition(point);\n        this.group.add(el);\n        data.setItemGraphicEl(idx, el);\n        this._progressiveEls.push(el);\n      }\n    }\n  };\n  ;\n  SymbolDraw.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  SymbolDraw.prototype.remove = function (enableAnimation) {\n    var group = this.group;\n    var data = this._data;\n    // Incremental model do not have this._data.\n    if (data && enableAnimation) {\n      data.eachItemGraphicEl(function (el) {\n        el.fadeOut(function () {\n          group.remove(el);\n        }, data.hostModel);\n      });\n    } else {\n      group.removeAll();\n    }\n  };\n  ;\n  return SymbolDraw;\n}();\nexport default SymbolDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\nimport { isArray } from 'zrender/lib/core/util.js';\n/**\n * @return label string. Not null/undefined\n */\nexport function getDefaultLabel(data, dataIndex) {\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\n  var len = labelDims.length;\n  // Simple optimization (in lots of cases, label dims length is 1)\n  if (len === 1) {\n    var rawVal = retrieveRawValue(data, dataIndex, labelDims[0]);\n    return rawVal != null ? rawVal + '' : null;\n  } else if (len) {\n    var vals = [];\n    for (var i = 0; i < labelDims.length; i++) {\n      vals.push(retrieveRawValue(data, dataIndex, labelDims[i]));\n    }\n    return vals.join(' ');\n  }\n}\nexport function getDefaultInterpolatedLabel(data, interpolatedValue) {\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\n  if (!isArray(interpolatedValue)) {\n    return interpolatedValue + '';\n  }\n  var vals = [];\n  for (var i = 0; i < labelDims.length; i++) {\n    var dimIndex = data.getDimensionIndex(labelDims[i]);\n    if (dimIndex >= 0) {\n      vals.push(interpolatedValue[dimIndex]);\n    }\n  }\n  return vals.join(' ');\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport View from '../View.js';\nimport geoSourceManager from './geoSourceManager.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nimport { warn } from '../../util/log.js';\nvar GEO_DEFAULT_PARAMS = {\n  'geoJSON': {\n    aspectScale: 0.75,\n    invertLongitute: true\n  },\n  'geoSVG': {\n    aspectScale: 1,\n    invertLongitute: false\n  }\n};\nexport var geo2DDimensions = ['lng', 'lat'];\nvar Geo = /** @class */function (_super) {\n  __extends(Geo, _super);\n  function Geo(name, map, opt) {\n    var _this = _super.call(this, name) || this;\n    _this.dimensions = geo2DDimensions;\n    _this.type = 'geo';\n    // Only store specified name coord via `addGeoCoord`.\n    _this._nameCoordMap = zrUtil.createHashMap();\n    _this.map = map;\n    var projection = opt.projection;\n    var source = geoSourceManager.load(map, opt.nameMap, opt.nameProperty);\n    var resource = geoSourceManager.getGeoResource(map);\n    var resourceType = _this.resourceType = resource ? resource.type : null;\n    var regions = _this.regions = source.regions;\n    var defaultParams = GEO_DEFAULT_PARAMS[resource.type];\n    _this._regionsMap = source.regionsMap;\n    _this.regions = source.regions;\n    if (process.env.NODE_ENV !== 'production' && projection) {\n      // Do some check\n      if (resourceType === 'geoSVG') {\n        if (process.env.NODE_ENV !== 'production') {\n          warn(\"Map \" + map + \" with SVG source can't use projection. Only GeoJSON source supports projection.\");\n        }\n        projection = null;\n      }\n      if (!(projection.project && projection.unproject)) {\n        if (process.env.NODE_ENV !== 'production') {\n          warn('project and unproject must be both provided in the projeciton.');\n        }\n        projection = null;\n      }\n    }\n    _this.projection = projection;\n    var boundingRect;\n    if (projection) {\n      // Can't reuse the raw bounding rect\n      for (var i = 0; i < regions.length; i++) {\n        var regionRect = regions[i].getBoundingRect(projection);\n        boundingRect = boundingRect || regionRect.clone();\n        boundingRect.union(regionRect);\n      }\n    } else {\n      boundingRect = source.boundingRect;\n    }\n    _this.setBoundingRect(boundingRect.x, boundingRect.y, boundingRect.width, boundingRect.height);\n    // aspectScale and invertLongitute actually is the parameters default raw projection.\n    // So we ignore them if projection is given.\n    // Ignore default aspect scale if projection exits.\n    _this.aspectScale = projection ? 1 : zrUtil.retrieve2(opt.aspectScale, defaultParams.aspectScale);\n    // Not invert longitude if projection exits.\n    _this._invertLongitute = projection ? false : defaultParams.invertLongitute;\n    return _this;\n  }\n  Geo.prototype._transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var invertLongitute = this._invertLongitute;\n    rect = rect.clone();\n    if (invertLongitute) {\n      // Longitude is inverted.\n      rect.y = -rect.y - rect.height;\n    }\n    var rawTransformable = this._rawTransformable;\n    rawTransformable.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    var rawParent = rawTransformable.parent;\n    rawTransformable.parent = null;\n    rawTransformable.decomposeTransform();\n    rawTransformable.parent = rawParent;\n    if (invertLongitute) {\n      rawTransformable.scaleY = -rawTransformable.scaleY;\n    }\n    this._updateTransform();\n  };\n  Geo.prototype.getRegion = function (name) {\n    return this._regionsMap.get(name);\n  };\n  Geo.prototype.getRegionByCoord = function (coord) {\n    var regions = this.regions;\n    for (var i = 0; i < regions.length; i++) {\n      var region = regions[i];\n      if (region.type === 'geoJSON' && region.contain(coord)) {\n        return regions[i];\n      }\n    }\n  };\n  /**\n   * Add geoCoord for indexing by name\n   */\n  Geo.prototype.addGeoCoord = function (name, geoCoord) {\n    this._nameCoordMap.set(name, geoCoord);\n  };\n  /**\n   * Get geoCoord by name\n   */\n  Geo.prototype.getGeoCoord = function (name) {\n    var region = this._regionsMap.get(name);\n    // Calculate center only on demand.\n    return this._nameCoordMap.get(name) || region && region.getCenter();\n  };\n  Geo.prototype.dataToPoint = function (data, noRoam, out) {\n    if (zrUtil.isString(data)) {\n      // Map area name to geoCoord\n      data = this.getGeoCoord(data);\n    }\n    if (data) {\n      var projection = this.projection;\n      if (projection) {\n        // projection may return null point.\n        data = projection.project(data);\n      }\n      return data && this.projectedToPoint(data, noRoam, out);\n    }\n  };\n  Geo.prototype.pointToData = function (point) {\n    var projection = this.projection;\n    if (projection) {\n      // projection may return null point.\n      point = projection.unproject(point);\n    }\n    return point && this.pointToProjected(point);\n  };\n  /**\n   * Point to projected data. Same with pointToData when projection is used.\n   */\n  Geo.prototype.pointToProjected = function (point) {\n    return _super.prototype.pointToData.call(this, point);\n  };\n  Geo.prototype.projectedToPoint = function (projected, noRoam, out) {\n    return _super.prototype.dataToPoint.call(this, projected, noRoam, out);\n  };\n  Geo.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  Geo.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  return Geo;\n}(View);\n;\nzrUtil.mixin(Geo, View);\nfunction getCoordSys(finder) {\n  var geoModel = finder.geoModel;\n  var seriesModel = finder.seriesModel;\n  return geoModel ? geoModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem // For map series.\n  || (seriesModel.getReferringComponents('geo', SINGLE_REFERRING).models[0] || {}).coordinateSystem : null;\n}\nexport default Geo;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Geo, { geo2DDimensions } from './Geo.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js';\nimport geoSourceManager from './geoSourceManager.js';\nimport * as vector from 'zrender/lib/core/vector.js';\n/**\n * Resize method bound to the geo\n */\nfunction resizeGeo(geoModel, api) {\n  var boundingCoords = geoModel.get('boundingCoords');\n  if (boundingCoords != null) {\n    var leftTop_1 = boundingCoords[0];\n    var rightBottom_1 = boundingCoords[1];\n    if (!(isFinite(leftTop_1[0]) && isFinite(leftTop_1[1]) && isFinite(rightBottom_1[0]) && isFinite(rightBottom_1[1]))) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Invalid boundingCoords');\n      }\n    } else {\n      // Sample around the lng/lat rect and use projection to calculate actual bounding rect.\n      var projection_1 = this.projection;\n      if (projection_1) {\n        var xMin = leftTop_1[0];\n        var yMin = leftTop_1[1];\n        var xMax = rightBottom_1[0];\n        var yMax = rightBottom_1[1];\n        leftTop_1 = [Infinity, Infinity];\n        rightBottom_1 = [-Infinity, -Infinity];\n        // TODO better way?\n        var sampleLine = function (x0, y0, x1, y1) {\n          var dx = x1 - x0;\n          var dy = y1 - y0;\n          for (var i = 0; i <= 100; i++) {\n            var p = i / 100;\n            var pt = projection_1.project([x0 + dx * p, y0 + dy * p]);\n            vector.min(leftTop_1, leftTop_1, pt);\n            vector.max(rightBottom_1, rightBottom_1, pt);\n          }\n        };\n        // Top\n        sampleLine(xMin, yMin, xMax, yMin);\n        // Right\n        sampleLine(xMax, yMin, xMax, yMax);\n        // Bottom\n        sampleLine(xMax, yMax, xMin, yMax);\n        // Left\n        sampleLine(xMin, yMax, xMax, yMin);\n      }\n      this.setBoundingRect(leftTop_1[0], leftTop_1[1], rightBottom_1[0] - leftTop_1[0], rightBottom_1[1] - leftTop_1[1]);\n    }\n  }\n  var rect = this.getBoundingRect();\n  var centerOption = geoModel.get('layoutCenter');\n  var sizeOption = geoModel.get('layoutSize');\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  var aspect = rect.width / rect.height * this.aspectScale;\n  var useCenterAndSize = false;\n  var center;\n  var size;\n  if (centerOption && sizeOption) {\n    center = [numberUtil.parsePercent(centerOption[0], viewWidth), numberUtil.parsePercent(centerOption[1], viewHeight)];\n    size = numberUtil.parsePercent(sizeOption, Math.min(viewWidth, viewHeight));\n    if (!isNaN(center[0]) && !isNaN(center[1]) && !isNaN(size)) {\n      useCenterAndSize = true;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.');\n      }\n    }\n  }\n  var viewRect;\n  if (useCenterAndSize) {\n    viewRect = {};\n    if (aspect > 1) {\n      // Width is same with size\n      viewRect.width = size;\n      viewRect.height = size / aspect;\n    } else {\n      viewRect.height = size;\n      viewRect.width = size * aspect;\n    }\n    viewRect.y = center[1] - viewRect.height / 2;\n    viewRect.x = center[0] - viewRect.width / 2;\n  } else {\n    // Use left/top/width/height\n    var boxLayoutOption = geoModel.getBoxLayoutParams();\n    boxLayoutOption.aspect = aspect;\n    viewRect = layout.getLayoutRect(boxLayoutOption, {\n      width: viewWidth,\n      height: viewHeight\n    });\n  }\n  this.setViewRect(viewRect.x, viewRect.y, viewRect.width, viewRect.height);\n  this.setCenter(geoModel.get('center'), api);\n  this.setZoom(geoModel.get('zoom'));\n}\n// Back compat for ECharts2, where the coord map is set on map series:\n// {type: 'map', geoCoord: {'cityA': [116.46,39.92], 'cityA': [119.12,24.61]}},\nfunction setGeoCoords(geo, model) {\n  zrUtil.each(model.get('geoCoord'), function (geoCoord, name) {\n    geo.addGeoCoord(name, geoCoord);\n  });\n}\nvar GeoCreator = /** @class */function () {\n  function GeoCreator() {\n    // For deciding which dimensions to use when creating list data\n    this.dimensions = geo2DDimensions;\n  }\n  GeoCreator.prototype.create = function (ecModel, api) {\n    var geoList = [];\n    function getCommonGeoProperties(model) {\n      return {\n        nameProperty: model.get('nameProperty'),\n        aspectScale: model.get('aspectScale'),\n        projection: model.get('projection')\n      };\n    }\n    // FIXME Create each time may be slow\n    ecModel.eachComponent('geo', function (geoModel, idx) {\n      var mapName = geoModel.get('map');\n      var geo = new Geo(mapName + idx, mapName, zrUtil.extend({\n        nameMap: geoModel.get('nameMap')\n      }, getCommonGeoProperties(geoModel)));\n      geo.zoomLimit = geoModel.get('scaleLimit');\n      geoList.push(geo);\n      // setGeoCoords(geo, geoModel);\n      geoModel.coordinateSystem = geo;\n      geo.model = geoModel;\n      // Inject resize method\n      geo.resize = resizeGeo;\n      geo.resize(geoModel, api);\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      var coordSys = seriesModel.get('coordinateSystem');\n      if (coordSys === 'geo') {\n        var geoIndex = seriesModel.get('geoIndex') || 0;\n        seriesModel.coordinateSystem = geoList[geoIndex];\n      }\n    });\n    // If has map series\n    var mapModelGroupBySeries = {};\n    ecModel.eachSeriesByType('map', function (seriesModel) {\n      if (!seriesModel.getHostGeoModel()) {\n        var mapType = seriesModel.getMapType();\n        mapModelGroupBySeries[mapType] = mapModelGroupBySeries[mapType] || [];\n        mapModelGroupBySeries[mapType].push(seriesModel);\n      }\n    });\n    zrUtil.each(mapModelGroupBySeries, function (mapSeries, mapType) {\n      var nameMapList = zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('nameMap');\n      });\n      var geo = new Geo(mapType, mapType, zrUtil.extend({\n        nameMap: zrUtil.mergeAll(nameMapList)\n      }, getCommonGeoProperties(mapSeries[0])));\n      geo.zoomLimit = zrUtil.retrieve.apply(null, zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('scaleLimit');\n      }));\n      geoList.push(geo);\n      // Inject resize method\n      geo.resize = resizeGeo;\n      geo.resize(mapSeries[0], api);\n      zrUtil.each(mapSeries, function (singleMapSeries) {\n        singleMapSeries.coordinateSystem = geo;\n        setGeoCoords(geo, singleMapSeries);\n      });\n    });\n    return geoList;\n  };\n  /**\n   * Fill given regions array\n   */\n  GeoCreator.prototype.getFilledRegions = function (originRegionArr, mapName, nameMap, nameProperty) {\n    // Not use the original\n    var regionsArr = (originRegionArr || []).slice();\n    var dataNameMap = zrUtil.createHashMap();\n    for (var i = 0; i < regionsArr.length; i++) {\n      dataNameMap.set(regionsArr[i].name, regionsArr[i]);\n    }\n    var source = geoSourceManager.load(mapName, nameMap, nameProperty);\n    zrUtil.each(source.regions, function (region) {\n      var name = region.name;\n      !dataNameMap.get(name) && regionsArr.push({\n        name: name\n      });\n    });\n    return regionsArr;\n  };\n  return GeoCreator;\n}();\nvar geoCreator = new GeoCreator();\nexport default geoCreator;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport ComponentModel from '../../model/Component.js';\nimport Model from '../../model/Model.js';\nimport geoCreator from './geoCreator.js';\nimport geoSourceManager from './geoSourceManager.js';\n;\nvar GeoModel = /** @class */function (_super) {\n  __extends(GeoModel, _super);\n  function GeoModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GeoModel.type;\n    return _this;\n  }\n  GeoModel.prototype.init = function (option, parentModel, ecModel) {\n    var source = geoSourceManager.getGeoResource(option.map);\n    if (source && source.type === 'geoJSON') {\n      var itemStyle = option.itemStyle = option.itemStyle || {};\n      if (!('color' in itemStyle)) {\n        itemStyle.color = '#eee';\n      }\n    }\n    this.mergeDefaultAndTheme(option, ecModel);\n    // Default label emphasis `show`\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\n  };\n  GeoModel.prototype.optionUpdated = function () {\n    var _this = this;\n    var option = this.option;\n    option.regions = geoCreator.getFilledRegions(option.regions, option.map, option.nameMap, option.nameProperty);\n    var selectedMap = {};\n    this._optionModelMap = zrUtil.reduce(option.regions || [], function (optionModelMap, regionOpt) {\n      var regionName = regionOpt.name;\n      if (regionName) {\n        optionModelMap.set(regionName, new Model(regionOpt, _this, _this.ecModel));\n        if (regionOpt.selected) {\n          selectedMap[regionName] = true;\n        }\n      }\n      return optionModelMap;\n    }, zrUtil.createHashMap());\n    if (!option.selectedMap) {\n      option.selectedMap = selectedMap;\n    }\n  };\n  /**\n   * Get model of region.\n   */\n  GeoModel.prototype.getRegionModel = function (name) {\n    return this._optionModelMap.get(name) || new Model(null, this, this.ecModel);\n  };\n  /**\n   * Format label\n   * @param name Region name\n   */\n  GeoModel.prototype.getFormattedLabel = function (name, status) {\n    var regionModel = this.getRegionModel(name);\n    var formatter = status === 'normal' ? regionModel.get(['label', 'formatter']) : regionModel.get(['emphasis', 'label', 'formatter']);\n    var params = {\n      name: name\n    };\n    if (zrUtil.isFunction(formatter)) {\n      params.status = status;\n      return formatter(params);\n    } else if (zrUtil.isString(formatter)) {\n      return formatter.replace('{a}', name != null ? name : '');\n    }\n  };\n  GeoModel.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n  GeoModel.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n  // PENGING If selectedMode is null ?\n  GeoModel.prototype.select = function (name) {\n    var option = this.option;\n    var selectedMode = option.selectedMode;\n    if (!selectedMode) {\n      return;\n    }\n    if (selectedMode !== 'multiple') {\n      option.selectedMap = null;\n    }\n    var selectedMap = option.selectedMap || (option.selectedMap = {});\n    selectedMap[name] = true;\n  };\n  GeoModel.prototype.unSelect = function (name) {\n    var selectedMap = this.option.selectedMap;\n    if (selectedMap) {\n      selectedMap[name] = false;\n    }\n  };\n  GeoModel.prototype.toggleSelected = function (name) {\n    this[this.isSelected(name) ? 'unSelect' : 'select'](name);\n  };\n  GeoModel.prototype.isSelected = function (name) {\n    var selectedMap = this.option.selectedMap;\n    return !!(selectedMap && selectedMap[name]);\n  };\n  GeoModel.type = 'geo';\n  GeoModel.layoutMode = 'box';\n  GeoModel.defaultOption = {\n    // zlevel: 0,\n    z: 0,\n    show: true,\n    left: 'center',\n    top: 'center',\n    // Default value:\n    // for geoSVG source: 1,\n    // for geoJSON source: 0.75.\n    aspectScale: null,\n    // /// Layout with center and size\n    // If you want to put map in a fixed size box with right aspect ratio\n    // This two properties may be more convenient\n    // layoutCenter: [50%, 50%]\n    // layoutSize: 100\n    silent: false,\n    // Map type\n    map: '',\n    // Define left-top, right-bottom coords to control view\n    // For example, [ [180, 90], [-180, -90] ]\n    boundingCoords: null,\n    // Default on center of map\n    center: null,\n    zoom: 1,\n    scaleLimit: null,\n    // selectedMode: false\n    label: {\n      show: false,\n      color: '#000'\n    },\n    itemStyle: {\n      borderWidth: 0.5,\n      borderColor: '#444'\n      // Default color:\n      // + geoJSON: #eee\n      // + geoSVG: null (use SVG original `fill`)\n      // color: '#eee'\n    },\n\n    emphasis: {\n      label: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      },\n      itemStyle: {\n        color: 'rgba(255,215,0,0.8)'\n      }\n    },\n    select: {\n      label: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      },\n      itemStyle: {\n        color: 'rgba(255,215,0,0.8)'\n      }\n    },\n    regions: []\n    // tooltip: {\n    //     show: false\n    // }\n  };\n\n  return GeoModel;\n}(ComponentModel);\nexport default GeoModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MapDraw from '../helper/MapDraw.js';\nimport ComponentView from '../../view/Component.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { findEventDispatcher } from '../../util/event.js';\nvar GeoView = /** @class */function (_super) {\n  __extends(GeoView, _super);\n  function GeoView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GeoView.type;\n    _this.focusBlurEnabled = true;\n    return _this;\n  }\n  GeoView.prototype.init = function (ecModel, api) {\n    this._api = api;\n  };\n  GeoView.prototype.render = function (geoModel, ecModel, api, payload) {\n    this._model = geoModel;\n    if (!geoModel.get('show')) {\n      this._mapDraw && this._mapDraw.remove();\n      this._mapDraw = null;\n      return;\n    }\n    if (!this._mapDraw) {\n      this._mapDraw = new MapDraw(api);\n    }\n    var mapDraw = this._mapDraw;\n    mapDraw.draw(geoModel, ecModel, api, this, payload);\n    mapDraw.group.on('click', this._handleRegionClick, this);\n    mapDraw.group.silent = geoModel.get('silent');\n    this.group.add(mapDraw.group);\n    this.updateSelectStatus(geoModel, ecModel, api);\n  };\n  GeoView.prototype._handleRegionClick = function (e) {\n    var eventData;\n    findEventDispatcher(e.target, function (current) {\n      return (eventData = getECData(current).eventData) != null;\n    }, true);\n    if (eventData) {\n      this._api.dispatchAction({\n        type: 'geoToggleSelect',\n        geoId: this._model.id,\n        name: eventData.name\n      });\n    }\n  };\n  GeoView.prototype.updateSelectStatus = function (model, ecModel, api) {\n    var _this = this;\n    this._mapDraw.group.traverse(function (node) {\n      var eventData = getECData(node).eventData;\n      if (eventData) {\n        _this._model.isSelected(eventData.name) ? api.enterSelect(node) : api.leaveSelect(node);\n        // No need to traverse children.\n        return true;\n      }\n    });\n  };\n  GeoView.prototype.findHighDownDispatchers = function (name) {\n    return this._mapDraw && this._mapDraw.findHighDownDispatchers(name, this._model);\n  };\n  GeoView.prototype.dispose = function () {\n    this._mapDraw && this._mapDraw.remove();\n  };\n  GeoView.type = 'geo';\n  return GeoView;\n}(ComponentView);\nexport default GeoView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport GeoModel from '../../coord/geo/GeoModel.js';\nimport geoCreator from '../../coord/geo/geoCreator.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport { updateCenterAndZoom } from '../../action/roamHelper.js';\nimport GeoView from './GeoView.js';\nimport geoSourceManager from '../../coord/geo/geoSourceManager.js';\nfunction registerMap(mapName, geoJson, specialAreas) {\n  geoSourceManager.registerMap(mapName, geoJson, specialAreas);\n}\nexport function install(registers) {\n  registers.registerCoordinateSystem('geo', geoCreator);\n  registers.registerComponentModel(GeoModel);\n  registers.registerComponentView(GeoView);\n  registers.registerImpl('registerMap', registerMap);\n  registers.registerImpl('getMap', function (mapName) {\n    return geoSourceManager.getMapForUser(mapName);\n  });\n  function makeAction(method, actionInfo) {\n    actionInfo.update = 'geo:updateSelectStatus';\n    registers.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      var allSelected = [];\n      ecModel.eachComponent({\n        mainType: 'geo',\n        query: payload\n      }, function (geoModel) {\n        geoModel[method](payload.name);\n        var geo = geoModel.coordinateSystem;\n        each(geo.regions, function (region) {\n          selected[region.name] = geoModel.isSelected(region.name) || false;\n        });\n        // Notice: there might be duplicated name in different regions.\n        var names = [];\n        each(selected, function (v, name) {\n          selected[name] && names.push(name);\n        });\n        allSelected.push({\n          geoIndex: geoModel.componentIndex,\n          // Use singular, the same naming convention as the event `selectchanged`.\n          name: names\n        });\n      });\n      return {\n        selected: selected,\n        allSelected: allSelected,\n        name: payload.name\n      };\n    });\n  }\n  makeAction('toggleSelected', {\n    type: 'geoToggleSelect',\n    event: 'geoselectchanged'\n  });\n  makeAction('select', {\n    type: 'geoSelect',\n    event: 'geoselected'\n  });\n  makeAction('unSelect', {\n    type: 'geoUnSelect',\n    event: 'geounselected'\n  });\n  /**\n   * @payload\n   * @property {string} [componentType=series]\n   * @property {number} [dx]\n   * @property {number} [dy]\n   * @property {number} [zoom]\n   * @property {number} [originX]\n   * @property {number} [originY]\n   */\n  registers.registerAction({\n    type: 'geoRoam',\n    event: 'geoRoam',\n    update: 'updateTransform'\n  }, function (payload, ecModel, api) {\n    var componentType = payload.componentType || 'series';\n    ecModel.eachComponent({\n      mainType: componentType,\n      query: payload\n    }, function (componentModel) {\n      var geo = componentModel.coordinateSystem;\n      if (geo.type !== 'geo') {\n        return;\n      }\n      var res = updateCenterAndZoom(geo, payload, componentModel.get('scaleLimit'), api);\n      componentModel.setCenter && componentModel.setCenter(res.center);\n      componentModel.setZoom && componentModel.setZoom(res.zoom);\n      // All map series with same `map` use the same geo coordinate system\n      // So the center and zoom must be in sync. Include the series not selected by legend\n      if (componentType === 'series') {\n        each(componentModel.seriesGroup, function (seriesModel) {\n          seriesModel.setCenter(res.center);\n          seriesModel.setZoom(res.zoom);\n        });\n      }\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { curry, each, map, bind, merge, clone, defaults, assert } from 'zrender/lib/core/util.js';\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as interactionMutex from './interactionMutex.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nvar BRUSH_PANEL_GLOBAL = true;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathPow = Math.pow;\nvar COVER_Z = 10000;\nvar UNSELECT_THRESHOLD = 6;\nvar MIN_RESIZE_LINE_WIDTH = 6;\nvar MUTEX_RESOURCE_KEY = 'globalPan';\nvar DIRECTION_MAP = {\n  w: [0, 0],\n  e: [0, 1],\n  n: [1, 0],\n  s: [1, 1]\n};\nvar CURSOR_MAP = {\n  w: 'ew',\n  e: 'ew',\n  n: 'ns',\n  s: 'ns',\n  ne: 'nesw',\n  sw: 'nesw',\n  nw: 'nwse',\n  se: 'nwse'\n};\nvar DEFAULT_BRUSH_OPT = {\n  brushStyle: {\n    lineWidth: 2,\n    stroke: 'rgba(210,219,238,0.3)',\n    fill: '#D2DBEE'\n  },\n  transformable: true,\n  brushMode: 'single',\n  removeOnClick: false\n};\nvar baseUID = 0;\n/**\n * params:\n *     areas: Array.<Array>, coord relates to container group,\n *                             If no container specified, to global.\n *     opt {\n *         isEnd: boolean,\n *         removeOnClick: boolean\n *     }\n */\nvar BrushController = /** @class */function (_super) {\n  __extends(BrushController, _super);\n  function BrushController(zr) {\n    var _this = _super.call(this) || this;\n    /**\n     * @internal\n     */\n    _this._track = [];\n    /**\n     * @internal\n     */\n    _this._covers = [];\n    _this._handlers = {};\n    if (process.env.NODE_ENV !== 'production') {\n      assert(zr);\n    }\n    _this._zr = zr;\n    _this.group = new graphic.Group();\n    _this._uid = 'brushController_' + baseUID++;\n    each(pointerHandlers, function (handler, eventName) {\n      this._handlers[eventName] = bind(handler, this);\n    }, _this);\n    return _this;\n  }\n  /**\n   * If set to `false`, select disabled.\n   */\n  BrushController.prototype.enableBrush = function (brushOption) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(this._mounted);\n    }\n    this._brushType && this._doDisableBrush();\n    brushOption.brushType && this._doEnableBrush(brushOption);\n    return this;\n  };\n  BrushController.prototype._doEnableBrush = function (brushOption) {\n    var zr = this._zr;\n    // Consider roam, which takes globalPan too.\n    if (!this._enableGlobalPan) {\n      interactionMutex.take(zr, MUTEX_RESOURCE_KEY, this._uid);\n    }\n    each(this._handlers, function (handler, eventName) {\n      zr.on(eventName, handler);\n    });\n    this._brushType = brushOption.brushType;\n    this._brushOption = merge(clone(DEFAULT_BRUSH_OPT), brushOption, true);\n  };\n  BrushController.prototype._doDisableBrush = function () {\n    var zr = this._zr;\n    interactionMutex.release(zr, MUTEX_RESOURCE_KEY, this._uid);\n    each(this._handlers, function (handler, eventName) {\n      zr.off(eventName, handler);\n    });\n    this._brushType = this._brushOption = null;\n  };\n  /**\n   * @param panelOpts If not pass, it is global brush.\n   */\n  BrushController.prototype.setPanels = function (panelOpts) {\n    if (panelOpts && panelOpts.length) {\n      var panels_1 = this._panels = {};\n      each(panelOpts, function (panelOpts) {\n        panels_1[panelOpts.panelId] = clone(panelOpts);\n      });\n    } else {\n      this._panels = null;\n    }\n    return this;\n  };\n  BrushController.prototype.mount = function (opt) {\n    opt = opt || {};\n    if (process.env.NODE_ENV !== 'production') {\n      this._mounted = true; // should be at first.\n    }\n\n    this._enableGlobalPan = opt.enableGlobalPan;\n    var thisGroup = this.group;\n    this._zr.add(thisGroup);\n    thisGroup.attr({\n      x: opt.x || 0,\n      y: opt.y || 0,\n      rotation: opt.rotation || 0,\n      scaleX: opt.scaleX || 1,\n      scaleY: opt.scaleY || 1\n    });\n    this._transform = thisGroup.getLocalTransform();\n    return this;\n  };\n  // eachCover(cb, context): void {\n  //     each(this._covers, cb, context);\n  // }\n  /**\n   * Update covers.\n   * @param coverConfigList\n   *        If coverConfigList is null/undefined, all covers removed.\n   */\n  BrushController.prototype.updateCovers = function (coverConfigList) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(this._mounted);\n    }\n    coverConfigList = map(coverConfigList, function (coverConfig) {\n      return merge(clone(DEFAULT_BRUSH_OPT), coverConfig, true);\n    });\n    var tmpIdPrefix = '\\0-brush-index-';\n    var oldCovers = this._covers;\n    var newCovers = this._covers = [];\n    var controller = this;\n    var creatingCover = this._creatingCover;\n    new DataDiffer(oldCovers, coverConfigList, oldGetKey, getKey).add(addOrUpdate).update(addOrUpdate).remove(remove).execute();\n    return this;\n    function getKey(brushOption, index) {\n      return (brushOption.id != null ? brushOption.id : tmpIdPrefix + index) + '-' + brushOption.brushType;\n    }\n    function oldGetKey(cover, index) {\n      return getKey(cover.__brushOption, index);\n    }\n    function addOrUpdate(newIndex, oldIndex) {\n      var newBrushInternal = coverConfigList[newIndex];\n      // Consider setOption in event listener of brushSelect,\n      // where updating cover when creating should be forbidden.\n      if (oldIndex != null && oldCovers[oldIndex] === creatingCover) {\n        newCovers[newIndex] = oldCovers[oldIndex];\n      } else {\n        var cover = newCovers[newIndex] = oldIndex != null ? (oldCovers[oldIndex].__brushOption = newBrushInternal, oldCovers[oldIndex]) : endCreating(controller, createCover(controller, newBrushInternal));\n        updateCoverAfterCreation(controller, cover);\n      }\n    }\n    function remove(oldIndex) {\n      if (oldCovers[oldIndex] !== creatingCover) {\n        controller.group.remove(oldCovers[oldIndex]);\n      }\n    }\n  };\n  BrushController.prototype.unmount = function () {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!this._mounted) {\n        return;\n      }\n    }\n    this.enableBrush(false);\n    // container may 'removeAll' outside.\n    clearCovers(this);\n    this._zr.remove(this.group);\n    if (process.env.NODE_ENV !== 'production') {\n      this._mounted = false; // should be at last.\n    }\n\n    return this;\n  };\n  BrushController.prototype.dispose = function () {\n    this.unmount();\n    this.off();\n  };\n  return BrushController;\n}(Eventful);\nfunction createCover(controller, brushOption) {\n  var cover = coverRenderers[brushOption.brushType].createCover(controller, brushOption);\n  cover.__brushOption = brushOption;\n  updateZ(cover, brushOption);\n  controller.group.add(cover);\n  return cover;\n}\nfunction endCreating(controller, creatingCover) {\n  var coverRenderer = getCoverRenderer(creatingCover);\n  if (coverRenderer.endCreating) {\n    coverRenderer.endCreating(controller, creatingCover);\n    updateZ(creatingCover, creatingCover.__brushOption);\n  }\n  return creatingCover;\n}\nfunction updateCoverShape(controller, cover) {\n  var brushOption = cover.__brushOption;\n  getCoverRenderer(cover).updateCoverShape(controller, cover, brushOption.range, brushOption);\n}\nfunction updateZ(cover, brushOption) {\n  var z = brushOption.z;\n  z == null && (z = COVER_Z);\n  cover.traverse(function (el) {\n    el.z = z;\n    el.z2 = z; // Consider in given container.\n  });\n}\n\nfunction updateCoverAfterCreation(controller, cover) {\n  getCoverRenderer(cover).updateCommon(controller, cover);\n  updateCoverShape(controller, cover);\n}\nfunction getCoverRenderer(cover) {\n  return coverRenderers[cover.__brushOption.brushType];\n}\n// return target panel or `true` (means global panel)\nfunction getPanelByPoint(controller, e, localCursorPoint) {\n  var panels = controller._panels;\n  if (!panels) {\n    return BRUSH_PANEL_GLOBAL; // Global panel\n  }\n\n  var panel;\n  var transform = controller._transform;\n  each(panels, function (pn) {\n    pn.isTargetByCursor(e, localCursorPoint, transform) && (panel = pn);\n  });\n  return panel;\n}\n// Return a panel or true\nfunction getPanelByCover(controller, cover) {\n  var panels = controller._panels;\n  if (!panels) {\n    return BRUSH_PANEL_GLOBAL; // Global panel\n  }\n\n  var panelId = cover.__brushOption.panelId;\n  // User may give cover without coord sys info,\n  // which is then treated as global panel.\n  return panelId != null ? panels[panelId] : BRUSH_PANEL_GLOBAL;\n}\nfunction clearCovers(controller) {\n  var covers = controller._covers;\n  var originalLength = covers.length;\n  each(covers, function (cover) {\n    controller.group.remove(cover);\n  }, controller);\n  covers.length = 0;\n  return !!originalLength;\n}\nfunction trigger(controller, opt) {\n  var areas = map(controller._covers, function (cover) {\n    var brushOption = cover.__brushOption;\n    var range = clone(brushOption.range);\n    return {\n      brushType: brushOption.brushType,\n      panelId: brushOption.panelId,\n      range: range\n    };\n  });\n  controller.trigger('brush', {\n    areas: areas,\n    isEnd: !!opt.isEnd,\n    removeOnClick: !!opt.removeOnClick\n  });\n}\nfunction shouldShowCover(controller) {\n  var track = controller._track;\n  if (!track.length) {\n    return false;\n  }\n  var p2 = track[track.length - 1];\n  var p1 = track[0];\n  var dx = p2[0] - p1[0];\n  var dy = p2[1] - p1[1];\n  var dist = mathPow(dx * dx + dy * dy, 0.5);\n  return dist > UNSELECT_THRESHOLD;\n}\nfunction getTrackEnds(track) {\n  var tail = track.length - 1;\n  tail < 0 && (tail = 0);\n  return [track[0], track[tail]];\n}\n;\nfunction createBaseRectCover(rectRangeConverter, controller, brushOption, edgeNameSequences) {\n  var cover = new graphic.Group();\n  cover.add(new graphic.Rect({\n    name: 'main',\n    style: makeStyle(brushOption),\n    silent: true,\n    draggable: true,\n    cursor: 'move',\n    drift: curry(driftRect, rectRangeConverter, controller, cover, ['n', 's', 'w', 'e']),\n    ondragend: curry(trigger, controller, {\n      isEnd: true\n    })\n  }));\n  each(edgeNameSequences, function (nameSequence) {\n    cover.add(new graphic.Rect({\n      name: nameSequence.join(''),\n      style: {\n        opacity: 0\n      },\n      draggable: true,\n      silent: true,\n      invisible: true,\n      drift: curry(driftRect, rectRangeConverter, controller, cover, nameSequence),\n      ondragend: curry(trigger, controller, {\n        isEnd: true\n      })\n    }));\n  });\n  return cover;\n}\nfunction updateBaseRect(controller, cover, localRange, brushOption) {\n  var lineWidth = brushOption.brushStyle.lineWidth || 0;\n  var handleSize = mathMax(lineWidth, MIN_RESIZE_LINE_WIDTH);\n  var x = localRange[0][0];\n  var y = localRange[1][0];\n  var xa = x - lineWidth / 2;\n  var ya = y - lineWidth / 2;\n  var x2 = localRange[0][1];\n  var y2 = localRange[1][1];\n  var x2a = x2 - handleSize + lineWidth / 2;\n  var y2a = y2 - handleSize + lineWidth / 2;\n  var width = x2 - x;\n  var height = y2 - y;\n  var widtha = width + lineWidth;\n  var heighta = height + lineWidth;\n  updateRectShape(controller, cover, 'main', x, y, width, height);\n  if (brushOption.transformable) {\n    updateRectShape(controller, cover, 'w', xa, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'e', x2a, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'n', xa, ya, widtha, handleSize);\n    updateRectShape(controller, cover, 's', xa, y2a, widtha, handleSize);\n    updateRectShape(controller, cover, 'nw', xa, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'ne', x2a, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'sw', xa, y2a, handleSize, handleSize);\n    updateRectShape(controller, cover, 'se', x2a, y2a, handleSize, handleSize);\n  }\n}\nfunction updateCommon(controller, cover) {\n  var brushOption = cover.__brushOption;\n  var transformable = brushOption.transformable;\n  var mainEl = cover.childAt(0);\n  mainEl.useStyle(makeStyle(brushOption));\n  mainEl.attr({\n    silent: !transformable,\n    cursor: transformable ? 'move' : 'default'\n  });\n  each([['w'], ['e'], ['n'], ['s'], ['s', 'e'], ['s', 'w'], ['n', 'e'], ['n', 'w']], function (nameSequence) {\n    var el = cover.childOfName(nameSequence.join(''));\n    var globalDir = nameSequence.length === 1 ? getGlobalDirection1(controller, nameSequence[0]) : getGlobalDirection2(controller, nameSequence);\n    el && el.attr({\n      silent: !transformable,\n      invisible: !transformable,\n      cursor: transformable ? CURSOR_MAP[globalDir] + '-resize' : null\n    });\n  });\n}\nfunction updateRectShape(controller, cover, name, x, y, w, h) {\n  var el = cover.childOfName(name);\n  el && el.setShape(pointsToRect(clipByPanel(controller, cover, [[x, y], [x + w, y + h]])));\n}\nfunction makeStyle(brushOption) {\n  return defaults({\n    strokeNoScale: true\n  }, brushOption.brushStyle);\n}\nfunction formatRectRange(x, y, x2, y2) {\n  var min = [mathMin(x, x2), mathMin(y, y2)];\n  var max = [mathMax(x, x2), mathMax(y, y2)];\n  return [[min[0], max[0]], [min[1], max[1]] // y range\n  ];\n}\n\nfunction getTransform(controller) {\n  return graphic.getTransform(controller.group);\n}\nfunction getGlobalDirection1(controller, localDirName) {\n  var map = {\n    w: 'left',\n    e: 'right',\n    n: 'top',\n    s: 'bottom'\n  };\n  var inverseMap = {\n    left: 'w',\n    right: 'e',\n    top: 'n',\n    bottom: 's'\n  };\n  var dir = graphic.transformDirection(map[localDirName], getTransform(controller));\n  return inverseMap[dir];\n}\nfunction getGlobalDirection2(controller, localDirNameSeq) {\n  var globalDir = [getGlobalDirection1(controller, localDirNameSeq[0]), getGlobalDirection1(controller, localDirNameSeq[1])];\n  (globalDir[0] === 'e' || globalDir[0] === 'w') && globalDir.reverse();\n  return globalDir.join('');\n}\nfunction driftRect(rectRangeConverter, controller, cover, dirNameSequence, dx, dy) {\n  var brushOption = cover.__brushOption;\n  var rectRange = rectRangeConverter.toRectRange(brushOption.range);\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(dirNameSequence, function (dirName) {\n    var ind = DIRECTION_MAP[dirName];\n    rectRange[ind[0]][ind[1]] += localDelta[ind[0]];\n  });\n  brushOption.range = rectRangeConverter.fromRectRange(formatRectRange(rectRange[0][0], rectRange[1][0], rectRange[0][1], rectRange[1][1]));\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\nfunction driftPolygon(controller, cover, dx, dy) {\n  var range = cover.__brushOption.range;\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(range, function (point) {\n    point[0] += localDelta[0];\n    point[1] += localDelta[1];\n  });\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\nfunction toLocalDelta(controller, dx, dy) {\n  var thisGroup = controller.group;\n  var localD = thisGroup.transformCoordToLocal(dx, dy);\n  var localZero = thisGroup.transformCoordToLocal(0, 0);\n  return [localD[0] - localZero[0], localD[1] - localZero[1]];\n}\nfunction clipByPanel(controller, cover, data) {\n  var panel = getPanelByCover(controller, cover);\n  return panel && panel !== BRUSH_PANEL_GLOBAL ? panel.clipPath(data, controller._transform) : clone(data);\n}\nfunction pointsToRect(points) {\n  var xmin = mathMin(points[0][0], points[1][0]);\n  var ymin = mathMin(points[0][1], points[1][1]);\n  var xmax = mathMax(points[0][0], points[1][0]);\n  var ymax = mathMax(points[0][1], points[1][1]);\n  return {\n    x: xmin,\n    y: ymin,\n    width: xmax - xmin,\n    height: ymax - ymin\n  };\n}\nfunction resetCursor(controller, e, localCursorPoint) {\n  if (\n  // Check active\n  !controller._brushType\n  // resetCursor should be always called when mouse is in zr area,\n  // but not called when mouse is out of zr area to avoid bad influence\n  // if `mousemove`, `mouseup` are triggered from `document` event.\n  || isOutsideZrArea(controller, e.offsetX, e.offsetY)) {\n    return;\n  }\n  var zr = controller._zr;\n  var covers = controller._covers;\n  var currPanel = getPanelByPoint(controller, e, localCursorPoint);\n  // Check whether in covers.\n  if (!controller._dragging) {\n    for (var i = 0; i < covers.length; i++) {\n      var brushOption = covers[i].__brushOption;\n      if (currPanel && (currPanel === BRUSH_PANEL_GLOBAL || brushOption.panelId === currPanel.panelId) && coverRenderers[brushOption.brushType].contain(covers[i], localCursorPoint[0], localCursorPoint[1])) {\n        // Use cursor style set on cover.\n        return;\n      }\n    }\n  }\n  currPanel && zr.setCursorStyle('crosshair');\n}\nfunction preventDefault(e) {\n  var rawE = e.event;\n  rawE.preventDefault && rawE.preventDefault();\n}\nfunction mainShapeContain(cover, x, y) {\n  return cover.childOfName('main').contain(x, y);\n}\nfunction updateCoverByMouse(controller, e, localCursorPoint, isEnd) {\n  var creatingCover = controller._creatingCover;\n  var panel = controller._creatingPanel;\n  var thisBrushOption = controller._brushOption;\n  var eventParams;\n  controller._track.push(localCursorPoint.slice());\n  if (shouldShowCover(controller) || creatingCover) {\n    if (panel && !creatingCover) {\n      thisBrushOption.brushMode === 'single' && clearCovers(controller);\n      var brushOption = clone(thisBrushOption);\n      brushOption.brushType = determineBrushType(brushOption.brushType, panel);\n      brushOption.panelId = panel === BRUSH_PANEL_GLOBAL ? null : panel.panelId;\n      creatingCover = controller._creatingCover = createCover(controller, brushOption);\n      controller._covers.push(creatingCover);\n    }\n    if (creatingCover) {\n      var coverRenderer = coverRenderers[determineBrushType(controller._brushType, panel)];\n      var coverBrushOption = creatingCover.__brushOption;\n      coverBrushOption.range = coverRenderer.getCreatingRange(clipByPanel(controller, creatingCover, controller._track));\n      if (isEnd) {\n        endCreating(controller, creatingCover);\n        coverRenderer.updateCommon(controller, creatingCover);\n      }\n      updateCoverShape(controller, creatingCover);\n      eventParams = {\n        isEnd: isEnd\n      };\n    }\n  } else if (isEnd && thisBrushOption.brushMode === 'single' && thisBrushOption.removeOnClick) {\n    // Help user to remove covers easily, only by a tiny drag, in 'single' mode.\n    // But a single click do not clear covers, because user may have casual\n    // clicks (for example, click on other component and do not expect covers\n    // disappear).\n    // Only some cover removed, trigger action, but not every click trigger action.\n    if (getPanelByPoint(controller, e, localCursorPoint) && clearCovers(controller)) {\n      eventParams = {\n        isEnd: isEnd,\n        removeOnClick: true\n      };\n    }\n  }\n  return eventParams;\n}\nfunction determineBrushType(brushType, panel) {\n  if (brushType === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(panel && panel.defaultBrushType, 'MUST have defaultBrushType when brushType is \"atuo\"');\n    }\n    return panel.defaultBrushType;\n  }\n  return brushType;\n}\nvar pointerHandlers = {\n  mousedown: function (e) {\n    if (this._dragging) {\n      // In case some browser do not support globalOut,\n      // and release mouse out side the browser.\n      handleDragEnd(this, e);\n    } else if (!e.target || !e.target.draggable) {\n      preventDefault(e);\n      var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n      this._creatingCover = null;\n      var panel = this._creatingPanel = getPanelByPoint(this, e, localCursorPoint);\n      if (panel) {\n        this._dragging = true;\n        this._track = [localCursorPoint.slice()];\n      }\n    }\n  },\n  mousemove: function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = this.group.transformCoordToLocal(x, y);\n    resetCursor(this, e, localCursorPoint);\n    if (this._dragging) {\n      preventDefault(e);\n      var eventParams = updateCoverByMouse(this, e, localCursorPoint, false);\n      eventParams && trigger(this, eventParams);\n    }\n  },\n  mouseup: function (e) {\n    handleDragEnd(this, e);\n  }\n};\nfunction handleDragEnd(controller, e) {\n  if (controller._dragging) {\n    preventDefault(e);\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = controller.group.transformCoordToLocal(x, y);\n    var eventParams = updateCoverByMouse(controller, e, localCursorPoint, true);\n    controller._dragging = false;\n    controller._track = [];\n    controller._creatingCover = null;\n    // trigger event should be at final, after procedure will be nested.\n    eventParams && trigger(controller, eventParams);\n  }\n}\nfunction isOutsideZrArea(controller, x, y) {\n  var zr = controller._zr;\n  return x < 0 || x > zr.getWidth() || y < 0 || y > zr.getHeight();\n}\n/**\n * key: brushType\n */\nvar coverRenderers = {\n  lineX: getLineRenderer(0),\n  lineY: getLineRenderer(1),\n  rect: {\n    createCover: function (controller, brushOption) {\n      function returnInput(range) {\n        return range;\n      }\n      return createBaseRectCover({\n        toRectRange: returnInput,\n        fromRectRange: returnInput\n      }, controller, brushOption, [['w'], ['e'], ['n'], ['s'], ['s', 'e'], ['s', 'w'], ['n', 'e'], ['n', 'w']]);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      return formatRectRange(ends[1][0], ends[1][1], ends[0][0], ends[0][1]);\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      updateBaseRect(controller, cover, localRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  },\n  polygon: {\n    createCover: function (controller, brushOption) {\n      var cover = new graphic.Group();\n      // Do not use graphic.Polygon because graphic.Polyline do not close the\n      // border of the shape when drawing, which is a better experience for user.\n      cover.add(new graphic.Polyline({\n        name: 'main',\n        style: makeStyle(brushOption),\n        silent: true\n      }));\n      return cover;\n    },\n    getCreatingRange: function (localTrack) {\n      return localTrack;\n    },\n    endCreating: function (controller, cover) {\n      cover.remove(cover.childAt(0));\n      // Use graphic.Polygon close the shape.\n      cover.add(new graphic.Polygon({\n        name: 'main',\n        draggable: true,\n        drift: curry(driftPolygon, controller, cover),\n        ondragend: curry(trigger, controller, {\n          isEnd: true\n        })\n      }));\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      cover.childAt(0).setShape({\n        points: clipByPanel(controller, cover, localRange)\n      });\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  }\n};\nfunction getLineRenderer(xyIndex) {\n  return {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover({\n        toRectRange: function (range) {\n          var rectRange = [range, [0, 100]];\n          xyIndex && rectRange.reverse();\n          return rectRange;\n        },\n        fromRectRange: function (rectRange) {\n          return rectRange[xyIndex];\n        }\n      }, controller, brushOption, [[['w'], ['e']], [['n'], ['s']]][xyIndex]);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      var min = mathMin(ends[0][xyIndex], ends[1][xyIndex]);\n      var max = mathMax(ends[0][xyIndex], ends[1][xyIndex]);\n      return [min, max];\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      var otherExtent;\n      // If brushWidth not specified, fit the panel.\n      var panel = getPanelByCover(controller, cover);\n      if (panel !== BRUSH_PANEL_GLOBAL && panel.getLinearBrushOtherExtent) {\n        otherExtent = panel.getLinearBrushOtherExtent(xyIndex);\n      } else {\n        var zr = controller._zr;\n        otherExtent = [0, [zr.getWidth(), zr.getHeight()][1 - xyIndex]];\n      }\n      var rectRange = [localRange, otherExtent];\n      xyIndex && rectRange.reverse();\n      updateBaseRect(controller, cover, rectRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  };\n}\nexport default BrushController;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport RoamController from './RoamController.js';\nimport * as roamHelper from '../../component/helper/roamHelper.js';\nimport { onIrrelevantElement } from '../../component/helper/cursorHelper.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis, enableComponentHighDownFeatures, setDefaultStateProxy } from '../../util/states.js';\nimport geoSourceManager from '../../coord/geo/geoSourceManager.js';\nimport { getUID } from '../../util/component.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nimport { makeInner } from '../../util/model.js';\n/**\n * Only these tags enable use `itemStyle` if they are named in SVG.\n * Other tags like <text> <tspan> <image> might not suitable for `itemStyle`.\n * They will not be considered to be styled until some requirements come.\n */\nvar OPTION_STYLE_ENABLED_TAGS = ['rect', 'circle', 'line', 'ellipse', 'polygon', 'polyline', 'path'];\nvar OPTION_STYLE_ENABLED_TAG_MAP = zrUtil.createHashMap(OPTION_STYLE_ENABLED_TAGS);\nvar STATE_TRIGGER_TAG_MAP = zrUtil.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(['g']));\nvar LABEL_HOST_MAP = zrUtil.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(['g']));\nvar mapLabelRaw = makeInner();\nfunction getFixedItemStyle(model) {\n  var itemStyle = model.getItemStyle();\n  var areaColor = model.get('areaColor');\n  // If user want the color not to be changed when hover,\n  // they should both set areaColor and color to be null.\n  if (areaColor != null) {\n    itemStyle.fill = areaColor;\n  }\n  return itemStyle;\n}\n// Only stroke can be used for line.\n// Using fill in style if stroke not exits.\n// TODO Not sure yet. Perhaps a separate `lineStyle`?\nfunction fixLineStyle(styleHost) {\n  var style = styleHost.style;\n  if (style) {\n    style.stroke = style.stroke || style.fill;\n    style.fill = null;\n  }\n}\nvar MapDraw = /** @class */function () {\n  function MapDraw(api) {\n    var group = new graphic.Group();\n    this.uid = getUID('ec_map_draw');\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    this.group = group;\n    group.add(this._regionsGroup = new graphic.Group());\n    group.add(this._svgGroup = new graphic.Group());\n  }\n  MapDraw.prototype.draw = function (mapOrGeoModel, ecModel, api, fromView, payload) {\n    var isGeo = mapOrGeoModel.mainType === 'geo';\n    // Map series has data. GEO model that controlled by map series\n    // will be assigned with map data. Other GEO model has no data.\n    var data = mapOrGeoModel.getData && mapOrGeoModel.getData();\n    isGeo && ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'map'\n    }, function (mapSeries) {\n      if (!data && mapSeries.getHostGeoModel() === mapOrGeoModel) {\n        data = mapSeries.getData();\n      }\n    });\n    var geo = mapOrGeoModel.coordinateSystem;\n    var regionsGroup = this._regionsGroup;\n    var group = this.group;\n    var transformInfo = geo.getTransformInfo();\n    var transformInfoRaw = transformInfo.raw;\n    var transformInfoRoam = transformInfo.roam;\n    // No animation when first draw or in action\n    var isFirstDraw = !regionsGroup.childAt(0) || payload;\n    if (isFirstDraw) {\n      group.x = transformInfoRoam.x;\n      group.y = transformInfoRoam.y;\n      group.scaleX = transformInfoRoam.scaleX;\n      group.scaleY = transformInfoRoam.scaleY;\n      group.dirty();\n    } else {\n      graphic.updateProps(group, transformInfoRoam, mapOrGeoModel);\n    }\n    var isVisualEncodedByVisualMap = data && data.getVisual('visualMeta') && data.getVisual('visualMeta').length > 0;\n    var viewBuildCtx = {\n      api: api,\n      geo: geo,\n      mapOrGeoModel: mapOrGeoModel,\n      data: data,\n      isVisualEncodedByVisualMap: isVisualEncodedByVisualMap,\n      isGeo: isGeo,\n      transformInfoRaw: transformInfoRaw\n    };\n    if (geo.resourceType === 'geoJSON') {\n      this._buildGeoJSON(viewBuildCtx);\n    } else if (geo.resourceType === 'geoSVG') {\n      this._buildSVG(viewBuildCtx);\n    }\n    this._updateController(mapOrGeoModel, ecModel, api);\n    this._updateMapSelectHandler(mapOrGeoModel, regionsGroup, api, fromView);\n  };\n  MapDraw.prototype._buildGeoJSON = function (viewBuildCtx) {\n    var regionsGroupByName = this._regionsGroupByName = zrUtil.createHashMap();\n    var regionsInfoByName = zrUtil.createHashMap();\n    var regionsGroup = this._regionsGroup;\n    var transformInfoRaw = viewBuildCtx.transformInfoRaw;\n    var mapOrGeoModel = viewBuildCtx.mapOrGeoModel;\n    var data = viewBuildCtx.data;\n    var projection = viewBuildCtx.geo.projection;\n    var projectionStream = projection && projection.stream;\n    function transformPoint(point, project) {\n      if (project) {\n        // projection may return null point.\n        point = project(point);\n      }\n      return point && [point[0] * transformInfoRaw.scaleX + transformInfoRaw.x, point[1] * transformInfoRaw.scaleY + transformInfoRaw.y];\n    }\n    ;\n    function transformPolygonPoints(inPoints) {\n      var outPoints = [];\n      // If projectionStream is provided. Use it instead of single point project.\n      var project = !projectionStream && projection && projection.project;\n      for (var i = 0; i < inPoints.length; ++i) {\n        var newPt = transformPoint(inPoints[i], project);\n        newPt && outPoints.push(newPt);\n      }\n      return outPoints;\n    }\n    function getPolyShape(points) {\n      return {\n        shape: {\n          points: transformPolygonPoints(points)\n        }\n      };\n    }\n    regionsGroup.removeAll();\n    // Only when the resource is GeoJSON, there is `geo.regions`.\n    zrUtil.each(viewBuildCtx.geo.regions, function (region) {\n      var regionName = region.name;\n      // Consider in GeoJson properties.name may be duplicated, for example,\n      // there is multiple region named \"United Kindom\" or \"France\" (so many\n      // colonies). And it is not appropriate to merge them in geo, which\n      // will make them share the same label and bring trouble in label\n      // location calculation.\n      var regionGroup = regionsGroupByName.get(regionName);\n      var _a = regionsInfoByName.get(regionName) || {},\n        dataIdx = _a.dataIdx,\n        regionModel = _a.regionModel;\n      if (!regionGroup) {\n        regionGroup = regionsGroupByName.set(regionName, new graphic.Group());\n        regionsGroup.add(regionGroup);\n        dataIdx = data ? data.indexOfName(regionName) : null;\n        regionModel = viewBuildCtx.isGeo ? mapOrGeoModel.getRegionModel(regionName) : data ? data.getItemModel(dataIdx) : null;\n        regionsInfoByName.set(regionName, {\n          dataIdx: dataIdx,\n          regionModel: regionModel\n        });\n      }\n      var polygonSubpaths = [];\n      var polylineSubpaths = [];\n      zrUtil.each(region.geometries, function (geometry) {\n        // Polygon and MultiPolygon\n        if (geometry.type === 'polygon') {\n          var polys = [geometry.exterior].concat(geometry.interiors || []);\n          if (projectionStream) {\n            polys = projectPolys(polys, projectionStream);\n          }\n          zrUtil.each(polys, function (poly) {\n            polygonSubpaths.push(new graphic.Polygon(getPolyShape(poly)));\n          });\n        }\n        // LineString and MultiLineString\n        else {\n          var points = geometry.points;\n          if (projectionStream) {\n            points = projectPolys(points, projectionStream, true);\n          }\n          zrUtil.each(points, function (points) {\n            polylineSubpaths.push(new graphic.Polyline(getPolyShape(points)));\n          });\n        }\n      });\n      var centerPt = transformPoint(region.getCenter(), projection && projection.project);\n      function createCompoundPath(subpaths, isLine) {\n        if (!subpaths.length) {\n          return;\n        }\n        var compoundPath = new graphic.CompoundPath({\n          culling: true,\n          segmentIgnoreThreshold: 1,\n          shape: {\n            paths: subpaths\n          }\n        });\n        regionGroup.add(compoundPath);\n        applyOptionStyleForRegion(viewBuildCtx, compoundPath, dataIdx, regionModel);\n        resetLabelForRegion(viewBuildCtx, compoundPath, regionName, regionModel, mapOrGeoModel, dataIdx, centerPt);\n        if (isLine) {\n          fixLineStyle(compoundPath);\n          zrUtil.each(compoundPath.states, fixLineStyle);\n        }\n      }\n      createCompoundPath(polygonSubpaths);\n      createCompoundPath(polylineSubpaths, true);\n    });\n    // Ensure children have been added to `regionGroup` before calling them.\n    regionsGroupByName.each(function (regionGroup, regionName) {\n      var _a = regionsInfoByName.get(regionName),\n        dataIdx = _a.dataIdx,\n        regionModel = _a.regionModel;\n      resetEventTriggerForRegion(viewBuildCtx, regionGroup, regionName, regionModel, mapOrGeoModel, dataIdx);\n      resetTooltipForRegion(viewBuildCtx, regionGroup, regionName, regionModel, mapOrGeoModel);\n      resetStateTriggerForRegion(viewBuildCtx, regionGroup, regionName, regionModel, mapOrGeoModel);\n    }, this);\n  };\n  MapDraw.prototype._buildSVG = function (viewBuildCtx) {\n    var mapName = viewBuildCtx.geo.map;\n    var transformInfoRaw = viewBuildCtx.transformInfoRaw;\n    this._svgGroup.x = transformInfoRaw.x;\n    this._svgGroup.y = transformInfoRaw.y;\n    this._svgGroup.scaleX = transformInfoRaw.scaleX;\n    this._svgGroup.scaleY = transformInfoRaw.scaleY;\n    if (this._svgResourceChanged(mapName)) {\n      this._freeSVG();\n      this._useSVG(mapName);\n    }\n    var svgDispatcherMap = this._svgDispatcherMap = zrUtil.createHashMap();\n    var focusSelf = false;\n    zrUtil.each(this._svgGraphicRecord.named, function (namedItem) {\n      // Note that we also allow different elements have the same name.\n      // For example, a glyph of a city and the label of the city have\n      // the same name and their tooltip info can be defined in a single\n      // region option.\n      var regionName = namedItem.name;\n      var mapOrGeoModel = viewBuildCtx.mapOrGeoModel;\n      var data = viewBuildCtx.data;\n      var svgNodeTagLower = namedItem.svgNodeTagLower;\n      var el = namedItem.el;\n      var dataIdx = data ? data.indexOfName(regionName) : null;\n      var regionModel = mapOrGeoModel.getRegionModel(regionName);\n      if (OPTION_STYLE_ENABLED_TAG_MAP.get(svgNodeTagLower) != null && el instanceof Displayable) {\n        applyOptionStyleForRegion(viewBuildCtx, el, dataIdx, regionModel);\n      }\n      if (el instanceof Displayable) {\n        el.culling = true;\n      }\n      // We do not know how the SVG like so we'd better not to change z2.\n      // Otherwise it might bring some unexpected result. For example,\n      // an area hovered that make some inner city can not be clicked.\n      el.z2EmphasisLift = 0;\n      // If self named:\n      if (!namedItem.namedFrom) {\n        // label should batter to be displayed based on the center of <g>\n        // if it is named rather than displayed on each child.\n        if (LABEL_HOST_MAP.get(svgNodeTagLower) != null) {\n          resetLabelForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel, dataIdx, null);\n        }\n        resetEventTriggerForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel, dataIdx);\n        resetTooltipForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel);\n        if (STATE_TRIGGER_TAG_MAP.get(svgNodeTagLower) != null) {\n          var focus_1 = resetStateTriggerForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel);\n          if (focus_1 === 'self') {\n            focusSelf = true;\n          }\n          var els = svgDispatcherMap.get(regionName) || svgDispatcherMap.set(regionName, []);\n          els.push(el);\n        }\n      }\n    }, this);\n    this._enableBlurEntireSVG(focusSelf, viewBuildCtx);\n  };\n  MapDraw.prototype._enableBlurEntireSVG = function (focusSelf, viewBuildCtx) {\n    // It's a little complicated to support blurring the entire geoSVG in series-map.\n    // So do not support it until some requirements come.\n    // At present, in series-map, only regions can be blurred.\n    if (focusSelf && viewBuildCtx.isGeo) {\n      var blurStyle = viewBuildCtx.mapOrGeoModel.getModel(['blur', 'itemStyle']).getItemStyle();\n      // Only support `opacity` here. Because not sure that other props are suitable for\n      // all of the elements generated by SVG (especially for Text/TSpan/Image/... ).\n      var opacity_1 = blurStyle.opacity;\n      this._svgGraphicRecord.root.traverse(function (el) {\n        if (!el.isGroup) {\n          // PENDING: clear those settings to SVG elements when `_freeSVG`.\n          // (Currently it happen not to be needed.)\n          setDefaultStateProxy(el);\n          var style = el.ensureState('blur').style || {};\n          // Do not overwrite the region style that already set from region option.\n          if (style.opacity == null && opacity_1 != null) {\n            style.opacity = opacity_1;\n          }\n          // If `ensureState('blur').style = {}`, there will be default opacity.\n          // Enable `stateTransition` (animation).\n          el.ensureState('emphasis');\n        }\n      });\n    }\n  };\n  MapDraw.prototype.remove = function () {\n    this._regionsGroup.removeAll();\n    this._regionsGroupByName = null;\n    this._svgGroup.removeAll();\n    this._freeSVG();\n    this._controller.dispose();\n    this._controllerHost = null;\n  };\n  MapDraw.prototype.findHighDownDispatchers = function (name, geoModel) {\n    if (name == null) {\n      return [];\n    }\n    var geo = geoModel.coordinateSystem;\n    if (geo.resourceType === 'geoJSON') {\n      var regionsGroupByName = this._regionsGroupByName;\n      if (regionsGroupByName) {\n        var regionGroup = regionsGroupByName.get(name);\n        return regionGroup ? [regionGroup] : [];\n      }\n    } else if (geo.resourceType === 'geoSVG') {\n      return this._svgDispatcherMap && this._svgDispatcherMap.get(name) || [];\n    }\n  };\n  MapDraw.prototype._svgResourceChanged = function (mapName) {\n    return this._svgMapName !== mapName;\n  };\n  MapDraw.prototype._useSVG = function (mapName) {\n    var resource = geoSourceManager.getGeoResource(mapName);\n    if (resource && resource.type === 'geoSVG') {\n      var svgGraphic = resource.useGraphic(this.uid);\n      this._svgGroup.add(svgGraphic.root);\n      this._svgGraphicRecord = svgGraphic;\n      this._svgMapName = mapName;\n    }\n  };\n  MapDraw.prototype._freeSVG = function () {\n    var mapName = this._svgMapName;\n    if (mapName == null) {\n      return;\n    }\n    var resource = geoSourceManager.getGeoResource(mapName);\n    if (resource && resource.type === 'geoSVG') {\n      resource.freeGraphic(this.uid);\n    }\n    this._svgGraphicRecord = null;\n    this._svgDispatcherMap = null;\n    this._svgGroup.removeAll();\n    this._svgMapName = null;\n  };\n  MapDraw.prototype._updateController = function (mapOrGeoModel, ecModel, api) {\n    var geo = mapOrGeoModel.coordinateSystem;\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    // @ts-ignore FIXME:TS\n    controllerHost.zoomLimit = mapOrGeoModel.get('scaleLimit');\n    controllerHost.zoom = geo.getZoom();\n    // roamType is will be set default true if it is null\n    // @ts-ignore FIXME:TS\n    controller.enable(mapOrGeoModel.get('roam') || false);\n    var mainType = mapOrGeoModel.mainType;\n    function makeActionBase() {\n      var action = {\n        type: 'geoRoam',\n        componentType: mainType\n      };\n      action[mainType + 'Id'] = mapOrGeoModel.id;\n      return action;\n    }\n    controller.off('pan').on('pan', function (e) {\n      this._mouseDownFlag = false;\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\n        dx: e.dx,\n        dy: e.dy,\n        animation: {\n          duration: 0\n        }\n      }));\n    }, this);\n    controller.off('zoom').on('zoom', function (e) {\n      this._mouseDownFlag = false;\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY,\n        animation: {\n          duration: 0\n        }\n      }));\n    }, this);\n    controller.setPointerChecker(function (e, x, y) {\n      return geo.containPoint([x, y]) && !onIrrelevantElement(e, api, mapOrGeoModel);\n    });\n  };\n  /**\n   * FIXME: this is a temporarily workaround.\n   * When `geoRoam` the elements need to be reset in `MapView['render']`, because the props like\n   * `ignore` might have been modified by `LabelManager`, and `LabelManager#addLabelsOfSeries`\n   * will subsequently cache `defaultAttr` like `ignore`. If do not do this reset, the modified\n   * props will have no chance to be restored.\n   * Note: This reset should be after `clearStates` in `renderSeries` because `useStates` in\n   * `renderSeries` will cache the modified `ignore` to `el._normalState`.\n   * TODO:\n   * Use clone/immutable in `LabelManager`?\n   */\n  MapDraw.prototype.resetForLabelLayout = function () {\n    this.group.traverse(function (el) {\n      var label = el.getTextContent();\n      if (label) {\n        label.ignore = mapLabelRaw(label).ignore;\n      }\n    });\n  };\n  MapDraw.prototype._updateMapSelectHandler = function (mapOrGeoModel, regionsGroup, api, fromView) {\n    var mapDraw = this;\n    regionsGroup.off('mousedown');\n    regionsGroup.off('click');\n    // @ts-ignore FIXME:TS resolve type conflict\n    if (mapOrGeoModel.get('selectedMode')) {\n      regionsGroup.on('mousedown', function () {\n        mapDraw._mouseDownFlag = true;\n      });\n      regionsGroup.on('click', function (e) {\n        if (!mapDraw._mouseDownFlag) {\n          return;\n        }\n        mapDraw._mouseDownFlag = false;\n      });\n    }\n  };\n  return MapDraw;\n}();\n;\nfunction applyOptionStyleForRegion(viewBuildCtx, el, dataIndex, regionModel) {\n  // All of the path are using `itemStyle`, because\n  // (1) Some SVG also use fill on polyline (The different between\n  // polyline and polygon is \"open\" or \"close\" but not fill or not).\n  // (2) For the common props like opacity, if some use itemStyle\n  // and some use `lineStyle`, it might confuse users.\n  // (3) Most SVG use <path>, where can not detect whether to draw a \"line\"\n  // or a filled shape, so use `itemStyle` for <path>.\n  var normalStyleModel = regionModel.getModel('itemStyle');\n  var emphasisStyleModel = regionModel.getModel(['emphasis', 'itemStyle']);\n  var blurStyleModel = regionModel.getModel(['blur', 'itemStyle']);\n  var selectStyleModel = regionModel.getModel(['select', 'itemStyle']);\n  // NOTE: DON'T use 'style' in visual when drawing map.\n  // This component is used for drawing underlying map for both geo component and map series.\n  var normalStyle = getFixedItemStyle(normalStyleModel);\n  var emphasisStyle = getFixedItemStyle(emphasisStyleModel);\n  var selectStyle = getFixedItemStyle(selectStyleModel);\n  var blurStyle = getFixedItemStyle(blurStyleModel);\n  // Update the itemStyle if has data visual\n  var data = viewBuildCtx.data;\n  if (data) {\n    // Only visual color of each item will be used. It can be encoded by visualMap\n    // But visual color of series is used in symbol drawing\n    // Visual color for each series is for the symbol draw\n    var style = data.getItemVisual(dataIndex, 'style');\n    var decal = data.getItemVisual(dataIndex, 'decal');\n    if (viewBuildCtx.isVisualEncodedByVisualMap && style.fill) {\n      normalStyle.fill = style.fill;\n    }\n    if (decal) {\n      normalStyle.decal = createOrUpdatePatternFromDecal(decal, viewBuildCtx.api);\n    }\n  }\n  // SVG text, tspan and image can be named but not supporeted\n  // to be styled by region option yet.\n  el.setStyle(normalStyle);\n  el.style.strokeNoScale = true;\n  el.ensureState('emphasis').style = emphasisStyle;\n  el.ensureState('select').style = selectStyle;\n  el.ensureState('blur').style = blurStyle;\n  // Enable blur\n  setDefaultStateProxy(el);\n}\nfunction resetLabelForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel,\n// Exist only if `viewBuildCtx.data` exists.\ndataIdx,\n// If labelXY not provided, use `textConfig.position: 'inside'`\nlabelXY) {\n  var data = viewBuildCtx.data;\n  var isGeo = viewBuildCtx.isGeo;\n  var isDataNaN = data && isNaN(data.get(data.mapDimension('value'), dataIdx));\n  var itemLayout = data && data.getItemLayout(dataIdx);\n  // In the following cases label will be drawn\n  // 1. In map series and data value is NaN\n  // 2. In geo component\n  // 3. Region has no series legendIcon, which will be add a showLabel flag in mapSymbolLayout\n  if (isGeo || isDataNaN || itemLayout && itemLayout.showLabel) {\n    var query = !isGeo ? dataIdx : regionName;\n    var labelFetcher = void 0;\n    // Consider dataIdx not found.\n    if (!data || dataIdx >= 0) {\n      labelFetcher = mapOrGeoModel;\n    }\n    var specifiedTextOpt = labelXY ? {\n      normal: {\n        align: 'center',\n        verticalAlign: 'middle'\n      }\n    } : null;\n    // Caveat: must be called after `setDefaultStateProxy(el);` called.\n    // because textContent will be assign with `el.stateProxy` inside.\n    setLabelStyle(el, getLabelStatesModels(regionModel), {\n      labelFetcher: labelFetcher,\n      labelDataIndex: query,\n      defaultText: regionName\n    }, specifiedTextOpt);\n    var textEl = el.getTextContent();\n    if (textEl) {\n      mapLabelRaw(textEl).ignore = textEl.ignore;\n      if (el.textConfig && labelXY) {\n        // Compute a relative offset based on the el bounding rect.\n        var rect = el.getBoundingRect().clone();\n        // Need to make sure the percent position base on the same rect in normal and\n        // emphasis state. Otherwise if using boundingRect of el, but the emphasis state\n        // has borderWidth (even 0.5px), the text position will be changed obviously\n        // if the position is very big like ['1234%', '1345%'].\n        el.textConfig.layoutRect = rect;\n        el.textConfig.position = [(labelXY[0] - rect.x) / rect.width * 100 + '%', (labelXY[1] - rect.y) / rect.height * 100 + '%'];\n      }\n    }\n    // PENDING:\n    // If labelLayout is enabled (test/label-layout.html), el.dataIndex should be specified.\n    // But el.dataIndex is also used to determine whether user event should be triggered,\n    // where el.seriesIndex or el.dataModel must be specified. At present for a single el\n    // there is not case that \"only label layout enabled but user event disabled\", so here\n    // we depends `resetEventTriggerForRegion` to do the job of setting `el.dataIndex`.\n    el.disableLabelAnimation = true;\n  } else {\n    el.removeTextContent();\n    el.removeTextConfig();\n    el.disableLabelAnimation = null;\n  }\n}\nfunction resetEventTriggerForRegion(viewBuildCtx, eventTrigger, regionName, regionModel, mapOrGeoModel,\n// Exist only if `viewBuildCtx.data` exists.\ndataIdx) {\n  // setItemGraphicEl, setHoverStyle after all polygons and labels\n  // are added to the regionGroup\n  if (viewBuildCtx.data) {\n    // FIXME: when series-map use a SVG map, and there are duplicated name specified\n    // on different SVG elements, after `data.setItemGraphicEl(...)`:\n    // (1) all of them will be mounted with `dataIndex`, `seriesIndex`, so that tooltip\n    // can be triggered only mouse hover. That's correct.\n    // (2) only the last element will be kept in `data`, so that if trigger tooltip\n    // by `dispatchAction`, only the last one can be found and triggered. That might be\n    // not correct. We will fix it in future if anyone demanding that.\n    viewBuildCtx.data.setItemGraphicEl(dataIdx, eventTrigger);\n  }\n  // series-map will not trigger \"geoselectchange\" no matter it is\n  // based on a declared geo component. Because series-map will\n  // trigger \"selectchange\". If it trigger both the two events,\n  // If users call `chart.dispatchAction({type: 'toggleSelect'})`,\n  // it not easy to also fire event \"geoselectchanged\".\n  else {\n    // Package custom mouse event for geo component\n    getECData(eventTrigger).eventData = {\n      componentType: 'geo',\n      componentIndex: mapOrGeoModel.componentIndex,\n      geoIndex: mapOrGeoModel.componentIndex,\n      name: regionName,\n      region: regionModel && regionModel.option || {}\n    };\n  }\n}\nfunction resetTooltipForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel) {\n  if (!viewBuildCtx.data) {\n    graphic.setTooltipConfig({\n      el: el,\n      componentModel: mapOrGeoModel,\n      itemName: regionName,\n      // @ts-ignore FIXME:TS fix the \"compatible with each other\"?\n      itemTooltipOption: regionModel.get('tooltip')\n    });\n  }\n}\nfunction resetStateTriggerForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel) {\n  // @ts-ignore FIXME:TS fix the \"compatible with each other\"?\n  el.highDownSilentOnTouch = !!mapOrGeoModel.get('selectedMode');\n  // @ts-ignore FIXME:TS fix the \"compatible with each other\"?\n  var emphasisModel = regionModel.getModel('emphasis');\n  var focus = emphasisModel.get('focus');\n  toggleHoverEmphasis(el, focus, emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n  if (viewBuildCtx.isGeo) {\n    enableComponentHighDownFeatures(el, mapOrGeoModel, regionName);\n  }\n  return focus;\n}\nfunction projectPolys(rings,\n// Polygons include exterior and interiors. Or polylines.\ncreateStream, isLine) {\n  var polygons = [];\n  var curPoly;\n  function startPolygon() {\n    curPoly = [];\n  }\n  function endPolygon() {\n    if (curPoly.length) {\n      polygons.push(curPoly);\n      curPoly = [];\n    }\n  }\n  var stream = createStream({\n    polygonStart: startPolygon,\n    polygonEnd: endPolygon,\n    lineStart: startPolygon,\n    lineEnd: endPolygon,\n    point: function (x, y) {\n      // May have NaN values from stream.\n      if (isFinite(x) && isFinite(y)) {\n        curPoly.push([x, y]);\n      }\n    },\n    sphere: function () {}\n  });\n  !isLine && stream.polygonStart();\n  zrUtil.each(rings, function (ring) {\n    stream.lineStart();\n    for (var i = 0; i < ring.length; i++) {\n      stream.point(ring[i][0], ring[i][1]);\n    }\n    stream.lineEnd();\n  });\n  !isLine && stream.polygonEnd();\n  return polygons;\n}\nexport default MapDraw;\n// @ts-ignore FIXME:TS fix the \"compatible with each other\"?","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as interactionMutex from './interactionMutex.js';\nimport { isString, bind, defaults, clone } from 'zrender/lib/core/util.js';\n;\nvar RoamController = /** @class */function (_super) {\n  __extends(RoamController, _super);\n  function RoamController(zr) {\n    var _this = _super.call(this) || this;\n    _this._zr = zr;\n    // Avoid two roamController bind the same handler\n    var mousedownHandler = bind(_this._mousedownHandler, _this);\n    var mousemoveHandler = bind(_this._mousemoveHandler, _this);\n    var mouseupHandler = bind(_this._mouseupHandler, _this);\n    var mousewheelHandler = bind(_this._mousewheelHandler, _this);\n    var pinchHandler = bind(_this._pinchHandler, _this);\n    /**\n     * Notice: only enable needed types. For example, if 'zoom'\n     * is not needed, 'zoom' should not be enabled, otherwise\n     * default mousewheel behaviour (scroll page) will be disabled.\n     */\n    _this.enable = function (controlType, opt) {\n      // Disable previous first\n      this.disable();\n      this._opt = defaults(clone(opt) || {}, {\n        zoomOnMouseWheel: true,\n        moveOnMouseMove: true,\n        // By default, wheel do not trigger move.\n        moveOnMouseWheel: false,\n        preventDefaultMouseMove: true\n      });\n      if (controlType == null) {\n        controlType = true;\n      }\n      if (controlType === true || controlType === 'move' || controlType === 'pan') {\n        zr.on('mousedown', mousedownHandler);\n        zr.on('mousemove', mousemoveHandler);\n        zr.on('mouseup', mouseupHandler);\n      }\n      if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n        zr.on('mousewheel', mousewheelHandler);\n        zr.on('pinch', pinchHandler);\n      }\n    };\n    _this.disable = function () {\n      zr.off('mousedown', mousedownHandler);\n      zr.off('mousemove', mousemoveHandler);\n      zr.off('mouseup', mouseupHandler);\n      zr.off('mousewheel', mousewheelHandler);\n      zr.off('pinch', pinchHandler);\n    };\n    return _this;\n  }\n  RoamController.prototype.isDragging = function () {\n    return this._dragging;\n  };\n  RoamController.prototype.isPinching = function () {\n    return this._pinching;\n  };\n  RoamController.prototype.setPointerChecker = function (pointerChecker) {\n    this.pointerChecker = pointerChecker;\n  };\n  RoamController.prototype.dispose = function () {\n    this.disable();\n  };\n  RoamController.prototype._mousedownHandler = function (e) {\n    if (eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      return;\n    }\n    var el = e.target;\n    while (el) {\n      if (el.draggable) {\n        return;\n      }\n      // check if host is draggable\n      el = el.__hostTarget || el.parent;\n    }\n    var x = e.offsetX;\n    var y = e.offsetY;\n    // Only check on mosedown, but not mousemove.\n    // Mouse can be out of target when mouse moving.\n    if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n      this._x = x;\n      this._y = y;\n      this._dragging = true;\n    }\n  };\n  RoamController.prototype._mousemoveHandler = function (e) {\n    if (!this._dragging || !isAvailableBehavior('moveOnMouseMove', e, this._opt) || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var oldX = this._x;\n    var oldY = this._y;\n    var dx = x - oldX;\n    var dy = y - oldY;\n    this._x = x;\n    this._y = y;\n    this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\n    trigger(this, 'pan', 'moveOnMouseMove', e, {\n      dx: dx,\n      dy: dy,\n      oldX: oldX,\n      oldY: oldY,\n      newX: x,\n      newY: y,\n      isAvailableBehavior: null\n    });\n  };\n  RoamController.prototype._mouseupHandler = function (e) {\n    if (!eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      this._dragging = false;\n    }\n  };\n  RoamController.prototype._mousewheelHandler = function (e) {\n    var shouldZoom = isAvailableBehavior('zoomOnMouseWheel', e, this._opt);\n    var shouldMove = isAvailableBehavior('moveOnMouseWheel', e, this._opt);\n    var wheelDelta = e.wheelDelta;\n    var absWheelDeltaDelta = Math.abs(wheelDelta);\n    var originX = e.offsetX;\n    var originY = e.offsetY;\n    // wheelDelta maybe -0 in chrome mac.\n    if (wheelDelta === 0 || !shouldZoom && !shouldMove) {\n      return;\n    }\n    // If both `shouldZoom` and `shouldMove` is true, trigger\n    // their event both, and the final behavior is determined\n    // by event listener themselves.\n    if (shouldZoom) {\n      // Convenience:\n      // Mac and VM Windows on Mac: scroll up: zoom out.\n      // Windows: scroll up: zoom in.\n      // FIXME: Should do more test in different environment.\n      // wheelDelta is too complicated in difference nvironment\n      // (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),\n      // although it has been normallized by zrender.\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var factor = absWheelDeltaDelta > 3 ? 1.4 : absWheelDeltaDelta > 1 ? 1.2 : 1.1;\n      var scale = wheelDelta > 0 ? factor : 1 / factor;\n      checkPointerAndTrigger(this, 'zoom', 'zoomOnMouseWheel', e, {\n        scale: scale,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n    if (shouldMove) {\n      // FIXME: Should do more test in different environment.\n      var absDelta = Math.abs(wheelDelta);\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var scrollDelta = (wheelDelta > 0 ? 1 : -1) * (absDelta > 3 ? 0.4 : absDelta > 1 ? 0.15 : 0.05);\n      checkPointerAndTrigger(this, 'scrollMove', 'moveOnMouseWheel', e, {\n        scrollDelta: scrollDelta,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n  };\n  RoamController.prototype._pinchHandler = function (e) {\n    if (interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n    var scale = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n    checkPointerAndTrigger(this, 'zoom', null, e, {\n      scale: scale,\n      originX: e.pinchX,\n      originY: e.pinchY,\n      isAvailableBehavior: null\n    });\n  };\n  return RoamController;\n}(Eventful);\nfunction checkPointerAndTrigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  if (controller.pointerChecker && controller.pointerChecker(e, contollerEvent.originX, contollerEvent.originY)) {\n    // When mouse is out of roamController rect,\n    // default befavoius should not be be disabled, otherwise\n    // page sliding is disabled, contrary to expectation.\n    eventTool.stop(e.event);\n    trigger(controller, eventName, behaviorToCheck, e, contollerEvent);\n  }\n}\nfunction trigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  // Also provide behavior checker for event listener, for some case that\n  // multiple components share one listener.\n  contollerEvent.isAvailableBehavior = bind(isAvailableBehavior, null, behaviorToCheck, e);\n  // TODO should not have type issue.\n  controller.trigger(eventName, contollerEvent);\n}\n// settings: {\n//     zoomOnMouseWheel\n//     moveOnMouseMove\n//     moveOnMouseWheel\n// }\n// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\nfunction isAvailableBehavior(behaviorToCheck, e, settings) {\n  var setting = settings[behaviorToCheck];\n  return !behaviorToCheck || setting && (!isString(setting) || e.event[setting + 'Key']);\n}\nexport default RoamController;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { onIrrelevantElement } from './cursorHelper.js';\nimport * as graphicUtil from '../../util/graphic.js';\nexport function makeRectPanelClipPath(rect) {\n  rect = normalizeRect(rect);\n  return function (localPoints) {\n    return graphicUtil.clipPointsByRect(localPoints, rect);\n  };\n}\nexport function makeLinearBrushOtherExtent(rect, specifiedXYIndex) {\n  rect = normalizeRect(rect);\n  return function (xyIndex) {\n    var idx = specifiedXYIndex != null ? specifiedXYIndex : xyIndex;\n    var brushWidth = idx ? rect.width : rect.height;\n    var base = idx ? rect.x : rect.y;\n    return [base, base + (brushWidth || 0)];\n  };\n}\nexport function makeRectIsTargetByCursor(rect, api, targetModel) {\n  var boundingRect = normalizeRect(rect);\n  return function (e, localCursorPoint) {\n    return boundingRect.contain(localCursorPoint[0], localCursorPoint[1]) && !onIrrelevantElement(e, api, targetModel);\n  };\n}\n// Consider width/height is negative.\nfunction normalizeRect(rect) {\n  return BoundingRect.create(rect);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\nexport function onIrrelevantElement(e, api, targetCoordSysModel) {\n  var model = api.getComponentByElement(e.topTarget);\n  // If model is axisModel, it works only if it is injected with coordinateSystem.\n  var coordSys = model && model.coordinateSystem;\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES.hasOwnProperty(model.mainType) && coordSys && coordSys.model !== targetCoordSysModel;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as echarts from '../../core/echarts.js';\nimport { noop } from 'zrender/lib/core/util.js';\nvar ATTR = '\\0_ec_interaction_mutex';\nexport function take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\nexport function release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\nexport function isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n// TODO: SELF REGISTERED.\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, noop);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * For geo and graph.\n */\nexport function updateViewOnPan(controllerHost, dx, dy) {\n  var target = controllerHost.target;\n  target.x += dx;\n  target.y += dy;\n  target.dirty();\n}\n/**\n * For geo and graph.\n */\nexport function updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n  var target = controllerHost.target;\n  var zoomLimit = controllerHost.zoomLimit;\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n  newZoom *= zoomDelta;\n  if (zoomLimit) {\n    var zoomMin = zoomLimit.min || 0;\n    var zoomMax = zoomLimit.max || Infinity;\n    newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\n  }\n  var zoomScale = newZoom / controllerHost.zoom;\n  controllerHost.zoom = newZoom;\n  // Keep the mouse center when scaling\n  target.x -= (zoomX - target.x) * (zoomScale - 1);\n  target.y -= (zoomY - target.y) * (zoomScale - 1);\n  target.scaleX *= zoomScale;\n  target.scaleY *= zoomScale;\n  target.dirty();\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param delta Move length.\n * @param handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param handleIndex Can be 'all', means that both move the two handleEnds.\n * @param minSpan The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param maxSpan The range of dataZoom can not be larger than that.\n * @return The input handleEnds.\n */\nexport default function sliderMove(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0];\n  // Notice maxSpan and minSpan can be null/undefined.\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta;\n  // Restrict in extent.\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent);\n  // Expand span.\n  var currDistSign;\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  }\n  // Shrink span.\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n  return handleEnds;\n}\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex];\n  // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nexport default function parallelPreprocessor(option) {\n  createParallelIfNeeded(option);\n  mergeAxisOptionFromParallel(option);\n}\n/**\n * Create a parallel coordinate if not exists.\n * @inner\n */\nfunction createParallelIfNeeded(option) {\n  if (option.parallel) {\n    return;\n  }\n  var hasParallelSeries = false;\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'parallel') {\n      hasParallelSeries = true;\n    }\n  });\n  if (hasParallelSeries) {\n    option.parallel = [{}];\n  }\n}\n/**\n * Merge aixs definition from parallel option (if exists) to axis option.\n * @inner\n */\nfunction mergeAxisOptionFromParallel(option) {\n  var axes = modelUtil.normalizeToArray(option.parallelAxis);\n  zrUtil.each(axes, function (axisOption) {\n    if (!zrUtil.isObject(axisOption)) {\n      return;\n    }\n    var parallelIndex = axisOption.parallelIndex || 0;\n    var parallelOption = modelUtil.normalizeToArray(option.parallel)[parallelIndex];\n    if (parallelOption && parallelOption.parallelAxisDefault) {\n      zrUtil.merge(axisOption, parallelOption.parallelAxisDefault, false);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nimport { each, bind, extend } from 'zrender/lib/core/util.js';\nimport { createOrUpdate, clear } from '../../util/throttle.js';\nvar CLICK_THRESHOLD = 5; // > 4\nvar ParallelView = /** @class */function (_super) {\n  __extends(ParallelView, _super);\n  function ParallelView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ParallelView.type;\n    return _this;\n  }\n  ParallelView.prototype.render = function (parallelModel, ecModel, api) {\n    this._model = parallelModel;\n    this._api = api;\n    if (!this._handlers) {\n      this._handlers = {};\n      each(handlers, function (handler, eventName) {\n        api.getZr().on(eventName, this._handlers[eventName] = bind(handler, this));\n      }, this);\n    }\n    createOrUpdate(this, '_throttledDispatchExpand', parallelModel.get('axisExpandRate'), 'fixRate');\n  };\n  ParallelView.prototype.dispose = function (ecModel, api) {\n    clear(this, '_throttledDispatchExpand');\n    each(this._handlers, function (handler, eventName) {\n      api.getZr().off(eventName, handler);\n    });\n    this._handlers = null;\n  };\n  /**\n   * @internal\n   * @param {Object} [opt] If null, cancel the last action triggering for debounce.\n   */\n  ParallelView.prototype._throttledDispatchExpand = function (opt) {\n    this._dispatchExpand(opt);\n  };\n  /**\n   * @internal\n   */\n  ParallelView.prototype._dispatchExpand = function (opt) {\n    opt && this._api.dispatchAction(extend({\n      type: 'parallelAxisExpand'\n    }, opt));\n  };\n  ParallelView.type = 'parallel';\n  return ParallelView;\n}(ComponentView);\nvar handlers = {\n  mousedown: function (e) {\n    if (checkTrigger(this, 'click')) {\n      this._mouseDownPoint = [e.offsetX, e.offsetY];\n    }\n  },\n  mouseup: function (e) {\n    var mouseDownPoint = this._mouseDownPoint;\n    if (checkTrigger(this, 'click') && mouseDownPoint) {\n      var point = [e.offsetX, e.offsetY];\n      var dist = Math.pow(mouseDownPoint[0] - point[0], 2) + Math.pow(mouseDownPoint[1] - point[1], 2);\n      if (dist > CLICK_THRESHOLD) {\n        return;\n      }\n      var result = this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n      result.behavior !== 'none' && this._dispatchExpand({\n        axisExpandWindow: result.axisExpandWindow\n      });\n    }\n    this._mouseDownPoint = null;\n  },\n  mousemove: function (e) {\n    // Should do nothing when brushing.\n    if (this._mouseDownPoint || !checkTrigger(this, 'mousemove')) {\n      return;\n    }\n    var model = this._model;\n    var result = model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n    var behavior = result.behavior;\n    behavior === 'jump' && this._throttledDispatchExpand.debounceNextCall(model.get('axisExpandDebounce'));\n    this._throttledDispatchExpand(behavior === 'none' ? null // Cancel the last trigger, in case that mouse slide out of the area quickly.\n    : {\n      axisExpandWindow: result.axisExpandWindow,\n      // Jumping uses animation, and sliding suppresses animation.\n      animation: behavior === 'jump' ? null : {\n        duration: 0 // Disable animation.\n      }\n    });\n  }\n};\n\nfunction checkTrigger(view, triggerOn) {\n  var model = view._model;\n  return model.get('axisExpandable') && model.get('axisExpandTriggerOn') === triggerOn;\n}\nexport default ParallelView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nvar ParallelModel = /** @class */function (_super) {\n  __extends(ParallelModel, _super);\n  function ParallelModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ParallelModel.type;\n    return _this;\n  }\n  ParallelModel.prototype.init = function () {\n    _super.prototype.init.apply(this, arguments);\n    this.mergeOption({});\n  };\n  ParallelModel.prototype.mergeOption = function (newOption) {\n    var thisOption = this.option;\n    newOption && zrUtil.merge(thisOption, newOption, true);\n    this._initDimensions();\n  };\n  /**\n   * Whether series or axis is in this coordinate system.\n   */\n  ParallelModel.prototype.contains = function (model, ecModel) {\n    var parallelIndex = model.get('parallelIndex');\n    return parallelIndex != null && ecModel.getComponent('parallel', parallelIndex) === this;\n  };\n  ParallelModel.prototype.setAxisExpand = function (opt) {\n    zrUtil.each(['axisExpandable', 'axisExpandCenter', 'axisExpandCount', 'axisExpandWidth', 'axisExpandWindow'], function (name) {\n      if (opt.hasOwnProperty(name)) {\n        // @ts-ignore FIXME: why \"never\" inferred in this.option[name]?\n        this.option[name] = opt[name];\n      }\n    }, this);\n  };\n  ParallelModel.prototype._initDimensions = function () {\n    var dimensions = this.dimensions = [];\n    var parallelAxisIndex = this.parallelAxisIndex = [];\n    var axisModels = zrUtil.filter(this.ecModel.queryComponents({\n      mainType: 'parallelAxis'\n    }), function (axisModel) {\n      // Can not use this.contains here, because\n      // initialization has not been completed yet.\n      return (axisModel.get('parallelIndex') || 0) === this.componentIndex;\n    }, this);\n    zrUtil.each(axisModels, function (axisModel) {\n      dimensions.push('dim' + axisModel.get('dim'));\n      parallelAxisIndex.push(axisModel.componentIndex);\n    });\n  };\n  ParallelModel.type = 'parallel';\n  ParallelModel.dependencies = ['parallelAxis'];\n  ParallelModel.layoutMode = 'box';\n  ParallelModel.defaultOption = {\n    // zlevel: 0,\n    z: 0,\n    left: 80,\n    top: 60,\n    right: 80,\n    bottom: 60,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    layout: 'horizontal',\n    // FIXME\n    // naming?\n    axisExpandable: false,\n    axisExpandCenter: null,\n    axisExpandCount: 0,\n    axisExpandWidth: 50,\n    axisExpandRate: 17,\n    axisExpandDebounce: 50,\n    // [out, in, jumpTarget]. In percentage. If use [null, 0.05], null means full.\n    // Do not doc to user until necessary.\n    axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4],\n    axisExpandTriggerOn: 'click',\n    parallelAxisDefault: null\n  };\n  return ParallelModel;\n}(ComponentModel);\nexport default ParallelModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar ParallelAxis = /** @class */function (_super) {\n  __extends(ParallelAxis, _super);\n  function ParallelAxis(dim, scale, coordExtent, axisType, axisIndex) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n    _this.type = axisType || 'value';\n    _this.axisIndex = axisIndex;\n    return _this;\n  }\n  ParallelAxis.prototype.isHorizontal = function () {\n    return this.coordinateSystem.getModel().get('layout') !== 'horizontal';\n  };\n  return ParallelAxis;\n}(Axis);\nexport default ParallelAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Parallel Coordinates\n * <https://en.wikipedia.org/wiki/Parallel_coordinates>\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport * as axisHelper from '../../coord/axisHelper.js';\nimport ParallelAxis from './ParallelAxis.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as numberUtil from '../../util/number.js';\nimport sliderMove from '../../component/helper/sliderMove.js';\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar round = numberUtil.round;\nvar PI = Math.PI;\nvar Parallel = /** @class */function () {\n  function Parallel(parallelModel, ecModel, api) {\n    this.type = 'parallel';\n    /**\n     * key: dimension\n     */\n    this._axesMap = zrUtil.createHashMap();\n    /**\n     * key: dimension\n     * value: {position: [], rotation, }\n     */\n    this._axesLayout = {};\n    this.dimensions = parallelModel.dimensions;\n    this._model = parallelModel;\n    this._init(parallelModel, ecModel, api);\n  }\n  Parallel.prototype._init = function (parallelModel, ecModel, api) {\n    var dimensions = parallelModel.dimensions;\n    var parallelAxisIndex = parallelModel.parallelAxisIndex;\n    each(dimensions, function (dim, idx) {\n      var axisIndex = parallelAxisIndex[idx];\n      var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n      var axis = this._axesMap.set(dim, new ParallelAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisIndex));\n      var isCategory = axis.type === 'category';\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\n      axis.inverse = axisModel.get('inverse');\n      // Injection\n      axisModel.axis = axis;\n      axis.model = axisModel;\n      axis.coordinateSystem = axisModel.coordinateSystem = this;\n    }, this);\n  };\n  /**\n   * Update axis scale after data processed\n   */\n  Parallel.prototype.update = function (ecModel, api) {\n    this._updateAxesFromSeries(this._model, ecModel);\n  };\n  Parallel.prototype.containPoint = function (point) {\n    var layoutInfo = this._makeLayoutInfo();\n    var axisBase = layoutInfo.axisBase;\n    var layoutBase = layoutInfo.layoutBase;\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\n    var pAxis = point[1 - pixelDimIndex];\n    var pLayout = point[pixelDimIndex];\n    return pAxis >= axisBase && pAxis <= axisBase + layoutInfo.axisLength && pLayout >= layoutBase && pLayout <= layoutBase + layoutInfo.layoutLength;\n  };\n  Parallel.prototype.getModel = function () {\n    return this._model;\n  };\n  /**\n   * Update properties from series\n   */\n  Parallel.prototype._updateAxesFromSeries = function (parallelModel, ecModel) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (!parallelModel.contains(seriesModel, ecModel)) {\n        return;\n      }\n      var data = seriesModel.getData();\n      each(this.dimensions, function (dim) {\n        var axis = this._axesMap.get(dim);\n        axis.scale.unionExtentFromData(data, data.mapDimension(dim));\n        axisHelper.niceScaleExtent(axis.scale, axis.model);\n      }, this);\n    }, this);\n  };\n  /**\n   * Resize the parallel coordinate system.\n   */\n  Parallel.prototype.resize = function (parallelModel, api) {\n    this._rect = layoutUtil.getLayoutRect(parallelModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    this._layoutAxes();\n  };\n  Parallel.prototype.getRect = function () {\n    return this._rect;\n  };\n  Parallel.prototype._makeLayoutInfo = function () {\n    var parallelModel = this._model;\n    var rect = this._rect;\n    var xy = ['x', 'y'];\n    var wh = ['width', 'height'];\n    var layout = parallelModel.get('layout');\n    var pixelDimIndex = layout === 'horizontal' ? 0 : 1;\n    var layoutLength = rect[wh[pixelDimIndex]];\n    var layoutExtent = [0, layoutLength];\n    var axisCount = this.dimensions.length;\n    var axisExpandWidth = restrict(parallelModel.get('axisExpandWidth'), layoutExtent);\n    var axisExpandCount = restrict(parallelModel.get('axisExpandCount') || 0, [0, axisCount]);\n    var axisExpandable = parallelModel.get('axisExpandable') && axisCount > 3 && axisCount > axisExpandCount && axisExpandCount > 1 && axisExpandWidth > 0 && layoutLength > 0;\n    // `axisExpandWindow` is According to the coordinates of [0, axisExpandLength],\n    // for sake of consider the case that axisCollapseWidth is 0 (when screen is narrow),\n    // where collapsed axes should be overlapped.\n    var axisExpandWindow = parallelModel.get('axisExpandWindow');\n    var winSize;\n    if (!axisExpandWindow) {\n      winSize = restrict(axisExpandWidth * (axisExpandCount - 1), layoutExtent);\n      var axisExpandCenter = parallelModel.get('axisExpandCenter') || mathFloor(axisCount / 2);\n      axisExpandWindow = [axisExpandWidth * axisExpandCenter - winSize / 2];\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n    } else {\n      winSize = restrict(axisExpandWindow[1] - axisExpandWindow[0], layoutExtent);\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n    }\n    var axisCollapseWidth = (layoutLength - winSize) / (axisCount - axisExpandCount);\n    // Avoid axisCollapseWidth is too small.\n    axisCollapseWidth < 3 && (axisCollapseWidth = 0);\n    // Find the first and last indices > ewin[0] and < ewin[1].\n    var winInnerIndices = [mathFloor(round(axisExpandWindow[0] / axisExpandWidth, 1)) + 1, mathCeil(round(axisExpandWindow[1] / axisExpandWidth, 1)) - 1];\n    // Pos in ec coordinates.\n    var axisExpandWindow0Pos = axisCollapseWidth / axisExpandWidth * axisExpandWindow[0];\n    return {\n      layout: layout,\n      pixelDimIndex: pixelDimIndex,\n      layoutBase: rect[xy[pixelDimIndex]],\n      layoutLength: layoutLength,\n      axisBase: rect[xy[1 - pixelDimIndex]],\n      axisLength: rect[wh[1 - pixelDimIndex]],\n      axisExpandable: axisExpandable,\n      axisExpandWidth: axisExpandWidth,\n      axisCollapseWidth: axisCollapseWidth,\n      axisExpandWindow: axisExpandWindow,\n      axisCount: axisCount,\n      winInnerIndices: winInnerIndices,\n      axisExpandWindow0Pos: axisExpandWindow0Pos\n    };\n  };\n  Parallel.prototype._layoutAxes = function () {\n    var rect = this._rect;\n    var axes = this._axesMap;\n    var dimensions = this.dimensions;\n    var layoutInfo = this._makeLayoutInfo();\n    var layout = layoutInfo.layout;\n    axes.each(function (axis) {\n      var axisExtent = [0, layoutInfo.axisLength];\n      var idx = axis.inverse ? 1 : 0;\n      axis.setExtent(axisExtent[idx], axisExtent[1 - idx]);\n    });\n    each(dimensions, function (dim, idx) {\n      var posInfo = (layoutInfo.axisExpandable ? layoutAxisWithExpand : layoutAxisWithoutExpand)(idx, layoutInfo);\n      var positionTable = {\n        horizontal: {\n          x: posInfo.position,\n          y: layoutInfo.axisLength\n        },\n        vertical: {\n          x: 0,\n          y: posInfo.position\n        }\n      };\n      var rotationTable = {\n        horizontal: PI / 2,\n        vertical: 0\n      };\n      var position = [positionTable[layout].x + rect.x, positionTable[layout].y + rect.y];\n      var rotation = rotationTable[layout];\n      var transform = matrix.create();\n      matrix.rotate(transform, transform, rotation);\n      matrix.translate(transform, transform, position);\n      // TODO\n      // tick layout info\n      // TODO\n      // update dimensions info based on axis order.\n      this._axesLayout[dim] = {\n        position: position,\n        rotation: rotation,\n        transform: transform,\n        axisNameAvailableWidth: posInfo.axisNameAvailableWidth,\n        axisLabelShow: posInfo.axisLabelShow,\n        nameTruncateMaxWidth: posInfo.nameTruncateMaxWidth,\n        tickDirection: 1,\n        labelDirection: 1\n      };\n    }, this);\n  };\n  /**\n   * Get axis by dim.\n   */\n  Parallel.prototype.getAxis = function (dim) {\n    return this._axesMap.get(dim);\n  };\n  /**\n   * Convert a dim value of a single item of series data to Point.\n   */\n  Parallel.prototype.dataToPoint = function (value, dim) {\n    return this.axisCoordToPoint(this._axesMap.get(dim).dataToCoord(value), dim);\n  };\n  /**\n   * Travel data for one time, get activeState of each data item.\n   * @param start the start dataIndex that travel from.\n   * @param end the next dataIndex of the last dataIndex will be travel.\n   */\n  Parallel.prototype.eachActiveState = function (data, callback, start, end) {\n    start == null && (start = 0);\n    end == null && (end = data.count());\n    var axesMap = this._axesMap;\n    var dimensions = this.dimensions;\n    var dataDimensions = [];\n    var axisModels = [];\n    zrUtil.each(dimensions, function (axisDim) {\n      dataDimensions.push(data.mapDimension(axisDim));\n      axisModels.push(axesMap.get(axisDim).model);\n    });\n    var hasActiveSet = this.hasAxisBrushed();\n    for (var dataIndex = start; dataIndex < end; dataIndex++) {\n      var activeState = void 0;\n      if (!hasActiveSet) {\n        activeState = 'normal';\n      } else {\n        activeState = 'active';\n        var values = data.getValues(dataDimensions, dataIndex);\n        for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n          var state = axisModels[j].getActiveState(values[j]);\n          if (state === 'inactive') {\n            activeState = 'inactive';\n            break;\n          }\n        }\n      }\n      callback(activeState, dataIndex);\n    }\n  };\n  /**\n   * Whether has any activeSet.\n   */\n  Parallel.prototype.hasAxisBrushed = function () {\n    var dimensions = this.dimensions;\n    var axesMap = this._axesMap;\n    var hasActiveSet = false;\n    for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n      if (axesMap.get(dimensions[j]).model.getActiveState() !== 'normal') {\n        hasActiveSet = true;\n      }\n    }\n    return hasActiveSet;\n  };\n  /**\n   * Convert coords of each axis to Point.\n   *  Return point. For example: [10, 20]\n   */\n  Parallel.prototype.axisCoordToPoint = function (coord, dim) {\n    var axisLayout = this._axesLayout[dim];\n    return graphic.applyTransform([coord, 0], axisLayout.transform);\n  };\n  /**\n   * Get axis layout.\n   */\n  Parallel.prototype.getAxisLayout = function (dim) {\n    return zrUtil.clone(this._axesLayout[dim]);\n  };\n  /**\n   * @return {Object} {axisExpandWindow, delta, behavior: 'jump' | 'slide' | 'none'}.\n   */\n  Parallel.prototype.getSlidedAxisExpandWindow = function (point) {\n    var layoutInfo = this._makeLayoutInfo();\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\n    var axisExpandWindow = layoutInfo.axisExpandWindow.slice();\n    var winSize = axisExpandWindow[1] - axisExpandWindow[0];\n    var extent = [0, layoutInfo.axisExpandWidth * (layoutInfo.axisCount - 1)];\n    // Out of the area of coordinate system.\n    if (!this.containPoint(point)) {\n      return {\n        behavior: 'none',\n        axisExpandWindow: axisExpandWindow\n      };\n    }\n    // Convert the point from global to expand coordinates.\n    var pointCoord = point[pixelDimIndex] - layoutInfo.layoutBase - layoutInfo.axisExpandWindow0Pos;\n    // For dragging operation convenience, the window should not be\n    // slided when mouse is the center area of the window.\n    var delta;\n    var behavior = 'slide';\n    var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n    var triggerArea = this._model.get('axisExpandSlideTriggerArea');\n    // But consider touch device, jump is necessary.\n    var useJump = triggerArea[0] != null;\n    if (axisCollapseWidth) {\n      if (useJump && axisCollapseWidth && pointCoord < winSize * triggerArea[0]) {\n        behavior = 'jump';\n        delta = pointCoord - winSize * triggerArea[2];\n      } else if (useJump && axisCollapseWidth && pointCoord > winSize * (1 - triggerArea[0])) {\n        behavior = 'jump';\n        delta = pointCoord - winSize * (1 - triggerArea[2]);\n      } else {\n        (delta = pointCoord - winSize * triggerArea[1]) >= 0 && (delta = pointCoord - winSize * (1 - triggerArea[1])) <= 0 && (delta = 0);\n      }\n      delta *= layoutInfo.axisExpandWidth / axisCollapseWidth;\n      delta ? sliderMove(delta, axisExpandWindow, extent, 'all')\n      // Avoid nonsense triger on mousemove.\n      : behavior = 'none';\n    }\n    // When screen is too narrow, make it visible and slidable, although it is hard to interact.\n    else {\n      var winSize2 = axisExpandWindow[1] - axisExpandWindow[0];\n      var pos = extent[1] * pointCoord / winSize2;\n      axisExpandWindow = [mathMax(0, pos - winSize2 / 2)];\n      axisExpandWindow[1] = mathMin(extent[1], axisExpandWindow[0] + winSize2);\n      axisExpandWindow[0] = axisExpandWindow[1] - winSize2;\n    }\n    return {\n      axisExpandWindow: axisExpandWindow,\n      behavior: behavior\n    };\n  };\n  return Parallel;\n}();\nfunction restrict(len, extent) {\n  return mathMin(mathMax(len, extent[0]), extent[1]);\n}\nfunction layoutAxisWithoutExpand(axisIndex, layoutInfo) {\n  var step = layoutInfo.layoutLength / (layoutInfo.axisCount - 1);\n  return {\n    position: step * axisIndex,\n    axisNameAvailableWidth: step,\n    axisLabelShow: true\n  };\n}\nfunction layoutAxisWithExpand(axisIndex, layoutInfo) {\n  var layoutLength = layoutInfo.layoutLength;\n  var axisExpandWidth = layoutInfo.axisExpandWidth;\n  var axisCount = layoutInfo.axisCount;\n  var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n  var winInnerIndices = layoutInfo.winInnerIndices;\n  var position;\n  var axisNameAvailableWidth = axisCollapseWidth;\n  var axisLabelShow = false;\n  var nameTruncateMaxWidth;\n  if (axisIndex < winInnerIndices[0]) {\n    position = axisIndex * axisCollapseWidth;\n    nameTruncateMaxWidth = axisCollapseWidth;\n  } else if (axisIndex <= winInnerIndices[1]) {\n    position = layoutInfo.axisExpandWindow0Pos + axisIndex * axisExpandWidth - layoutInfo.axisExpandWindow[0];\n    axisNameAvailableWidth = axisExpandWidth;\n    axisLabelShow = true;\n  } else {\n    position = layoutLength - (axisCount - 1 - axisIndex) * axisCollapseWidth;\n    nameTruncateMaxWidth = axisCollapseWidth;\n  }\n  return {\n    position: position,\n    axisNameAvailableWidth: axisNameAvailableWidth,\n    axisLabelShow: axisLabelShow,\n    nameTruncateMaxWidth: nameTruncateMaxWidth\n  };\n}\nexport default Parallel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Parallel coordinate system creater.\n */\nimport Parallel from './Parallel.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nfunction createParallelCoordSys(ecModel, api) {\n  var coordSysList = [];\n  ecModel.eachComponent('parallel', function (parallelModel, idx) {\n    var coordSys = new Parallel(parallelModel, ecModel, api);\n    coordSys.name = 'parallel_' + idx;\n    coordSys.resize(parallelModel, api);\n    parallelModel.coordinateSystem = coordSys;\n    coordSys.model = parallelModel;\n    coordSysList.push(coordSys);\n  });\n  // Inject the coordinateSystems into seriesModel\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'parallel') {\n      var parallelModel = seriesModel.getReferringComponents('parallel', SINGLE_REFERRING).models[0];\n      seriesModel.coordinateSystem = parallelModel.coordinateSystem;\n    }\n  });\n  return coordSysList;\n}\nvar parallelCoordSysCreator = {\n  create: createParallelCoordSys\n};\nexport default parallelCoordSysCreator;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport makeStyleMapper from '../../model/mixin/makeStyleMapper.js';\nimport * as numberUtil from '../../util/number.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nvar ParallelAxisModel = /** @class */function (_super) {\n  __extends(ParallelAxisModel, _super);\n  function ParallelAxisModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ParallelAxisModel.type;\n    /**\n     * @readOnly\n     */\n    _this.activeIntervals = [];\n    return _this;\n  }\n  ParallelAxisModel.prototype.getAreaSelectStyle = function () {\n    return makeStyleMapper([['fill', 'color'], ['lineWidth', 'borderWidth'], ['stroke', 'borderColor'], ['width', 'width'], ['opacity', 'opacity']\n    // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n    // So do not transfer decal directly.\n    ])(this.getModel('areaSelectStyle'));\n  };\n  /**\n   * The code of this feature is put on AxisModel but not ParallelAxis,\n   * because axisModel can be alive after echarts updating but instance of\n   * ParallelAxis having been disposed. this._activeInterval should be kept\n   * when action dispatched (i.e. legend click).\n   *\n   * @param intervals `interval.length === 0` means set all active.\n   */\n  ParallelAxisModel.prototype.setActiveIntervals = function (intervals) {\n    var activeIntervals = this.activeIntervals = zrUtil.clone(intervals);\n    // Normalize\n    if (activeIntervals) {\n      for (var i = activeIntervals.length - 1; i >= 0; i--) {\n        numberUtil.asc(activeIntervals[i]);\n      }\n    }\n  };\n  /**\n   * @param value When only attempting detect whether 'no activeIntervals set',\n   *        `value` is not needed to be input.\n   */\n  ParallelAxisModel.prototype.getActiveState = function (value) {\n    var activeIntervals = this.activeIntervals;\n    if (!activeIntervals.length) {\n      return 'normal';\n    }\n    if (value == null || isNaN(+value)) {\n      return 'inactive';\n    }\n    // Simple optimization\n    if (activeIntervals.length === 1) {\n      var interval = activeIntervals[0];\n      if (interval[0] <= value && value <= interval[1]) {\n        return 'active';\n      }\n    } else {\n      for (var i = 0, len = activeIntervals.length; i < len; i++) {\n        if (activeIntervals[i][0] <= value && value <= activeIntervals[i][1]) {\n          return 'active';\n        }\n      }\n    }\n    return 'inactive';\n  };\n  return ParallelAxisModel;\n}(ComponentModel);\nzrUtil.mixin(ParallelAxisModel, AxisModelCommonMixin);\nexport default ParallelAxisModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport BrushController from '../helper/BrushController.js';\nimport * as brushHelper from '../helper/brushHelper.js';\nimport * as graphic from '../../util/graphic.js';\nimport ComponentView from '../../view/Component.js';\nvar elementList = ['axisLine', 'axisTickLabel', 'axisName'];\nvar ParallelAxisView = /** @class */function (_super) {\n  __extends(ParallelAxisView, _super);\n  function ParallelAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ParallelAxisView.type;\n    return _this;\n  }\n  ParallelAxisView.prototype.init = function (ecModel, api) {\n    _super.prototype.init.apply(this, arguments);\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this));\n  };\n  ParallelAxisView.prototype.render = function (axisModel, ecModel, api, payload) {\n    if (fromAxisAreaSelect(axisModel, ecModel, payload)) {\n      return;\n    }\n    this.axisModel = axisModel;\n    this.api = api;\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n    if (!axisModel.get('show')) {\n      return;\n    }\n    var coordSysModel = getCoordSysModel(axisModel, ecModel);\n    var coordSys = coordSysModel.coordinateSystem;\n    var areaSelectStyle = axisModel.getAreaSelectStyle();\n    var areaWidth = areaSelectStyle.width;\n    var dim = axisModel.axis.dim;\n    var axisLayout = coordSys.getAxisLayout(dim);\n    var builderOpt = zrUtil.extend({\n      strokeContainThreshold: areaWidth\n    }, axisLayout);\n    var axisBuilder = new AxisBuilder(axisModel, builderOpt);\n    zrUtil.each(elementList, axisBuilder.add, axisBuilder);\n    this._axisGroup.add(axisBuilder.getGroup());\n    this._refreshBrushController(builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n  };\n  // /**\n  //  * @override\n  //  */\n  // updateVisual(axisModel, ecModel, api, payload) {\n  //     this._brushController && this._brushController\n  //         .updateCovers(getCoverInfoList(axisModel));\n  // }\n  ParallelAxisView.prototype._refreshBrushController = function (builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api) {\n    // After filtering, axis may change, select area needs to be update.\n    var extent = axisModel.axis.getExtent();\n    var extentLen = extent[1] - extent[0];\n    var extra = Math.min(30, Math.abs(extentLen) * 0.1); // Arbitrary value.\n    // width/height might be negative, which will be\n    // normalized in BoundingRect.\n    var rect = graphic.BoundingRect.create({\n      x: extent[0],\n      y: -areaWidth / 2,\n      width: extentLen,\n      height: areaWidth\n    });\n    rect.x -= extra;\n    rect.width += 2 * extra;\n    this._brushController.mount({\n      enableGlobalPan: true,\n      rotation: builderOpt.rotation,\n      x: builderOpt.position[0],\n      y: builderOpt.position[1]\n    }).setPanels([{\n      panelId: 'pl',\n      clipPath: brushHelper.makeRectPanelClipPath(rect),\n      isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, coordSysModel),\n      getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect, 0)\n    }]).enableBrush({\n      brushType: 'lineX',\n      brushStyle: areaSelectStyle,\n      removeOnClick: true\n    }).updateCovers(getCoverInfoList(axisModel));\n  };\n  ParallelAxisView.prototype._onBrush = function (eventParam) {\n    var coverInfoList = eventParam.areas;\n    // Do not cache these object, because the mey be changed.\n    var axisModel = this.axisModel;\n    var axis = axisModel.axis;\n    var intervals = zrUtil.map(coverInfoList, function (coverInfo) {\n      return [axis.coordToData(coverInfo.range[0], true), axis.coordToData(coverInfo.range[1], true)];\n    });\n    // If realtime is true, action is not dispatched on drag end, because\n    // the drag end emits the same params with the last drag move event,\n    // and may have some delay when using touch pad.\n    if (!axisModel.option.realtime === eventParam.isEnd || eventParam.removeOnClick) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'axisAreaSelect',\n        parallelAxisId: axisModel.id,\n        intervals: intervals\n      });\n    }\n  };\n  ParallelAxisView.prototype.dispose = function () {\n    this._brushController.dispose();\n  };\n  ParallelAxisView.type = 'parallelAxis';\n  return ParallelAxisView;\n}(ComponentView);\nfunction fromAxisAreaSelect(axisModel, ecModel, payload) {\n  return payload && payload.type === 'axisAreaSelect' && ecModel.findComponents({\n    mainType: 'parallelAxis',\n    query: payload\n  })[0] === axisModel;\n}\nfunction getCoverInfoList(axisModel) {\n  var axis = axisModel.axis;\n  return zrUtil.map(axisModel.activeIntervals, function (interval) {\n    return {\n      brushType: 'lineX',\n      panelId: 'pl',\n      range: [axis.dataToCoord(interval[0], true), axis.dataToCoord(interval[1], true)]\n    };\n  });\n}\nfunction getCoordSysModel(axisModel, ecModel) {\n  return ecModel.getComponent('parallel', axisModel.get('parallelIndex'));\n}\nexport default ParallelAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar actionInfo = {\n  type: 'axisAreaSelect',\n  event: 'axisAreaSelected'\n  // update: 'updateVisual'\n};\n\nexport function installParallelActions(registers) {\n  registers.registerAction(actionInfo, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'parallelAxis',\n      query: payload\n    }, function (parallelAxisModel) {\n      parallelAxisModel.axis.model.setActiveIntervals(payload.intervals);\n    });\n  });\n  /**\n   * @payload\n   */\n  registers.registerAction('parallelAxisExpand', function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'parallel',\n      query: payload\n    }, function (parallelModel) {\n      parallelModel.setAxisExpand(payload);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport parallelPreprocessor from '../../coord/parallel/parallelPreprocessor.js';\nimport ParallelView from './ParallelView.js';\nimport ParallelModel from '../../coord/parallel/ParallelModel.js';\nimport parallelCoordSysCreator from '../../coord/parallel/parallelCreator.js';\nimport axisModelCreator from '../../coord/axisModelCreator.js';\nimport ParallelAxisModel from '../../coord/parallel/AxisModel.js';\nimport ParallelAxisView from '../axis/ParallelAxisView.js';\nimport { installParallelActions } from '../axis/parallelAxisAction.js';\nvar defaultAxisOption = {\n  type: 'value',\n  areaSelectStyle: {\n    width: 20,\n    borderWidth: 1,\n    borderColor: 'rgba(160,197,232)',\n    color: 'rgba(160,197,232)',\n    opacity: 0.3\n  },\n  realtime: true,\n  z: 10\n};\nexport function install(registers) {\n  registers.registerComponentView(ParallelView);\n  registers.registerComponentModel(ParallelModel);\n  registers.registerCoordinateSystem('parallel', parallelCoordSysCreator);\n  registers.registerPreprocessor(parallelPreprocessor);\n  registers.registerComponentModel(ParallelAxisModel);\n  registers.registerComponentView(ParallelAxisView);\n  axisModelCreator(registers, 'parallel', ParallelAxisModel, defaultAxisOption);\n  installParallelActions(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport axisDefault from '../axisDefault.js';\nimport Model from '../../model/Model.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport ComponentModel from '../../model/Component.js';\nvar valueAxisDefault = axisDefault.value;\nfunction defaultsShow(opt, show) {\n  return zrUtil.defaults({\n    show: show\n  }, opt);\n}\nvar RadarModel = /** @class */function (_super) {\n  __extends(RadarModel, _super);\n  function RadarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = RadarModel.type;\n    return _this;\n  }\n  RadarModel.prototype.optionUpdated = function () {\n    var boundaryGap = this.get('boundaryGap');\n    var splitNumber = this.get('splitNumber');\n    var scale = this.get('scale');\n    var axisLine = this.get('axisLine');\n    var axisTick = this.get('axisTick');\n    // let axisType = this.get('axisType');\n    var axisLabel = this.get('axisLabel');\n    var nameTextStyle = this.get('axisName');\n    var showName = this.get(['axisName', 'show']);\n    var nameFormatter = this.get(['axisName', 'formatter']);\n    var nameGap = this.get('axisNameGap');\n    var triggerEvent = this.get('triggerEvent');\n    var indicatorModels = zrUtil.map(this.get('indicator') || [], function (indicatorOpt) {\n      // PENDING\n      if (indicatorOpt.max != null && indicatorOpt.max > 0 && !indicatorOpt.min) {\n        indicatorOpt.min = 0;\n      } else if (indicatorOpt.min != null && indicatorOpt.min < 0 && !indicatorOpt.max) {\n        indicatorOpt.max = 0;\n      }\n      var iNameTextStyle = nameTextStyle;\n      if (indicatorOpt.color != null) {\n        iNameTextStyle = zrUtil.defaults({\n          color: indicatorOpt.color\n        }, nameTextStyle);\n      }\n      // Use same configuration\n      var innerIndicatorOpt = zrUtil.merge(zrUtil.clone(indicatorOpt), {\n        boundaryGap: boundaryGap,\n        splitNumber: splitNumber,\n        scale: scale,\n        axisLine: axisLine,\n        axisTick: axisTick,\n        // axisType: axisType,\n        axisLabel: axisLabel,\n        // Compatible with 2 and use text\n        name: indicatorOpt.text,\n        showName: showName,\n        nameLocation: 'end',\n        nameGap: nameGap,\n        // min: 0,\n        nameTextStyle: iNameTextStyle,\n        triggerEvent: triggerEvent\n      }, false);\n      if (zrUtil.isString(nameFormatter)) {\n        var indName = innerIndicatorOpt.name;\n        innerIndicatorOpt.name = nameFormatter.replace('{value}', indName != null ? indName : '');\n      } else if (zrUtil.isFunction(nameFormatter)) {\n        innerIndicatorOpt.name = nameFormatter(innerIndicatorOpt.name, innerIndicatorOpt);\n      }\n      var model = new Model(innerIndicatorOpt, null, this.ecModel);\n      zrUtil.mixin(model, AxisModelCommonMixin.prototype);\n      // For triggerEvent.\n      model.mainType = 'radar';\n      model.componentIndex = this.componentIndex;\n      return model;\n    }, this);\n    this._indicatorModels = indicatorModels;\n  };\n  RadarModel.prototype.getIndicatorModels = function () {\n    return this._indicatorModels;\n  };\n  RadarModel.type = 'radar';\n  RadarModel.defaultOption = {\n    // zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '75%',\n    startAngle: 90,\n    axisName: {\n      show: true\n      // formatter: null\n      // textStyle: {}\n    },\n\n    boundaryGap: [0, 0],\n    splitNumber: 5,\n    axisNameGap: 15,\n    scale: false,\n    // Polygon or circle\n    shape: 'polygon',\n    axisLine: zrUtil.merge({\n      lineStyle: {\n        color: '#bbb'\n      }\n    }, valueAxisDefault.axisLine),\n    axisLabel: defaultsShow(valueAxisDefault.axisLabel, false),\n    axisTick: defaultsShow(valueAxisDefault.axisTick, false),\n    // axisType: 'value',\n    splitLine: defaultsShow(valueAxisDefault.splitLine, true),\n    splitArea: defaultsShow(valueAxisDefault.splitArea, true),\n    // {text, min, max}\n    indicator: []\n  };\n  return RadarModel;\n}(ComponentModel);\nexport default RadarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport AxisBuilder from '../axis/AxisBuilder.js';\nimport * as graphic from '../../util/graphic.js';\nimport ComponentView from '../../view/Component.js';\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar RadarView = /** @class */function (_super) {\n  __extends(RadarView, _super);\n  function RadarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = RadarView.type;\n    return _this;\n  }\n  RadarView.prototype.render = function (radarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    this._buildAxes(radarModel);\n    this._buildSplitLineAndArea(radarModel);\n  };\n  RadarView.prototype._buildAxes = function (radarModel) {\n    var radar = radarModel.coordinateSystem;\n    var indicatorAxes = radar.getIndicatorAxes();\n    var axisBuilders = zrUtil.map(indicatorAxes, function (indicatorAxis) {\n      var axisName = indicatorAxis.model.get('showName') ? indicatorAxis.name : ''; // hide name\n      var axisBuilder = new AxisBuilder(indicatorAxis.model, {\n        axisName: axisName,\n        position: [radar.cx, radar.cy],\n        rotation: indicatorAxis.angle,\n        labelDirection: -1,\n        tickDirection: -1,\n        nameDirection: 1\n      });\n      return axisBuilder;\n    });\n    zrUtil.each(axisBuilders, function (axisBuilder) {\n      zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n      this.group.add(axisBuilder.getGroup());\n    }, this);\n  };\n  RadarView.prototype._buildSplitLineAndArea = function (radarModel) {\n    var radar = radarModel.coordinateSystem;\n    var indicatorAxes = radar.getIndicatorAxes();\n    if (!indicatorAxes.length) {\n      return;\n    }\n    var shape = radarModel.get('shape');\n    var splitLineModel = radarModel.getModel('splitLine');\n    var splitAreaModel = radarModel.getModel('splitArea');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var showSplitLine = splitLineModel.get('show');\n    var showSplitArea = splitAreaModel.get('show');\n    var splitLineColors = lineStyleModel.get('color');\n    var splitAreaColors = areaStyleModel.get('color');\n    var splitLineColorsArr = zrUtil.isArray(splitLineColors) ? splitLineColors : [splitLineColors];\n    var splitAreaColorsArr = zrUtil.isArray(splitAreaColors) ? splitAreaColors : [splitAreaColors];\n    var splitLines = [];\n    var splitAreas = [];\n    function getColorIndex(areaOrLine, areaOrLineColorList, idx) {\n      var colorIndex = idx % areaOrLineColorList.length;\n      areaOrLine[colorIndex] = areaOrLine[colorIndex] || [];\n      return colorIndex;\n    }\n    if (shape === 'circle') {\n      var ticksRadius = indicatorAxes[0].getTicksCoords();\n      var cx = radar.cx;\n      var cy = radar.cy;\n      for (var i = 0; i < ticksRadius.length; i++) {\n        if (showSplitLine) {\n          var colorIndex = getColorIndex(splitLines, splitLineColorsArr, i);\n          splitLines[colorIndex].push(new graphic.Circle({\n            shape: {\n              cx: cx,\n              cy: cy,\n              r: ticksRadius[i].coord\n            }\n          }));\n        }\n        if (showSplitArea && i < ticksRadius.length - 1) {\n          var colorIndex = getColorIndex(splitAreas, splitAreaColorsArr, i);\n          splitAreas[colorIndex].push(new graphic.Ring({\n            shape: {\n              cx: cx,\n              cy: cy,\n              r0: ticksRadius[i].coord,\n              r: ticksRadius[i + 1].coord\n            }\n          }));\n        }\n      }\n    }\n    // Polyyon\n    else {\n      var realSplitNumber_1;\n      var axesTicksPoints = zrUtil.map(indicatorAxes, function (indicatorAxis, idx) {\n        var ticksCoords = indicatorAxis.getTicksCoords();\n        realSplitNumber_1 = realSplitNumber_1 == null ? ticksCoords.length - 1 : Math.min(ticksCoords.length - 1, realSplitNumber_1);\n        return zrUtil.map(ticksCoords, function (tickCoord) {\n          return radar.coordToPoint(tickCoord.coord, idx);\n        });\n      });\n      var prevPoints = [];\n      for (var i = 0; i <= realSplitNumber_1; i++) {\n        var points = [];\n        for (var j = 0; j < indicatorAxes.length; j++) {\n          points.push(axesTicksPoints[j][i]);\n        }\n        // Close\n        if (points[0]) {\n          points.push(points[0].slice());\n        } else {\n          if (process.env.NODE_ENV !== 'production') {\n            console.error('Can\\'t draw value axis ' + i);\n          }\n        }\n        if (showSplitLine) {\n          var colorIndex = getColorIndex(splitLines, splitLineColorsArr, i);\n          splitLines[colorIndex].push(new graphic.Polyline({\n            shape: {\n              points: points\n            }\n          }));\n        }\n        if (showSplitArea && prevPoints) {\n          var colorIndex = getColorIndex(splitAreas, splitAreaColorsArr, i - 1);\n          splitAreas[colorIndex].push(new graphic.Polygon({\n            shape: {\n              points: points.concat(prevPoints)\n            }\n          }));\n        }\n        prevPoints = points.slice().reverse();\n      }\n    }\n    var lineStyle = lineStyleModel.getLineStyle();\n    var areaStyle = areaStyleModel.getAreaStyle();\n    // Add splitArea before splitLine\n    zrUtil.each(splitAreas, function (splitAreas, idx) {\n      this.group.add(graphic.mergePath(splitAreas, {\n        style: zrUtil.defaults({\n          stroke: 'none',\n          fill: splitAreaColorsArr[idx % splitAreaColorsArr.length]\n        }, areaStyle),\n        silent: true\n      }));\n    }, this);\n    zrUtil.each(splitLines, function (splitLines, idx) {\n      this.group.add(graphic.mergePath(splitLines, {\n        style: zrUtil.defaults({\n          fill: 'none',\n          stroke: splitLineColorsArr[idx % splitLineColorsArr.length]\n        }, lineStyle),\n        silent: true\n      }));\n    }, this);\n  };\n  RadarView.type = 'radar';\n  return RadarView;\n}(ComponentView);\nexport default RadarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar IndicatorAxis = /** @class */function (_super) {\n  __extends(IndicatorAxis, _super);\n  function IndicatorAxis(dim, scale, radiusExtent) {\n    var _this = _super.call(this, dim, scale, radiusExtent) || this;\n    _this.type = 'value';\n    _this.angle = 0;\n    _this.name = '';\n    return _this;\n  }\n  return IndicatorAxis;\n}(Axis);\nexport default IndicatorAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO clockwise\nimport IndicatorAxis from './IndicatorAxis.js';\nimport IntervalScale from '../../scale/Interval.js';\nimport * as numberUtil from '../../util/number.js';\nimport { map, each, isString, isNumber } from 'zrender/lib/core/util.js';\nimport { alignScaleTicks } from '../axisAlignTicks.js';\nvar Radar = /** @class */function () {\n  function Radar(radarModel, ecModel, api) {\n    /**\n     *\n     * Radar dimensions\n     */\n    this.dimensions = [];\n    this._model = radarModel;\n    this._indicatorAxes = map(radarModel.getIndicatorModels(), function (indicatorModel, idx) {\n      var dim = 'indicator_' + idx;\n      var indicatorAxis = new IndicatorAxis(dim, new IntervalScale()\n      // (indicatorModel.get('axisType') === 'log') ? new LogScale() : new IntervalScale()\n      );\n\n      indicatorAxis.name = indicatorModel.get('name');\n      // Inject model and axis\n      indicatorAxis.model = indicatorModel;\n      indicatorModel.axis = indicatorAxis;\n      this.dimensions.push(dim);\n      return indicatorAxis;\n    }, this);\n    this.resize(radarModel, api);\n  }\n  Radar.prototype.getIndicatorAxes = function () {\n    return this._indicatorAxes;\n  };\n  Radar.prototype.dataToPoint = function (value, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    return this.coordToPoint(indicatorAxis.dataToCoord(value), indicatorIndex);\n  };\n  // TODO: API should be coordToPoint([coord, indicatorIndex])\n  Radar.prototype.coordToPoint = function (coord, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    var angle = indicatorAxis.angle;\n    var x = this.cx + coord * Math.cos(angle);\n    var y = this.cy - coord * Math.sin(angle);\n    return [x, y];\n  };\n  Radar.prototype.pointToData = function (pt) {\n    var dx = pt[0] - this.cx;\n    var dy = pt[1] - this.cy;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx);\n    // Find the closest angle\n    // FIXME index can calculated directly\n    var minRadianDiff = Infinity;\n    var closestAxis;\n    var closestAxisIdx = -1;\n    for (var i = 0; i < this._indicatorAxes.length; i++) {\n      var indicatorAxis = this._indicatorAxes[i];\n      var diff = Math.abs(radian - indicatorAxis.angle);\n      if (diff < minRadianDiff) {\n        closestAxis = indicatorAxis;\n        closestAxisIdx = i;\n        minRadianDiff = diff;\n      }\n    }\n    return [closestAxisIdx, +(closestAxis && closestAxis.coordToData(radius))];\n  };\n  Radar.prototype.resize = function (radarModel, api) {\n    var center = radarModel.get('center');\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n    var viewSize = Math.min(viewWidth, viewHeight) / 2;\n    this.cx = numberUtil.parsePercent(center[0], viewWidth);\n    this.cy = numberUtil.parsePercent(center[1], viewHeight);\n    this.startAngle = radarModel.get('startAngle') * Math.PI / 180;\n    // radius may be single value like `20`, `'80%'`, or array like `[10, '80%']`\n    var radius = radarModel.get('radius');\n    if (isString(radius) || isNumber(radius)) {\n      radius = [0, radius];\n    }\n    this.r0 = numberUtil.parsePercent(radius[0], viewSize);\n    this.r = numberUtil.parsePercent(radius[1], viewSize);\n    each(this._indicatorAxes, function (indicatorAxis, idx) {\n      indicatorAxis.setExtent(this.r0, this.r);\n      var angle = this.startAngle + idx * Math.PI * 2 / this._indicatorAxes.length;\n      // Normalize to [-PI, PI]\n      angle = Math.atan2(Math.sin(angle), Math.cos(angle));\n      indicatorAxis.angle = angle;\n    }, this);\n  };\n  Radar.prototype.update = function (ecModel, api) {\n    var indicatorAxes = this._indicatorAxes;\n    var radarModel = this._model;\n    each(indicatorAxes, function (indicatorAxis) {\n      indicatorAxis.scale.setExtent(Infinity, -Infinity);\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries, idx) {\n      if (radarSeries.get('coordinateSystem') !== 'radar'\n      // @ts-ignore\n      || ecModel.getComponent('radar', radarSeries.get('radarIndex')) !== radarModel) {\n        return;\n      }\n      var data = radarSeries.getData();\n      each(indicatorAxes, function (indicatorAxis) {\n        indicatorAxis.scale.unionExtentFromData(data, data.mapDimension(indicatorAxis.dim));\n      });\n    }, this);\n    var splitNumber = radarModel.get('splitNumber');\n    var dummyScale = new IntervalScale();\n    dummyScale.setExtent(0, splitNumber);\n    dummyScale.setInterval(1);\n    // Force all the axis fixing the maxSplitNumber.\n    each(indicatorAxes, function (indicatorAxis, idx) {\n      alignScaleTicks(indicatorAxis.scale, indicatorAxis.model, dummyScale);\n    });\n  };\n  Radar.prototype.convertToPixel = function (ecModel, finder, value) {\n    console.warn('Not implemented.');\n    return null;\n  };\n  Radar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    console.warn('Not implemented.');\n    return null;\n  };\n  Radar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  Radar.create = function (ecModel, api) {\n    var radarList = [];\n    ecModel.eachComponent('radar', function (radarModel) {\n      var radar = new Radar(radarModel, ecModel, api);\n      radarList.push(radar);\n      radarModel.coordinateSystem = radar;\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries) {\n      if (radarSeries.get('coordinateSystem') === 'radar') {\n        // Inject coordinate system\n        // @ts-ignore\n        radarSeries.coordinateSystem = radarList[radarSeries.get('radarIndex') || 0];\n      }\n    });\n    return radarList;\n  };\n  /**\n   * Radar dimensions is based on the data\n   */\n  Radar.dimensions = [];\n  return Radar;\n}();\nexport default Radar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport RadarModel from '../../coord/radar/RadarModel.js';\nimport RadarView from './RadarView.js';\nimport Radar from '../../coord/radar/Radar.js';\nexport function install(registers) {\n  registers.registerCoordinateSystem('radar', Radar);\n  registers.registerComponentModel(RadarModel);\n  registers.registerComponentView(RadarView);\n  registers.registerVisual({\n    seriesType: 'radar',\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      // itemVisual symbol is for selected data\n      data.each(function (idx) {\n        data.setItemVisual(idx, 'legendIcon', 'roundRect');\n      });\n      // visual is for unselected data\n      data.setVisual('legendIcon', 'roundRect');\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function isCoordinateSystemType(coordSys, type) {\n  return coordSys.type === type;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Simple view coordinate system\n * Mapping given x, y to transformd view x, y\n */\nimport * as vector from 'zrender/lib/core/vector.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport Transformable from 'zrender/lib/core/Transformable.js';\nimport { parsePercent } from '../util/number.js';\nvar v2ApplyTransform = vector.applyTransform;\nvar View = /** @class */function (_super) {\n  __extends(View, _super);\n  function View(name) {\n    var _this = _super.call(this) || this;\n    _this.type = 'view';\n    _this.dimensions = ['x', 'y'];\n    /**\n     * Represents the transform brought by roam/zoom.\n     * If `View['_viewRect']` applies roam transform,\n     * we can get the final displayed rect.\n     */\n    _this._roamTransformable = new Transformable();\n    /**\n     * Represents the transform from `View['_rect']` to `View['_viewRect']`.\n     */\n    _this._rawTransformable = new Transformable();\n    _this.name = name;\n    return _this;\n  }\n  View.prototype.setBoundingRect = function (x, y, width, height) {\n    this._rect = new BoundingRect(x, y, width, height);\n    return this._rect;\n  };\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  View.prototype.getBoundingRect = function () {\n    return this._rect;\n  };\n  View.prototype.setViewRect = function (x, y, width, height) {\n    this._transformTo(x, y, width, height);\n    this._viewRect = new BoundingRect(x, y, width, height);\n  };\n  /**\n   * Transformed to particular position and size\n   */\n  View.prototype._transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var rawTransform = this._rawTransformable;\n    rawTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    var rawParent = rawTransform.parent;\n    rawTransform.parent = null;\n    rawTransform.decomposeTransform();\n    rawTransform.parent = rawParent;\n    this._updateTransform();\n  };\n  /**\n   * Set center of view\n   */\n  View.prototype.setCenter = function (centerCoord, api) {\n    if (!centerCoord) {\n      return;\n    }\n    this._center = [parsePercent(centerCoord[0], api.getWidth()), parsePercent(centerCoord[1], api.getHeight())];\n    this._updateCenterAndZoom();\n  };\n  View.prototype.setZoom = function (zoom) {\n    zoom = zoom || 1;\n    var zoomLimit = this.zoomLimit;\n    if (zoomLimit) {\n      if (zoomLimit.max != null) {\n        zoom = Math.min(zoomLimit.max, zoom);\n      }\n      if (zoomLimit.min != null) {\n        zoom = Math.max(zoomLimit.min, zoom);\n      }\n    }\n    this._zoom = zoom;\n    this._updateCenterAndZoom();\n  };\n  /**\n   * Get default center without roam\n   */\n  View.prototype.getDefaultCenter = function () {\n    // Rect before any transform\n    var rawRect = this.getBoundingRect();\n    var cx = rawRect.x + rawRect.width / 2;\n    var cy = rawRect.y + rawRect.height / 2;\n    return [cx, cy];\n  };\n  View.prototype.getCenter = function () {\n    return this._center || this.getDefaultCenter();\n  };\n  View.prototype.getZoom = function () {\n    return this._zoom || 1;\n  };\n  View.prototype.getRoamTransform = function () {\n    return this._roamTransformable.getLocalTransform();\n  };\n  /**\n   * Remove roam\n   */\n  View.prototype._updateCenterAndZoom = function () {\n    // Must update after view transform updated\n    var rawTransformMatrix = this._rawTransformable.getLocalTransform();\n    var roamTransform = this._roamTransformable;\n    var defaultCenter = this.getDefaultCenter();\n    var center = this.getCenter();\n    var zoom = this.getZoom();\n    center = vector.applyTransform([], center, rawTransformMatrix);\n    defaultCenter = vector.applyTransform([], defaultCenter, rawTransformMatrix);\n    roamTransform.originX = center[0];\n    roamTransform.originY = center[1];\n    roamTransform.x = defaultCenter[0] - center[0];\n    roamTransform.y = defaultCenter[1] - center[1];\n    roamTransform.scaleX = roamTransform.scaleY = zoom;\n    this._updateTransform();\n  };\n  /**\n   * Update transform props on `this` based on the current\n   * `this._roamTransformable` and `this._rawTransformable`.\n   */\n  View.prototype._updateTransform = function () {\n    var roamTransformable = this._roamTransformable;\n    var rawTransformable = this._rawTransformable;\n    rawTransformable.parent = roamTransformable;\n    roamTransformable.updateTransform();\n    rawTransformable.updateTransform();\n    matrix.copy(this.transform || (this.transform = []), rawTransformable.transform || matrix.create());\n    this._rawTransform = rawTransformable.getLocalTransform();\n    this.invTransform = this.invTransform || [];\n    matrix.invert(this.invTransform, this.transform);\n    this.decomposeTransform();\n  };\n  View.prototype.getTransformInfo = function () {\n    var rawTransformable = this._rawTransformable;\n    var roamTransformable = this._roamTransformable;\n    // Because roamTransformabel has `originX/originY` modified,\n    // but the caller of `getTransformInfo` can not handle `originX/originY`,\n    // so need to recalculate them.\n    var dummyTransformable = new Transformable();\n    dummyTransformable.transform = roamTransformable.transform;\n    dummyTransformable.decomposeTransform();\n    return {\n      roam: {\n        x: dummyTransformable.x,\n        y: dummyTransformable.y,\n        scaleX: dummyTransformable.scaleX,\n        scaleY: dummyTransformable.scaleY\n      },\n      raw: {\n        x: rawTransformable.x,\n        y: rawTransformable.y,\n        scaleX: rawTransformable.scaleX,\n        scaleY: rawTransformable.scaleY\n      }\n    };\n  };\n  View.prototype.getViewRect = function () {\n    return this._viewRect;\n  };\n  /**\n   * Get view rect after roam transform\n   */\n  View.prototype.getViewRectAfterRoam = function () {\n    var rect = this.getBoundingRect().clone();\n    rect.applyTransform(this.transform);\n    return rect;\n  };\n  /**\n   * Convert a single (lon, lat) data item to (x, y) point.\n   */\n  View.prototype.dataToPoint = function (data, noRoam, out) {\n    var transform = noRoam ? this._rawTransform : this.transform;\n    out = out || [];\n    return transform ? v2ApplyTransform(out, data, transform) : vector.copy(out, data);\n  };\n  /**\n   * Convert a (x, y) point to (lon, lat) data\n   */\n  View.prototype.pointToData = function (point) {\n    var invTransform = this.invTransform;\n    return invTransform ? v2ApplyTransform([], point, invTransform) : [point[0], point[1]];\n  };\n  View.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  View.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  /**\n   * @implements\n   */\n  View.prototype.containPoint = function (point) {\n    return this.getViewRectAfterRoam().contain(point[0], point[1]);\n  };\n  View.dimensions = ['x', 'y'];\n  return View;\n}(Transformable);\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  return seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\n}\n\nexport default View;","import Group from '../graphic/Group.js';\nimport ZRImage from '../graphic/Image.js';\nimport Circle from '../graphic/shape/Circle.js';\nimport Rect from '../graphic/shape/Rect.js';\nimport Ellipse from '../graphic/shape/Ellipse.js';\nimport Line from '../graphic/shape/Line.js';\nimport Polygon from '../graphic/shape/Polygon.js';\nimport Polyline from '../graphic/shape/Polyline.js';\nimport * as matrix from '../core/matrix.js';\nimport { createFromString } from './path.js';\nimport { defaults, trim, each, map, keys, hasOwn } from '../core/util.js';\nimport LinearGradient from '../graphic/LinearGradient.js';\nimport RadialGradient from '../graphic/RadialGradient.js';\nimport TSpan from '../graphic/TSpan.js';\nimport { parseXML } from './parseXML.js';\n;\nvar nodeParsers;\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP = {\n    'fill': 'fill',\n    'stroke': 'stroke',\n    'stroke-width': 'lineWidth',\n    'opacity': 'opacity',\n    'fill-opacity': 'fillOpacity',\n    'stroke-opacity': 'strokeOpacity',\n    'stroke-dasharray': 'lineDash',\n    'stroke-dashoffset': 'lineDashOffset',\n    'stroke-linecap': 'lineCap',\n    'stroke-linejoin': 'lineJoin',\n    'stroke-miterlimit': 'miterLimit',\n    'font-family': 'fontFamily',\n    'font-size': 'fontSize',\n    'font-style': 'fontStyle',\n    'font-weight': 'fontWeight',\n    'text-anchor': 'textAlign',\n    'visibility': 'visibility',\n    'display': 'display'\n};\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS = keys(INHERITABLE_STYLE_ATTRIBUTES_MAP);\nvar SELF_STYLE_ATTRIBUTES_MAP = {\n    'alignment-baseline': 'textBaseline',\n    'stop-color': 'stopColor'\n};\nvar SELF_STYLE_ATTRIBUTES_MAP_KEYS = keys(SELF_STYLE_ATTRIBUTES_MAP);\nvar SVGParser = (function () {\n    function SVGParser() {\n        this._defs = {};\n        this._root = null;\n    }\n    SVGParser.prototype.parse = function (xml, opt) {\n        opt = opt || {};\n        var svg = parseXML(xml);\n        if (process.env.NODE_ENV !== 'production') {\n            if (!svg) {\n                throw new Error('Illegal svg');\n            }\n        }\n        this._defsUsePending = [];\n        var root = new Group();\n        this._root = root;\n        var named = [];\n        var viewBox = svg.getAttribute('viewBox') || '';\n        var width = parseFloat((svg.getAttribute('width') || opt.width));\n        var height = parseFloat((svg.getAttribute('height') || opt.height));\n        isNaN(width) && (width = null);\n        isNaN(height) && (height = null);\n        parseAttributes(svg, root, null, true, false);\n        var child = svg.firstChild;\n        while (child) {\n            this._parseNode(child, root, named, null, false, false);\n            child = child.nextSibling;\n        }\n        applyDefs(this._defs, this._defsUsePending);\n        this._defsUsePending = [];\n        var viewBoxRect;\n        var viewBoxTransform;\n        if (viewBox) {\n            var viewBoxArr = splitNumberSequence(viewBox);\n            if (viewBoxArr.length >= 4) {\n                viewBoxRect = {\n                    x: parseFloat((viewBoxArr[0] || 0)),\n                    y: parseFloat((viewBoxArr[1] || 0)),\n                    width: parseFloat(viewBoxArr[2]),\n                    height: parseFloat(viewBoxArr[3])\n                };\n            }\n        }\n        if (viewBoxRect && width != null && height != null) {\n            viewBoxTransform = makeViewBoxTransform(viewBoxRect, { x: 0, y: 0, width: width, height: height });\n            if (!opt.ignoreViewBox) {\n                var elRoot = root;\n                root = new Group();\n                root.add(elRoot);\n                elRoot.scaleX = elRoot.scaleY = viewBoxTransform.scale;\n                elRoot.x = viewBoxTransform.x;\n                elRoot.y = viewBoxTransform.y;\n            }\n        }\n        if (!opt.ignoreRootClip && width != null && height != null) {\n            root.setClipPath(new Rect({\n                shape: { x: 0, y: 0, width: width, height: height }\n            }));\n        }\n        return {\n            root: root,\n            width: width,\n            height: height,\n            viewBoxRect: viewBoxRect,\n            viewBoxTransform: viewBoxTransform,\n            named: named\n        };\n    };\n    SVGParser.prototype._parseNode = function (xmlNode, parentGroup, named, namedFrom, isInDefs, isInText) {\n        var nodeName = xmlNode.nodeName.toLowerCase();\n        var el;\n        var namedFromForSub = namedFrom;\n        if (nodeName === 'defs') {\n            isInDefs = true;\n        }\n        if (nodeName === 'text') {\n            isInText = true;\n        }\n        if (nodeName === 'defs' || nodeName === 'switch') {\n            el = parentGroup;\n        }\n        else {\n            if (!isInDefs) {\n                var parser_1 = nodeParsers[nodeName];\n                if (parser_1 && hasOwn(nodeParsers, nodeName)) {\n                    el = parser_1.call(this, xmlNode, parentGroup);\n                    var nameAttr = xmlNode.getAttribute('name');\n                    if (nameAttr) {\n                        var newNamed = {\n                            name: nameAttr,\n                            namedFrom: null,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        };\n                        named.push(newNamed);\n                        if (nodeName === 'g') {\n                            namedFromForSub = newNamed;\n                        }\n                    }\n                    else if (namedFrom) {\n                        named.push({\n                            name: namedFrom.name,\n                            namedFrom: namedFrom,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        });\n                    }\n                    parentGroup.add(el);\n                }\n            }\n            var parser = paintServerParsers[nodeName];\n            if (parser && hasOwn(paintServerParsers, nodeName)) {\n                var def = parser.call(this, xmlNode);\n                var id = xmlNode.getAttribute('id');\n                if (id) {\n                    this._defs[id] = def;\n                }\n            }\n        }\n        if (el && el.isGroup) {\n            var child = xmlNode.firstChild;\n            while (child) {\n                if (child.nodeType === 1) {\n                    this._parseNode(child, el, named, namedFromForSub, isInDefs, isInText);\n                }\n                else if (child.nodeType === 3 && isInText) {\n                    this._parseText(child, el);\n                }\n                child = child.nextSibling;\n            }\n        }\n    };\n    SVGParser.prototype._parseText = function (xmlNode, parentGroup) {\n        var text = new TSpan({\n            style: {\n                text: xmlNode.textContent\n            },\n            silent: true,\n            x: this._textX || 0,\n            y: this._textY || 0\n        });\n        inheritStyle(parentGroup, text);\n        parseAttributes(xmlNode, text, this._defsUsePending, false, false);\n        applyTextAlignment(text, parentGroup);\n        var textStyle = text.style;\n        var fontSize = textStyle.fontSize;\n        if (fontSize && fontSize < 9) {\n            textStyle.fontSize = 9;\n            text.scaleX *= fontSize / 9;\n            text.scaleY *= fontSize / 9;\n        }\n        var font = (textStyle.fontSize || textStyle.fontFamily) && [\n            textStyle.fontStyle,\n            textStyle.fontWeight,\n            (textStyle.fontSize || 12) + 'px',\n            textStyle.fontFamily || 'sans-serif'\n        ].join(' ');\n        textStyle.font = font;\n        var rect = text.getBoundingRect();\n        this._textX += rect.width;\n        parentGroup.add(text);\n        return text;\n    };\n    SVGParser.internalField = (function () {\n        nodeParsers = {\n            'g': function (xmlNode, parentGroup) {\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, false);\n                return g;\n            },\n            'rect': function (xmlNode, parentGroup) {\n                var rect = new Rect();\n                inheritStyle(parentGroup, rect);\n                parseAttributes(xmlNode, rect, this._defsUsePending, false, false);\n                rect.setShape({\n                    x: parseFloat(xmlNode.getAttribute('x') || '0'),\n                    y: parseFloat(xmlNode.getAttribute('y') || '0'),\n                    width: parseFloat(xmlNode.getAttribute('width') || '0'),\n                    height: parseFloat(xmlNode.getAttribute('height') || '0')\n                });\n                rect.silent = true;\n                return rect;\n            },\n            'circle': function (xmlNode, parentGroup) {\n                var circle = new Circle();\n                inheritStyle(parentGroup, circle);\n                parseAttributes(xmlNode, circle, this._defsUsePending, false, false);\n                circle.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    r: parseFloat(xmlNode.getAttribute('r') || '0')\n                });\n                circle.silent = true;\n                return circle;\n            },\n            'line': function (xmlNode, parentGroup) {\n                var line = new Line();\n                inheritStyle(parentGroup, line);\n                parseAttributes(xmlNode, line, this._defsUsePending, false, false);\n                line.setShape({\n                    x1: parseFloat(xmlNode.getAttribute('x1') || '0'),\n                    y1: parseFloat(xmlNode.getAttribute('y1') || '0'),\n                    x2: parseFloat(xmlNode.getAttribute('x2') || '0'),\n                    y2: parseFloat(xmlNode.getAttribute('y2') || '0')\n                });\n                line.silent = true;\n                return line;\n            },\n            'ellipse': function (xmlNode, parentGroup) {\n                var ellipse = new Ellipse();\n                inheritStyle(parentGroup, ellipse);\n                parseAttributes(xmlNode, ellipse, this._defsUsePending, false, false);\n                ellipse.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    rx: parseFloat(xmlNode.getAttribute('rx') || '0'),\n                    ry: parseFloat(xmlNode.getAttribute('ry') || '0')\n                });\n                ellipse.silent = true;\n                return ellipse;\n            },\n            'polygon': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polygon = new Polygon({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polygon);\n                parseAttributes(xmlNode, polygon, this._defsUsePending, false, false);\n                return polygon;\n            },\n            'polyline': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polyline = new Polyline({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polyline);\n                parseAttributes(xmlNode, polyline, this._defsUsePending, false, false);\n                return polyline;\n            },\n            'image': function (xmlNode, parentGroup) {\n                var img = new ZRImage();\n                inheritStyle(parentGroup, img);\n                parseAttributes(xmlNode, img, this._defsUsePending, false, false);\n                img.setStyle({\n                    image: xmlNode.getAttribute('xlink:href') || xmlNode.getAttribute('href'),\n                    x: +xmlNode.getAttribute('x'),\n                    y: +xmlNode.getAttribute('y'),\n                    width: +xmlNode.getAttribute('width'),\n                    height: +xmlNode.getAttribute('height')\n                });\n                img.silent = true;\n                return img;\n            },\n            'text': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x') || '0';\n                var y = xmlNode.getAttribute('y') || '0';\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                this._textX = parseFloat(x) + parseFloat(dx);\n                this._textY = parseFloat(y) + parseFloat(dy);\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                return g;\n            },\n            'tspan': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x');\n                var y = xmlNode.getAttribute('y');\n                if (x != null) {\n                    this._textX = parseFloat(x);\n                }\n                if (y != null) {\n                    this._textY = parseFloat(y);\n                }\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                this._textX += parseFloat(dx);\n                this._textY += parseFloat(dy);\n                return g;\n            },\n            'path': function (xmlNode, parentGroup) {\n                var d = xmlNode.getAttribute('d') || '';\n                var path = createFromString(d);\n                inheritStyle(parentGroup, path);\n                parseAttributes(xmlNode, path, this._defsUsePending, false, false);\n                path.silent = true;\n                return path;\n            }\n        };\n    })();\n    return SVGParser;\n}());\nvar paintServerParsers = {\n    'lineargradient': function (xmlNode) {\n        var x1 = parseInt(xmlNode.getAttribute('x1') || '0', 10);\n        var y1 = parseInt(xmlNode.getAttribute('y1') || '0', 10);\n        var x2 = parseInt(xmlNode.getAttribute('x2') || '10', 10);\n        var y2 = parseInt(xmlNode.getAttribute('y2') || '0', 10);\n        var gradient = new LinearGradient(x1, y1, x2, y2);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    },\n    'radialgradient': function (xmlNode) {\n        var cx = parseInt(xmlNode.getAttribute('cx') || '0', 10);\n        var cy = parseInt(xmlNode.getAttribute('cy') || '0', 10);\n        var r = parseInt(xmlNode.getAttribute('r') || '0', 10);\n        var gradient = new RadialGradient(cx, cy, r);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    }\n};\nfunction parsePaintServerUnit(xmlNode, gradient) {\n    var gradientUnits = xmlNode.getAttribute('gradientUnits');\n    if (gradientUnits === 'userSpaceOnUse') {\n        gradient.global = true;\n    }\n}\nfunction parseGradientColorStops(xmlNode, gradient) {\n    var stop = xmlNode.firstChild;\n    while (stop) {\n        if (stop.nodeType === 1\n            && stop.nodeName.toLocaleLowerCase() === 'stop') {\n            var offsetStr = stop.getAttribute('offset');\n            var offset = void 0;\n            if (offsetStr && offsetStr.indexOf('%') > 0) {\n                offset = parseInt(offsetStr, 10) / 100;\n            }\n            else if (offsetStr) {\n                offset = parseFloat(offsetStr);\n            }\n            else {\n                offset = 0;\n            }\n            var styleVals = {};\n            parseInlineStyle(stop, styleVals, styleVals);\n            var stopColor = styleVals.stopColor\n                || stop.getAttribute('stop-color')\n                || '#000000';\n            gradient.colorStops.push({\n                offset: offset,\n                color: stopColor\n            });\n        }\n        stop = stop.nextSibling;\n    }\n}\nfunction inheritStyle(parent, child) {\n    if (parent && parent.__inheritedStyle) {\n        if (!child.__inheritedStyle) {\n            child.__inheritedStyle = {};\n        }\n        defaults(child.__inheritedStyle, parent.__inheritedStyle);\n    }\n}\nfunction parsePoints(pointsString) {\n    var list = splitNumberSequence(pointsString);\n    var points = [];\n    for (var i = 0; i < list.length; i += 2) {\n        var x = parseFloat(list[i]);\n        var y = parseFloat(list[i + 1]);\n        points.push([x, y]);\n    }\n    return points;\n}\nfunction parseAttributes(xmlNode, el, defsUsePending, onlyInlineStyle, isTextGroup) {\n    var disp = el;\n    var inheritedStyle = disp.__inheritedStyle = disp.__inheritedStyle || {};\n    var selfStyle = {};\n    if (xmlNode.nodeType === 1) {\n        parseTransformAttribute(xmlNode, el);\n        parseInlineStyle(xmlNode, inheritedStyle, selfStyle);\n        if (!onlyInlineStyle) {\n            parseAttributeStyle(xmlNode, inheritedStyle, selfStyle);\n        }\n    }\n    disp.style = disp.style || {};\n    if (inheritedStyle.fill != null) {\n        disp.style.fill = getFillStrokeStyle(disp, 'fill', inheritedStyle.fill, defsUsePending);\n    }\n    if (inheritedStyle.stroke != null) {\n        disp.style.stroke = getFillStrokeStyle(disp, 'stroke', inheritedStyle.stroke, defsUsePending);\n    }\n    each([\n        'lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = parseFloat(inheritedStyle[propName]);\n        }\n    });\n    each([\n        'lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = inheritedStyle[propName];\n        }\n    });\n    if (isTextGroup) {\n        disp.__selfStyle = selfStyle;\n    }\n    if (inheritedStyle.lineDash) {\n        disp.style.lineDash = map(splitNumberSequence(inheritedStyle.lineDash), function (str) {\n            return parseFloat(str);\n        });\n    }\n    if (inheritedStyle.visibility === 'hidden' || inheritedStyle.visibility === 'collapse') {\n        disp.invisible = true;\n    }\n    if (inheritedStyle.display === 'none') {\n        disp.ignore = true;\n    }\n}\nfunction applyTextAlignment(text, parentGroup) {\n    var parentSelfStyle = parentGroup.__selfStyle;\n    if (parentSelfStyle) {\n        var textBaseline = parentSelfStyle.textBaseline;\n        var zrTextBaseline = textBaseline;\n        if (!textBaseline || textBaseline === 'auto') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'baseline') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'before-edge' || textBaseline === 'text-before-edge') {\n            zrTextBaseline = 'top';\n        }\n        else if (textBaseline === 'after-edge' || textBaseline === 'text-after-edge') {\n            zrTextBaseline = 'bottom';\n        }\n        else if (textBaseline === 'central' || textBaseline === 'mathematical') {\n            zrTextBaseline = 'middle';\n        }\n        text.style.textBaseline = zrTextBaseline;\n    }\n    var parentInheritedStyle = parentGroup.__inheritedStyle;\n    if (parentInheritedStyle) {\n        var textAlign = parentInheritedStyle.textAlign;\n        var zrTextAlign = textAlign;\n        if (textAlign) {\n            if (textAlign === 'middle') {\n                zrTextAlign = 'center';\n            }\n            text.style.textAlign = zrTextAlign;\n        }\n    }\n}\nvar urlRegex = /^url\\(\\s*#(.*?)\\)/;\nfunction getFillStrokeStyle(el, method, str, defsUsePending) {\n    var urlMatch = str && str.match(urlRegex);\n    if (urlMatch) {\n        var url = trim(urlMatch[1]);\n        defsUsePending.push([el, method, url]);\n        return;\n    }\n    if (str === 'none') {\n        str = null;\n    }\n    return str;\n}\nfunction applyDefs(defs, defsUsePending) {\n    for (var i = 0; i < defsUsePending.length; i++) {\n        var item = defsUsePending[i];\n        item[0].style[item[1]] = defs[item[2]];\n    }\n}\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\nfunction splitNumberSequence(rawStr) {\n    return rawStr.match(numberReg) || [];\n}\nvar transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.eE,]*)\\)/g;\nvar DEGREE_TO_ANGLE = Math.PI / 180;\nfunction parseTransformAttribute(xmlNode, node) {\n    var transform = xmlNode.getAttribute('transform');\n    if (transform) {\n        transform = transform.replace(/,/g, ' ');\n        var transformOps_1 = [];\n        var mt = null;\n        transform.replace(transformRegex, function (str, type, value) {\n            transformOps_1.push(type, value);\n            return '';\n        });\n        for (var i = transformOps_1.length - 1; i > 0; i -= 2) {\n            var value = transformOps_1[i];\n            var type = transformOps_1[i - 1];\n            var valueArr = splitNumberSequence(value);\n            mt = mt || matrix.create();\n            switch (type) {\n                case 'translate':\n                    matrix.translate(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || '0')]);\n                    break;\n                case 'scale':\n                    matrix.scale(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || valueArr[0])]);\n                    break;\n                case 'rotate':\n                    matrix.rotate(mt, mt, -parseFloat(valueArr[0]) * DEGREE_TO_ANGLE, [\n                        parseFloat(valueArr[1] || '0'),\n                        parseFloat(valueArr[2] || '0')\n                    ]);\n                    break;\n                case 'skewX':\n                    var sx = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, 0, sx, 1, 0, 0], mt);\n                    break;\n                case 'skewY':\n                    var sy = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, sy, 0, 1, 0, 0], mt);\n                    break;\n                case 'matrix':\n                    mt[0] = parseFloat(valueArr[0]);\n                    mt[1] = parseFloat(valueArr[1]);\n                    mt[2] = parseFloat(valueArr[2]);\n                    mt[3] = parseFloat(valueArr[3]);\n                    mt[4] = parseFloat(valueArr[4]);\n                    mt[5] = parseFloat(valueArr[5]);\n                    break;\n            }\n        }\n        node.setLocalTransform(mt);\n    }\n}\nvar styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\nfunction parseInlineStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    var style = xmlNode.getAttribute('style');\n    if (!style) {\n        return;\n    }\n    styleRegex.lastIndex = 0;\n    var styleRegResult;\n    while ((styleRegResult = styleRegex.exec(style)) != null) {\n        var svgStlAttr = styleRegResult[1];\n        var zrInheritableStlAttr = hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? INHERITABLE_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrInheritableStlAttr) {\n            inheritableStyleResult[zrInheritableStlAttr] = styleRegResult[2];\n        }\n        var zrSelfStlAttr = hasOwn(SELF_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? SELF_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrSelfStlAttr) {\n            selfStyleResult[zrSelfStlAttr] = styleRegResult[2];\n        }\n    }\n}\nfunction parseAttributeStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    for (var i = 0; i < INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            inheritableStyleResult[INHERITABLE_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n    for (var i = 0; i < SELF_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = SELF_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            selfStyleResult[SELF_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n}\nexport function makeViewBoxTransform(viewBoxRect, boundingRect) {\n    var scaleX = boundingRect.width / viewBoxRect.width;\n    var scaleY = boundingRect.height / viewBoxRect.height;\n    var scale = Math.min(scaleX, scaleY);\n    return {\n        scale: scale,\n        x: -(viewBoxRect.x + viewBoxRect.width / 2) * scale + (boundingRect.x + boundingRect.width / 2),\n        y: -(viewBoxRect.y + viewBoxRect.height / 2) * scale + (boundingRect.y + boundingRect.height / 2)\n    };\n}\nexport function parseSVG(xml, opt) {\n    var parser = new SVGParser();\n    return parser.parse(xml, opt);\n}\nexport { parseXML };\n","import { isString } from '../core/util.js';\nexport function parseXML(svg) {\n    if (isString(svg)) {\n        var parser = new DOMParser();\n        svg = parser.parseFromString(svg, 'text/xml');\n    }\n    var svgNode = svg;\n    if (svgNode.nodeType === 9) {\n        svgNode = svgNode.firstChild;\n    }\n    while (svgNode.nodeName.toLowerCase() !== 'svg' || svgNode.nodeType !== 1) {\n        svgNode = svgNode.nextSibling;\n    }\n    return svgNode;\n}\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as polygonContain from 'zrender/lib/contain/polygon.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport { each } from 'zrender/lib/core/util.js';\nvar TMP_TRANSFORM = [];\nfunction transformPoints(points, transform) {\n  for (var p = 0; p < points.length; p++) {\n    vec2.applyTransform(points[p], points[p], transform);\n  }\n}\nfunction updateBBoxFromPoints(points, min, max, projection) {\n  for (var i = 0; i < points.length; i++) {\n    var p = points[i];\n    if (projection) {\n      // projection may return null point.\n      p = projection.project(p);\n    }\n    if (p && isFinite(p[0]) && isFinite(p[1])) {\n      vec2.min(min, min, p);\n      vec2.max(max, max, p);\n    }\n  }\n}\nfunction centroid(points) {\n  var signedArea = 0;\n  var cx = 0;\n  var cy = 0;\n  var len = points.length;\n  var x0 = points[len - 1][0];\n  var y0 = points[len - 1][1];\n  // Polygon should been closed.\n  for (var i = 0; i < len; i++) {\n    var x1 = points[i][0];\n    var y1 = points[i][1];\n    var a = x0 * y1 - x1 * y0;\n    signedArea += a;\n    cx += (x0 + x1) * a;\n    cy += (y0 + y1) * a;\n    x0 = x1;\n    y0 = y1;\n  }\n  return signedArea ? [cx / signedArea / 3, cy / signedArea / 3, signedArea] : [points[0][0] || 0, points[0][1] || 0];\n}\nvar Region = /** @class */function () {\n  function Region(name) {\n    this.name = name;\n  }\n  Region.prototype.setCenter = function (center) {\n    this._center = center;\n  };\n  /**\n   * Get center point in data unit. That is,\n   * for GeoJSONRegion, the unit is lat/lng,\n   * for GeoSVGRegion, the unit is SVG local coord.\n   */\n  Region.prototype.getCenter = function () {\n    var center = this._center;\n    if (!center) {\n      // In most cases there are no need to calculate this center.\n      // So calculate only when called.\n      center = this._center = this.calcCenter();\n    }\n    return center;\n  };\n  return Region;\n}();\nexport { Region };\nvar GeoJSONPolygonGeometry = /** @class */function () {\n  function GeoJSONPolygonGeometry(exterior, interiors) {\n    this.type = 'polygon';\n    this.exterior = exterior;\n    this.interiors = interiors;\n  }\n  return GeoJSONPolygonGeometry;\n}();\nexport { GeoJSONPolygonGeometry };\nvar GeoJSONLineStringGeometry = /** @class */function () {\n  function GeoJSONLineStringGeometry(points) {\n    this.type = 'linestring';\n    this.points = points;\n  }\n  return GeoJSONLineStringGeometry;\n}();\nexport { GeoJSONLineStringGeometry };\nvar GeoJSONRegion = /** @class */function (_super) {\n  __extends(GeoJSONRegion, _super);\n  function GeoJSONRegion(name, geometries, cp) {\n    var _this = _super.call(this, name) || this;\n    _this.type = 'geoJSON';\n    _this.geometries = geometries;\n    _this._center = cp && [cp[0], cp[1]];\n    return _this;\n  }\n  GeoJSONRegion.prototype.calcCenter = function () {\n    var geometries = this.geometries;\n    var largestGeo;\n    var largestGeoSize = 0;\n    for (var i = 0; i < geometries.length; i++) {\n      var geo = geometries[i];\n      var exterior = geo.exterior;\n      // Simple trick to use points count instead of polygon area as region size.\n      // Ignore linestring\n      var size = exterior && exterior.length;\n      if (size > largestGeoSize) {\n        largestGeo = geo;\n        largestGeoSize = size;\n      }\n    }\n    if (largestGeo) {\n      return centroid(largestGeo.exterior);\n    }\n    // from bounding rect by default.\n    var rect = this.getBoundingRect();\n    return [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  };\n  GeoJSONRegion.prototype.getBoundingRect = function (projection) {\n    var rect = this._rect;\n    // Always recalculate if using projection.\n    if (rect && !projection) {\n      return rect;\n    }\n    var min = [Infinity, Infinity];\n    var max = [-Infinity, -Infinity];\n    var geometries = this.geometries;\n    each(geometries, function (geo) {\n      if (geo.type === 'polygon') {\n        // Doesn't consider hole\n        updateBBoxFromPoints(geo.exterior, min, max, projection);\n      } else {\n        each(geo.points, function (points) {\n          updateBBoxFromPoints(points, min, max, projection);\n        });\n      }\n    });\n    // Normalie invalid bounding.\n    if (!(isFinite(min[0]) && isFinite(min[1]) && isFinite(max[0]) && isFinite(max[1]))) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n    rect = new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    if (!projection) {\n      this._rect = rect;\n    }\n    return rect;\n  };\n  GeoJSONRegion.prototype.contain = function (coord) {\n    var rect = this.getBoundingRect();\n    var geometries = this.geometries;\n    if (!rect.contain(coord[0], coord[1])) {\n      return false;\n    }\n    loopGeo: for (var i = 0, len = geometries.length; i < len; i++) {\n      var geo = geometries[i];\n      // Only support polygon.\n      if (geo.type !== 'polygon') {\n        continue;\n      }\n      var exterior = geo.exterior;\n      var interiors = geo.interiors;\n      if (polygonContain.contain(exterior, coord[0], coord[1])) {\n        // Not in the region if point is in the hole.\n        for (var k = 0; k < (interiors ? interiors.length : 0); k++) {\n          if (polygonContain.contain(interiors[k], coord[0], coord[1])) {\n            continue loopGeo;\n          }\n        }\n        return true;\n      }\n    }\n    return false;\n  };\n  /**\n   * Transform the raw coords to target bounding.\n   * @param x\n   * @param y\n   * @param width\n   * @param height\n   */\n  GeoJSONRegion.prototype.transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var aspect = rect.width / rect.height;\n    if (!width) {\n      width = aspect * height;\n    } else if (!height) {\n      height = width / aspect;\n    }\n    var target = new BoundingRect(x, y, width, height);\n    var transform = rect.calculateTransform(target);\n    var geometries = this.geometries;\n    for (var i = 0; i < geometries.length; i++) {\n      var geo = geometries[i];\n      if (geo.type === 'polygon') {\n        transformPoints(geo.exterior, transform);\n        each(geo.interiors, function (interior) {\n          transformPoints(interior, transform);\n        });\n      } else {\n        each(geo.points, function (points) {\n          transformPoints(points, transform);\n        });\n      }\n    }\n    rect = this._rect;\n    rect.copy(target);\n    // Update center\n    this._center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  };\n  GeoJSONRegion.prototype.cloneShallow = function (name) {\n    name == null && (name = this.name);\n    var newRegion = new GeoJSONRegion(name, this.geometries, this._center);\n    newRegion._rect = this._rect;\n    newRegion.transformTo = null; // Simply avoid to be called.\n    return newRegion;\n  };\n  return GeoJSONRegion;\n}(Region);\nexport { GeoJSONRegion };\nvar GeoSVGRegion = /** @class */function (_super) {\n  __extends(GeoSVGRegion, _super);\n  function GeoSVGRegion(name, elOnlyForCalculate) {\n    var _this = _super.call(this, name) || this;\n    _this.type = 'geoSVG';\n    _this._elOnlyForCalculate = elOnlyForCalculate;\n    return _this;\n  }\n  GeoSVGRegion.prototype.calcCenter = function () {\n    var el = this._elOnlyForCalculate;\n    var rect = el.getBoundingRect();\n    var center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    var mat = matrix.identity(TMP_TRANSFORM);\n    var target = el;\n    while (target && !target.isGeoSVGGraphicRoot) {\n      matrix.mul(mat, target.getLocalTransform(), mat);\n      target = target.parent;\n    }\n    matrix.invert(mat, mat);\n    vec2.applyTransform(center, center, mat);\n    return center;\n  };\n  return GeoSVGRegion;\n}(Region);\nexport { GeoSVGRegion };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parseSVG, makeViewBoxTransform } from 'zrender/lib/tool/parseSVG.js';\nimport Group from 'zrender/lib/graphic/Group.js';\nimport Rect from 'zrender/lib/graphic/shape/Rect.js';\nimport { assert, createHashMap, each } from 'zrender/lib/core/util.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { parseXML } from 'zrender/lib/tool/parseXML.js';\nimport { GeoSVGRegion } from './Region.js';\n/**\n * \"region available\" means that: enable users to set attribute `name=\"xxx\"` on those tags\n * to make it be a region.\n * 1. region styles and its label styles can be defined in echarts opton:\n * ```js\n * geo: {\n *     regions: [{\n *         name: 'xxx',\n *         itemStyle: { ... },\n *         label: { ... }\n *     }, {\n *         ...\n *     },\n *     ...]\n * };\n * ```\n * 2. name can be duplicated in different SVG tag. All of the tags with the same name share\n * a region option. For exampel if there are two <path> representing two lung lobes. They have\n * no common parents but both of them need to display label \"lung\" inside.\n */\nvar REGION_AVAILABLE_SVG_TAG_MAP = createHashMap(['rect', 'circle', 'line', 'ellipse', 'polygon', 'polyline', 'path',\n// <text> <tspan> are also enabled because some SVG might paint text itself,\n// but still need to trigger events or tooltip.\n'text', 'tspan',\n// <g> is also enabled because this case: if multiple tags share one name\n// and need label displayed, every tags will display the name, which is not\n// expected. So we can put them into a <g name=\"xxx\">. Thereby only one label\n// displayed and located based on the bounding rect of the <g>.\n'g']);\nvar GeoSVGResource = /** @class */function () {\n  function GeoSVGResource(mapName, svg) {\n    this.type = 'geoSVG';\n    // All used graphics. key: hostKey, value: root\n    this._usedGraphicMap = createHashMap();\n    // All unused graphics.\n    this._freedGraphics = [];\n    this._mapName = mapName;\n    // Only perform parse to XML object here, which might be time\n    // consiming for large SVG.\n    // Although convert XML to zrender element is also time consiming,\n    // if we do it here, the clone of zrender elements has to be\n    // required. So we do it once for each geo instance, util real\n    // performance issues call for optimizing it.\n    this._parsedXML = parseXML(svg);\n  }\n  GeoSVGResource.prototype.load = function /* nameMap: NameMap */\n  () {\n    // In the \"load\" stage, graphic need to be built to\n    // get boundingRect for geo coordinate system.\n    var firstGraphic = this._firstGraphic;\n    // Create the return data structure only when first graphic created.\n    // Because they will be used in geo coordinate system update stage,\n    // and `regions` will be mounted at `geo` coordinate system,\n    // in which there is no \"view\" info, so that it should better not to\n    // make references to graphic elements.\n    if (!firstGraphic) {\n      firstGraphic = this._firstGraphic = this._buildGraphic(this._parsedXML);\n      this._freedGraphics.push(firstGraphic);\n      this._boundingRect = this._firstGraphic.boundingRect.clone();\n      // PENDING: `nameMap` will not be supported until some real requirement come.\n      // if (nameMap) {\n      //     named = applyNameMap(named, nameMap);\n      // }\n      var _a = createRegions(firstGraphic.named),\n        regions = _a.regions,\n        regionsMap = _a.regionsMap;\n      this._regions = regions;\n      this._regionsMap = regionsMap;\n    }\n    return {\n      boundingRect: this._boundingRect,\n      regions: this._regions,\n      regionsMap: this._regionsMap\n    };\n  };\n  GeoSVGResource.prototype._buildGraphic = function (svgXML) {\n    var result;\n    var rootFromParse;\n    try {\n      result = svgXML && parseSVG(svgXML, {\n        ignoreViewBox: true,\n        ignoreRootClip: true\n      }) || {};\n      rootFromParse = result.root;\n      assert(rootFromParse != null);\n    } catch (e) {\n      throw new Error('Invalid svg format\\n' + e.message);\n    }\n    // Note: we keep the covenant that the root has no transform. So always add an extra root.\n    var root = new Group();\n    root.add(rootFromParse);\n    root.isGeoSVGGraphicRoot = true;\n    // [THE_RULE_OF_VIEWPORT_AND_VIEWBOX]\n    //\n    // Consider: `<svg width=\"...\" height=\"...\" viewBox=\"...\">`\n    // - the `width/height` we call it `svgWidth/svgHeight` for short.\n    // - `(0, 0, svgWidth, svgHeight)` defines the viewport of the SVG, or say,\n    //   \"viewport boundingRect\", or `boundingRect` for short.\n    // - `viewBox` defines the transform from the real content ot the viewport.\n    //   `viewBox` has the same unit as the content of SVG.\n    //   If `viewBox` exists, a transform is defined, so the unit of `svgWidth/svgHeight` become\n    //   different from the content of SVG. Otherwise, they are the same.\n    //\n    // If both `svgWidth/svgHeight/viewBox` are specified in a SVG file, the transform rule will be:\n    // 0. `boundingRect` is `(0, 0, svgWidth, svgHeight)`. Set it to Geo['_rect'] (View['_rect']).\n    // 1. Make a transform from `viewBox` to `boundingRect`.\n    //    Note: only support `preserveAspectRatio 'xMidYMid'` here. That is, this transform will preserve\n    //    the aspect ratio.\n    // 2. Make a transform from boundingRect to Geo['_viewRect'] (View['_viewRect'])\n    //    (`Geo`/`View` will do this job).\n    //    Note: this transform might not preserve aspect radio, which depending on how users specify\n    //    viewRect in echarts option (e.g., `geo.left/top/width/height` will not preserve aspect ratio,\n    //    but `geo.layoutCenter/layoutSize` will preserve aspect ratio).\n    //\n    // If `svgWidth/svgHeight` not specified, we use `viewBox` as the `boundingRect` to make the SVG\n    // layout look good.\n    //\n    // If neither `svgWidth/svgHeight` nor `viewBox` are not specified, we calculate the boundingRect\n    // of the SVG content and use them to make SVG layout look good.\n    var svgWidth = result.width;\n    var svgHeight = result.height;\n    var viewBoxRect = result.viewBoxRect;\n    var boundingRect = this._boundingRect;\n    if (!boundingRect) {\n      var bRectX = void 0;\n      var bRectY = void 0;\n      var bRectWidth = void 0;\n      var bRectHeight = void 0;\n      if (svgWidth != null) {\n        bRectX = 0;\n        bRectWidth = svgWidth;\n      } else if (viewBoxRect) {\n        bRectX = viewBoxRect.x;\n        bRectWidth = viewBoxRect.width;\n      }\n      if (svgHeight != null) {\n        bRectY = 0;\n        bRectHeight = svgHeight;\n      } else if (viewBoxRect) {\n        bRectY = viewBoxRect.y;\n        bRectHeight = viewBoxRect.height;\n      }\n      // If both viewBox and svgWidth/svgHeight not specified,\n      // we have to determine how to layout those element to make them look good.\n      if (bRectX == null || bRectY == null) {\n        var calculatedBoundingRect = rootFromParse.getBoundingRect();\n        if (bRectX == null) {\n          bRectX = calculatedBoundingRect.x;\n          bRectWidth = calculatedBoundingRect.width;\n        }\n        if (bRectY == null) {\n          bRectY = calculatedBoundingRect.y;\n          bRectHeight = calculatedBoundingRect.height;\n        }\n      }\n      boundingRect = this._boundingRect = new BoundingRect(bRectX, bRectY, bRectWidth, bRectHeight);\n    }\n    if (viewBoxRect) {\n      var viewBoxTransform = makeViewBoxTransform(viewBoxRect, boundingRect);\n      // Only support `preserveAspectRatio 'xMidYMid'`\n      rootFromParse.scaleX = rootFromParse.scaleY = viewBoxTransform.scale;\n      rootFromParse.x = viewBoxTransform.x;\n      rootFromParse.y = viewBoxTransform.y;\n    }\n    // SVG needs to clip based on `viewBox`. And some SVG files really rely on this feature.\n    // They do not strictly confine all of the content inside a display rect, but deliberately\n    // use a `viewBox` to define a displayable rect.\n    // PENDING:\n    // The drawback of the `setClipPath` here is: the region label (genereted by echarts) near the\n    // edge might also be clipped, because region labels are put as `textContent` of the SVG path.\n    root.setClipPath(new Rect({\n      shape: boundingRect.plain()\n    }));\n    var named = [];\n    each(result.named, function (namedItem) {\n      if (REGION_AVAILABLE_SVG_TAG_MAP.get(namedItem.svgNodeTagLower) != null) {\n        named.push(namedItem);\n        setSilent(namedItem.el);\n      }\n    });\n    return {\n      root: root,\n      boundingRect: boundingRect,\n      named: named\n    };\n  };\n  /**\n   * Consider:\n   * (1) One graphic element can not be shared by different `geoView` running simultaneously.\n   *     Notice, also need to consider multiple echarts instances share a `mapRecord`.\n   * (2) Converting SVG to graphic elements is time consuming.\n   * (3) In the current architecture, `load` should be called frequently to get boundingRect,\n   *     and it is called without view info.\n   * So we maintain graphic elements in this module, and enables `view` to use/return these\n   * graphics from/to the pool with it's uid.\n   */\n  GeoSVGResource.prototype.useGraphic = function (hostKey /* , nameMap: NameMap */) {\n    var usedRootMap = this._usedGraphicMap;\n    var svgGraphic = usedRootMap.get(hostKey);\n    if (svgGraphic) {\n      return svgGraphic;\n    }\n    svgGraphic = this._freedGraphics.pop()\n    // use the first boundingRect to avoid duplicated boundingRect calculation.\n    || this._buildGraphic(this._parsedXML);\n    usedRootMap.set(hostKey, svgGraphic);\n    // PENDING: `nameMap` will not be supported until some real requirement come.\n    // `nameMap` can only be obtained from echarts option.\n    // The original `named` must not be modified.\n    // if (nameMap) {\n    //     svgGraphic = extend({}, svgGraphic);\n    //     svgGraphic.named = applyNameMap(svgGraphic.named, nameMap);\n    // }\n    return svgGraphic;\n  };\n  GeoSVGResource.prototype.freeGraphic = function (hostKey) {\n    var usedRootMap = this._usedGraphicMap;\n    var svgGraphic = usedRootMap.get(hostKey);\n    if (svgGraphic) {\n      usedRootMap.removeKey(hostKey);\n      this._freedGraphics.push(svgGraphic);\n    }\n  };\n  return GeoSVGResource;\n}();\nexport { GeoSVGResource };\nfunction setSilent(el) {\n  // Only named element has silent: false, other elements should\n  // act as background and has no user interaction.\n  el.silent = false;\n  // text|tspan will be converted to group.\n  if (el.isGroup) {\n    el.traverse(function (child) {\n      child.silent = false;\n    });\n  }\n}\nfunction createRegions(named) {\n  var regions = [];\n  var regionsMap = createHashMap();\n  // Create resions only for the first graphic.\n  each(named, function (namedItem) {\n    // Region has feature to calculate center for tooltip or other features.\n    // If there is a <g name=\"xxx\">, the center should be the center of the\n    // bounding rect of the g.\n    if (namedItem.namedFrom != null) {\n      return;\n    }\n    var region = new GeoSVGRegion(namedItem.name, namedItem.el);\n    // PENDING: if `nameMap` supported, this region can not be mounted on\n    // `this`, but can only be created each time `load()` called.\n    regions.push(region);\n    // PENDING: if multiple tag named with the same name, only one will be\n    // found by `_regionsMap`. `_regionsMap` is used to find a coordinate\n    // by name. We use `region.getCenter()` as the coordinate.\n    regionsMap.set(namedItem.name, region);\n  });\n  return {\n    regions: regions,\n    regionsMap: regionsMap\n  };\n}\n// PENDING: `nameMap` will not be supported until some real requirement come.\n// /**\n//  * Use the alias in geoNameMap.\n//  * The input `named` must not be modified.\n//  */\n// function applyNameMap(\n//     named: GeoSVGGraphicRecord['named'],\n//     nameMap: NameMap\n// ): GeoSVGGraphicRecord['named'] {\n//     const result = [] as GeoSVGGraphicRecord['named'];\n//     for (let i = 0; i < named.length; i++) {\n//         let regionGraphic = named[i];\n//         const name = regionGraphic.name;\n//         if (nameMap && nameMap.hasOwnProperty(name)) {\n//             regionGraphic = extend({}, regionGraphic);\n//             regionGraphic.name = name;\n//         }\n//         result.push(regionGraphic);\n//     }\n//     return result;\n// }","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Parse and decode geo json\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { GeoJSONLineStringGeometry, GeoJSONPolygonGeometry, GeoJSONRegion } from './Region.js';\nfunction decode(json) {\n  if (!json.UTF8Encoding) {\n    return json;\n  }\n  var jsonCompressed = json;\n  var encodeScale = jsonCompressed.UTF8Scale;\n  if (encodeScale == null) {\n    encodeScale = 1024;\n  }\n  var features = jsonCompressed.features;\n  zrUtil.each(features, function (feature) {\n    var geometry = feature.geometry;\n    var encodeOffsets = geometry.encodeOffsets;\n    var coordinates = geometry.coordinates;\n    // Geometry may be appeded manually in the script after json loaded.\n    // In this case this geometry is usually not encoded.\n    if (!encodeOffsets) {\n      return;\n    }\n    switch (geometry.type) {\n      case 'LineString':\n        geometry.coordinates = decodeRing(coordinates, encodeOffsets, encodeScale);\n        break;\n      case 'Polygon':\n        decodeRings(coordinates, encodeOffsets, encodeScale);\n        break;\n      case 'MultiLineString':\n        decodeRings(coordinates, encodeOffsets, encodeScale);\n        break;\n      case 'MultiPolygon':\n        zrUtil.each(coordinates, function (rings, idx) {\n          return decodeRings(rings, encodeOffsets[idx], encodeScale);\n        });\n    }\n  });\n  // Has been decoded\n  jsonCompressed.UTF8Encoding = false;\n  return jsonCompressed;\n}\nfunction decodeRings(rings, encodeOffsets, encodeScale) {\n  for (var c = 0; c < rings.length; c++) {\n    rings[c] = decodeRing(rings[c], encodeOffsets[c], encodeScale);\n  }\n}\nfunction decodeRing(coordinate, encodeOffsets, encodeScale) {\n  var result = [];\n  var prevX = encodeOffsets[0];\n  var prevY = encodeOffsets[1];\n  for (var i = 0; i < coordinate.length; i += 2) {\n    var x = coordinate.charCodeAt(i) - 64;\n    var y = coordinate.charCodeAt(i + 1) - 64;\n    // ZigZag decoding\n    x = x >> 1 ^ -(x & 1);\n    y = y >> 1 ^ -(y & 1);\n    // Delta deocding\n    x += prevX;\n    y += prevY;\n    prevX = x;\n    prevY = y;\n    // Dequantize\n    result.push([x / encodeScale, y / encodeScale]);\n  }\n  return result;\n}\nexport default function parseGeoJSON(geoJson, nameProperty) {\n  geoJson = decode(geoJson);\n  return zrUtil.map(zrUtil.filter(geoJson.features, function (featureObj) {\n    // Output of mapshaper may have geometry null\n    return featureObj.geometry && featureObj.properties && featureObj.geometry.coordinates.length > 0;\n  }), function (featureObj) {\n    var properties = featureObj.properties;\n    var geo = featureObj.geometry;\n    var geometries = [];\n    switch (geo.type) {\n      case 'Polygon':\n        var coordinates = geo.coordinates;\n        // According to the GeoJSON specification.\n        // First must be exterior, and the rest are all interior(holes).\n        geometries.push(new GeoJSONPolygonGeometry(coordinates[0], coordinates.slice(1)));\n        break;\n      case 'MultiPolygon':\n        zrUtil.each(geo.coordinates, function (item) {\n          if (item[0]) {\n            geometries.push(new GeoJSONPolygonGeometry(item[0], item.slice(1)));\n          }\n        });\n        break;\n      case 'LineString':\n        geometries.push(new GeoJSONLineStringGeometry([geo.coordinates]));\n        break;\n      case 'MultiLineString':\n        geometries.push(new GeoJSONLineStringGeometry(geo.coordinates));\n    }\n    var region = new GeoJSONRegion(properties[nameProperty || 'name'], geometries, properties.cp);\n    region.properties = properties;\n    return region;\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Fix for \nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { GeoJSONRegion } from '../Region.js';\nvar geoCoord = [126, 25];\nvar nanhaiName = '';\nvar points = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]];\nfor (var i = 0; i < points.length; i++) {\n  for (var k = 0; k < points[i].length; k++) {\n    points[i][k][0] /= 10.5;\n    points[i][k][1] /= -10.5 / 0.75;\n    points[i][k][0] += geoCoord[0];\n    points[i][k][1] += geoCoord[1];\n  }\n}\nexport default function fixNanhai(mapType, regions) {\n  if (mapType === 'china') {\n    for (var i = 0; i < regions.length; i++) {\n      // Already exists.\n      if (regions[i].name === nanhaiName) {\n        return;\n      }\n    }\n    regions.push(new GeoJSONRegion(nanhaiName, zrUtil.map(points, function (exterior) {\n      return {\n        type: 'polygon',\n        exterior: exterior\n      };\n    }), geoCoord));\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar coordsOffsetMap = {\n  '': [32, 80],\n  // \n  '': [0, -10],\n  '': [10, 5],\n  '': [-10, 10],\n  // '': [-10, 0],\n  '': [5, 5]\n};\nexport default function fixTextCoords(mapType, region) {\n  if (mapType === 'china') {\n    var coordFix = coordsOffsetMap[region.name];\n    if (coordFix) {\n      var cp = region.getCenter();\n      cp[0] += coordFix[0] / 10.5;\n      cp[1] += -coordFix[1] / (10.5 / 0.75);\n      region.setCenter(cp);\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Fix for \n// let Region = require('../Region');\n// let zrUtil = require('zrender/lib/core/util');\n// let geoCoord = [126, 25];\nvar points = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]];\nexport default function fixDiaoyuIsland(mapType, region) {\n  if (mapType === 'china' && region.name === '') {\n    region.geometries.push({\n      type: 'polygon',\n      exterior: points[0]\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isString, createHashMap, hasOwn } from 'zrender/lib/core/util.js';\nimport parseGeoJson from './parseGeoJson.js';\n// Built-in GEO fixer.\nimport fixNanhai from './fix/nanhai.js';\nimport fixTextCoord from './fix/textCoord.js';\nimport fixDiaoyuIsland from './fix/diaoyuIsland.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nvar DEFAULT_NAME_PROPERTY = 'name';\nvar GeoJSONResource = /** @class */function () {\n  function GeoJSONResource(mapName, geoJSON, specialAreas) {\n    this.type = 'geoJSON';\n    this._parsedMap = createHashMap();\n    this._mapName = mapName;\n    this._specialAreas = specialAreas;\n    // PENDING: delay the parse to the first usage to rapid up the FMP?\n    this._geoJSON = parseInput(geoJSON);\n  }\n  /**\n   * @param nameMap can be null/undefined\n   * @param nameProperty can be null/undefined\n   */\n  GeoJSONResource.prototype.load = function (nameMap, nameProperty) {\n    nameProperty = nameProperty || DEFAULT_NAME_PROPERTY;\n    var parsed = this._parsedMap.get(nameProperty);\n    if (!parsed) {\n      var rawRegions = this._parseToRegions(nameProperty);\n      parsed = this._parsedMap.set(nameProperty, {\n        regions: rawRegions,\n        boundingRect: calculateBoundingRect(rawRegions)\n      });\n    }\n    var regionsMap = createHashMap();\n    var finalRegions = [];\n    each(parsed.regions, function (region) {\n      var regionName = region.name;\n      // Try use the alias in geoNameMap\n      if (nameMap && hasOwn(nameMap, regionName)) {\n        region = region.cloneShallow(regionName = nameMap[regionName]);\n      }\n      finalRegions.push(region);\n      regionsMap.set(regionName, region);\n    });\n    return {\n      regions: finalRegions,\n      boundingRect: parsed.boundingRect || new BoundingRect(0, 0, 0, 0),\n      regionsMap: regionsMap\n    };\n  };\n  GeoJSONResource.prototype._parseToRegions = function (nameProperty) {\n    var mapName = this._mapName;\n    var geoJSON = this._geoJSON;\n    var rawRegions;\n    // https://jsperf.com/try-catch-performance-overhead\n    try {\n      rawRegions = geoJSON ? parseGeoJson(geoJSON, nameProperty) : [];\n    } catch (e) {\n      throw new Error('Invalid geoJson format\\n' + e.message);\n    }\n    fixNanhai(mapName, rawRegions);\n    each(rawRegions, function (region) {\n      var regionName = region.name;\n      fixTextCoord(mapName, region);\n      fixDiaoyuIsland(mapName, region);\n      // Some area like Alaska in USA map needs to be tansformed\n      // to look better\n      var specialArea = this._specialAreas && this._specialAreas[regionName];\n      if (specialArea) {\n        region.transformTo(specialArea.left, specialArea.top, specialArea.width, specialArea.height);\n      }\n    }, this);\n    return rawRegions;\n  };\n  /**\n   * Only for exporting to users.\n   * **MUST NOT** used internally.\n   */\n  GeoJSONResource.prototype.getMapForUser = function () {\n    return {\n      // For backward compatibility, use geoJson\n      // PENDING: it has been returning them without clone.\n      // do we need to avoid outsite modification?\n      geoJson: this._geoJSON,\n      geoJSON: this._geoJSON,\n      specialAreas: this._specialAreas\n    };\n  };\n  return GeoJSONResource;\n}();\nexport { GeoJSONResource };\nfunction calculateBoundingRect(regions) {\n  var rect;\n  for (var i = 0; i < regions.length; i++) {\n    var regionRect = regions[i].getBoundingRect();\n    rect = rect || regionRect.clone();\n    rect.union(regionRect);\n  }\n  return rect;\n}\nfunction parseInput(source) {\n  return !isString(source) ? source : typeof JSON !== 'undefined' && JSON.parse ? JSON.parse(source) : new Function('return (' + source + ');')();\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap } from 'zrender/lib/core/util.js';\nimport { GeoSVGResource } from './GeoSVGResource.js';\nimport { GeoJSONResource } from './GeoJSONResource.js';\nvar storage = createHashMap();\nexport default {\n  /**\n   * Compatible with previous `echarts.registerMap`.\n   *\n   * @usage\n   * ```js\n   *\n   * echarts.registerMap('USA', geoJson, specialAreas);\n   *\n   * echarts.registerMap('USA', {\n   *     geoJson: geoJson,\n   *     specialAreas: {...}\n   * });\n   * echarts.registerMap('USA', {\n   *     geoJSON: geoJson,\n   *     specialAreas: {...}\n   * });\n   *\n   * echarts.registerMap('airport', {\n   *     svg: svg\n   * }\n   * ```\n   *\n   * Note:\n   * Do not support that register multiple geoJSON or SVG\n   * one map name. Because different geoJSON and SVG have\n   * different unit. It's not easy to make sure how those\n   * units are mapping/normalize.\n   * If intending to use multiple geoJSON or SVG, we can\n   * use multiple geo coordinate system.\n   */\n  registerMap: function (mapName, rawDef, rawSpecialAreas) {\n    if (rawDef.svg) {\n      var resource = new GeoSVGResource(mapName, rawDef.svg);\n      storage.set(mapName, resource);\n    } else {\n      // Recommend:\n      //     echarts.registerMap('eu', { geoJSON: xxx, specialAreas: xxx });\n      // Backward compatibility:\n      //     echarts.registerMap('eu', geoJSON, specialAreas);\n      //     echarts.registerMap('eu', { geoJson: xxx, specialAreas: xxx });\n      var geoJSON = rawDef.geoJson || rawDef.geoJSON;\n      if (geoJSON && !rawDef.features) {\n        rawSpecialAreas = rawDef.specialAreas;\n      } else {\n        geoJSON = rawDef;\n      }\n      var resource = new GeoJSONResource(mapName, geoJSON, rawSpecialAreas);\n      storage.set(mapName, resource);\n    }\n  },\n  getGeoResource: function (mapName) {\n    return storage.get(mapName);\n  },\n  /**\n   * Only for exporting to users.\n   * **MUST NOT** used internally.\n   */\n  getMapForUser: function (mapName) {\n    var resource = storage.get(mapName);\n    // Do not support return SVG until some real requirement come.\n    return resource && resource.type === 'geoJSON' && resource.getMapForUser();\n  },\n  load: function (mapName, nameMap, nameProperty) {\n    var resource = storage.get(mapName);\n    if (!resource) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Map ' + mapName + ' not exists. The GeoJSON of the map must be provided.');\n      }\n      return;\n    }\n    return resource.load(nameMap, nameProperty);\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction dataIndexMapValueLength(valNumOrArrLengthMoreThan2) {\n  return valNumOrArrLengthMoreThan2 == null ? 0 : valNumOrArrLengthMoreThan2.length || 1;\n}\nfunction defaultKeyGetter(item) {\n  return item;\n}\nvar DataDiffer = /** @class */function () {\n  /**\n   * @param context Can be visited by this.context in callback.\n   */\n  function DataDiffer(oldArr, newArr, oldKeyGetter, newKeyGetter, context,\n  // By default: 'oneToOne'.\n  diffMode) {\n    this._old = oldArr;\n    this._new = newArr;\n    this._oldKeyGetter = oldKeyGetter || defaultKeyGetter;\n    this._newKeyGetter = newKeyGetter || defaultKeyGetter;\n    // Visible in callback via `this.context`;\n    this.context = context;\n    this._diffModeMultiple = diffMode === 'multiple';\n  }\n  /**\n   * Callback function when add a data\n   */\n  DataDiffer.prototype.add = function (func) {\n    this._add = func;\n    return this;\n  };\n  /**\n   * Callback function when update a data\n   */\n  DataDiffer.prototype.update = function (func) {\n    this._update = func;\n    return this;\n  };\n  /**\n   * Callback function when update a data and only work in `cbMode: 'byKey'`.\n   */\n  DataDiffer.prototype.updateManyToOne = function (func) {\n    this._updateManyToOne = func;\n    return this;\n  };\n  /**\n   * Callback function when update a data and only work in `cbMode: 'byKey'`.\n   */\n  DataDiffer.prototype.updateOneToMany = function (func) {\n    this._updateOneToMany = func;\n    return this;\n  };\n  /**\n   * Callback function when update a data and only work in `cbMode: 'byKey'`.\n   */\n  DataDiffer.prototype.updateManyToMany = function (func) {\n    this._updateManyToMany = func;\n    return this;\n  };\n  /**\n   * Callback function when remove a data\n   */\n  DataDiffer.prototype.remove = function (func) {\n    this._remove = func;\n    return this;\n  };\n  DataDiffer.prototype.execute = function () {\n    this[this._diffModeMultiple ? '_executeMultiple' : '_executeOneToOne']();\n  };\n  DataDiffer.prototype._executeOneToOne = function () {\n    var oldArr = this._old;\n    var newArr = this._new;\n    var newDataIndexMap = {};\n    var oldDataKeyArr = new Array(oldArr.length);\n    var newDataKeyArr = new Array(newArr.length);\n    this._initIndexMap(oldArr, null, oldDataKeyArr, '_oldKeyGetter');\n    this._initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter');\n    for (var i = 0; i < oldArr.length; i++) {\n      var oldKey = oldDataKeyArr[i];\n      var newIdxMapVal = newDataIndexMap[oldKey];\n      var newIdxMapValLen = dataIndexMapValueLength(newIdxMapVal);\n      // idx can never be empty array here. see 'set null' logic below.\n      if (newIdxMapValLen > 1) {\n        // Consider there is duplicate key (for example, use dataItem.name as key).\n        // We should make sure every item in newArr and oldArr can be visited.\n        var newIdx = newIdxMapVal.shift();\n        if (newIdxMapVal.length === 1) {\n          newDataIndexMap[oldKey] = newIdxMapVal[0];\n        }\n        this._update && this._update(newIdx, i);\n      } else if (newIdxMapValLen === 1) {\n        newDataIndexMap[oldKey] = null;\n        this._update && this._update(newIdxMapVal, i);\n      } else {\n        this._remove && this._remove(i);\n      }\n    }\n    this._performRestAdd(newDataKeyArr, newDataIndexMap);\n  };\n  /**\n   * For example, consider the case:\n   * oldData: [o0, o1, o2, o3, o4, o5, o6, o7],\n   * newData: [n0, n1, n2, n3, n4, n5, n6, n7, n8],\n   * Where:\n   *     o0, o1, n0 has key 'a' (many to one)\n   *     o5, n4, n5, n6 has key 'b' (one to many)\n   *     o2, n1 has key 'c' (one to one)\n   *     n2, n3 has key 'd' (add)\n   *     o3, o4 has key 'e' (remove)\n   *     o6, o7, n7, n8 has key 'f' (many to many, treated as add and remove)\n   * Then:\n   *     (The order of the following directives are not ensured.)\n   *     this._updateManyToOne(n0, [o0, o1]);\n   *     this._updateOneToMany([n4, n5, n6], o5);\n   *     this._update(n1, o2);\n   *     this._remove(o3);\n   *     this._remove(o4);\n   *     this._remove(o6);\n   *     this._remove(o7);\n   *     this._add(n2);\n   *     this._add(n3);\n   *     this._add(n7);\n   *     this._add(n8);\n   */\n  DataDiffer.prototype._executeMultiple = function () {\n    var oldArr = this._old;\n    var newArr = this._new;\n    var oldDataIndexMap = {};\n    var newDataIndexMap = {};\n    var oldDataKeyArr = [];\n    var newDataKeyArr = [];\n    this._initIndexMap(oldArr, oldDataIndexMap, oldDataKeyArr, '_oldKeyGetter');\n    this._initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter');\n    for (var i = 0; i < oldDataKeyArr.length; i++) {\n      var oldKey = oldDataKeyArr[i];\n      var oldIdxMapVal = oldDataIndexMap[oldKey];\n      var newIdxMapVal = newDataIndexMap[oldKey];\n      var oldIdxMapValLen = dataIndexMapValueLength(oldIdxMapVal);\n      var newIdxMapValLen = dataIndexMapValueLength(newIdxMapVal);\n      if (oldIdxMapValLen > 1 && newIdxMapValLen === 1) {\n        this._updateManyToOne && this._updateManyToOne(newIdxMapVal, oldIdxMapVal);\n        newDataIndexMap[oldKey] = null;\n      } else if (oldIdxMapValLen === 1 && newIdxMapValLen > 1) {\n        this._updateOneToMany && this._updateOneToMany(newIdxMapVal, oldIdxMapVal);\n        newDataIndexMap[oldKey] = null;\n      } else if (oldIdxMapValLen === 1 && newIdxMapValLen === 1) {\n        this._update && this._update(newIdxMapVal, oldIdxMapVal);\n        newDataIndexMap[oldKey] = null;\n      } else if (oldIdxMapValLen > 1 && newIdxMapValLen > 1) {\n        this._updateManyToMany && this._updateManyToMany(newIdxMapVal, oldIdxMapVal);\n        newDataIndexMap[oldKey] = null;\n      } else if (oldIdxMapValLen > 1) {\n        for (var i_1 = 0; i_1 < oldIdxMapValLen; i_1++) {\n          this._remove && this._remove(oldIdxMapVal[i_1]);\n        }\n      } else {\n        this._remove && this._remove(oldIdxMapVal);\n      }\n    }\n    this._performRestAdd(newDataKeyArr, newDataIndexMap);\n  };\n  DataDiffer.prototype._performRestAdd = function (newDataKeyArr, newDataIndexMap) {\n    for (var i = 0; i < newDataKeyArr.length; i++) {\n      var newKey = newDataKeyArr[i];\n      var newIdxMapVal = newDataIndexMap[newKey];\n      var idxMapValLen = dataIndexMapValueLength(newIdxMapVal);\n      if (idxMapValLen > 1) {\n        for (var j = 0; j < idxMapValLen; j++) {\n          this._add && this._add(newIdxMapVal[j]);\n        }\n      } else if (idxMapValLen === 1) {\n        this._add && this._add(newIdxMapVal);\n      }\n      // Support both `newDataKeyArr` are duplication removed or not removed.\n      newDataIndexMap[newKey] = null;\n    }\n  };\n  DataDiffer.prototype._initIndexMap = function (arr,\n  // Can be null.\n  map,\n  // In 'byKey', the output `keyArr` is duplication removed.\n  // In 'byIndex', the output `keyArr` is not duplication removed and\n  //     its indices are accurately corresponding to `arr`.\n  keyArr, keyGetterName) {\n    var cbModeMultiple = this._diffModeMultiple;\n    for (var i = 0; i < arr.length; i++) {\n      // Add prefix to avoid conflict with Object.prototype.\n      var key = '_ec_' + this[keyGetterName](arr[i], i);\n      if (!cbModeMultiple) {\n        keyArr[i] = key;\n      }\n      if (!map) {\n        continue;\n      }\n      var idxMapVal = map[key];\n      var idxMapValLen = dataIndexMapValueLength(idxMapVal);\n      if (idxMapValLen === 0) {\n        // Simple optimize: in most cases, one index has one key,\n        // do not need array.\n        map[key] = i;\n        if (cbModeMultiple) {\n          keyArr.push(key);\n        }\n      } else if (idxMapValLen === 1) {\n        map[key] = [idxMapVal, i];\n      } else {\n        idxMapVal.push(i);\n      }\n    }\n  };\n  return DataDiffer;\n}();\nexport default DataDiffer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/* global Int32Array */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from '../model/Model.js';\nimport DataDiffer from './DataDiffer.js';\nimport { DefaultDataProvider } from './helper/dataProvider.js';\nimport { summarizeDimensions } from './helper/dimensionHelper.js';\nimport SeriesDimensionDefine from './SeriesDimensionDefine.js';\nimport { SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ORIGINAL } from '../util/types.js';\nimport { convertOptionIdName, isDataItemOption } from '../util/model.js';\nimport { setCommonECData } from '../util/innerStore.js';\nimport { isSourceInstance } from './Source.js';\nimport DataStore from './DataStore.js';\nimport { isSeriesDataSchema } from './helper/SeriesDataSchema.js';\nvar isObject = zrUtil.isObject;\nvar map = zrUtil.map;\nvar CtorInt32Array = typeof Int32Array === 'undefined' ? Array : Int32Array;\n// Use prefix to avoid index to be the same as otherIdList[idx],\n// which will cause weird update animation.\nvar ID_PREFIX = 'e\\0\\0';\nvar INDEX_NOT_FOUND = -1;\n// type SeriesDimensionIndex = DimensionIndex;\nvar TRANSFERABLE_PROPERTIES = ['hasItemOption', '_nameList', '_idList', '_invertedIndicesMap', '_dimSummary', 'userOutput', '_rawData', '_dimValueGetter', '_nameDimIdx', '_idDimIdx', '_nameRepeatCount'];\nvar CLONE_PROPERTIES = ['_approximateExtent'];\n// -----------------------------\n// Internal method declarations:\n// -----------------------------\nvar prepareInvertedIndex;\nvar getId;\nvar getIdNameFromStore;\nvar normalizeDimensions;\nvar transferProperties;\nvar cloneListForMapAndSample;\nvar makeIdFromName;\nvar SeriesData = /** @class */function () {\n  /**\n   * @param dimensionsInput.dimensions\n   *        For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].\n   *        Dimensions should be concrete names like x, y, z, lng, lat, angle, radius\n   */\n  function SeriesData(dimensionsInput, hostModel) {\n    this.type = 'list';\n    this._dimOmitted = false;\n    this._nameList = [];\n    this._idList = [];\n    // Models of data option is stored sparse for optimizing memory cost\n    // Never used yet (not used yet).\n    // private _optionModels: Model[] = [];\n    // Global visual properties after visual coding\n    this._visual = {};\n    // Global layout properties.\n    this._layout = {};\n    // Item visual properties after visual coding\n    this._itemVisuals = [];\n    // Item layout properties after layout\n    this._itemLayouts = [];\n    // Graphic elements\n    this._graphicEls = [];\n    // key: dim, value: extent\n    this._approximateExtent = {};\n    this._calculationInfo = {};\n    // Having detected that there is data item is non primitive type\n    // (in type `OptionDataItemObject`).\n    // Like `data: [ { value: xx, itemStyle: {...} }, ...]`\n    // At present it only happen in `SOURCE_FORMAT_ORIGINAL`.\n    this.hasItemOption = false;\n    // Methods that create a new list based on this list should be listed here.\n    // Notice that those method should `RETURN` the new list.\n    this.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'lttbDownSample', 'map'];\n    // Methods that change indices of this list should be listed here.\n    this.CHANGABLE_METHODS = ['filterSelf', 'selectRange'];\n    this.DOWNSAMPLE_METHODS = ['downSample', 'lttbDownSample'];\n    var dimensions;\n    var assignStoreDimIdx = false;\n    if (isSeriesDataSchema(dimensionsInput)) {\n      dimensions = dimensionsInput.dimensions;\n      this._dimOmitted = dimensionsInput.isDimensionOmitted();\n      this._schema = dimensionsInput;\n    } else {\n      assignStoreDimIdx = true;\n      dimensions = dimensionsInput;\n    }\n    dimensions = dimensions || ['x', 'y'];\n    var dimensionInfos = {};\n    var dimensionNames = [];\n    var invertedIndicesMap = {};\n    var needsHasOwn = false;\n    var emptyObj = {};\n    for (var i = 0; i < dimensions.length; i++) {\n      // Use the original dimensions[i], where other flag props may exists.\n      var dimInfoInput = dimensions[i];\n      var dimensionInfo = zrUtil.isString(dimInfoInput) ? new SeriesDimensionDefine({\n        name: dimInfoInput\n      }) : !(dimInfoInput instanceof SeriesDimensionDefine) ? new SeriesDimensionDefine(dimInfoInput) : dimInfoInput;\n      var dimensionName = dimensionInfo.name;\n      dimensionInfo.type = dimensionInfo.type || 'float';\n      if (!dimensionInfo.coordDim) {\n        dimensionInfo.coordDim = dimensionName;\n        dimensionInfo.coordDimIndex = 0;\n      }\n      var otherDims = dimensionInfo.otherDims = dimensionInfo.otherDims || {};\n      dimensionNames.push(dimensionName);\n      dimensionInfos[dimensionName] = dimensionInfo;\n      if (emptyObj[dimensionName] != null) {\n        needsHasOwn = true;\n      }\n      if (dimensionInfo.createInvertedIndices) {\n        invertedIndicesMap[dimensionName] = [];\n      }\n      if (otherDims.itemName === 0) {\n        this._nameDimIdx = i;\n      }\n      if (otherDims.itemId === 0) {\n        this._idDimIdx = i;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.assert(assignStoreDimIdx || dimensionInfo.storeDimIndex >= 0);\n      }\n      if (assignStoreDimIdx) {\n        dimensionInfo.storeDimIndex = i;\n      }\n    }\n    this.dimensions = dimensionNames;\n    this._dimInfos = dimensionInfos;\n    this._initGetDimensionInfo(needsHasOwn);\n    this.hostModel = hostModel;\n    this._invertedIndicesMap = invertedIndicesMap;\n    if (this._dimOmitted) {\n      var dimIdxToName_1 = this._dimIdxToName = zrUtil.createHashMap();\n      zrUtil.each(dimensionNames, function (dimName) {\n        dimIdxToName_1.set(dimensionInfos[dimName].storeDimIndex, dimName);\n      });\n    }\n  }\n  /**\n   *\n   * Get concrete dimension name by dimension name or dimension index.\n   * If input a dimension name, do not validate whether the dimension name exits.\n   *\n   * @caution\n   * @param dim Must make sure the dimension is `SeriesDimensionLoose`.\n   * Because only those dimensions will have auto-generated dimension names if not\n   * have a user-specified name, and other dimensions will get a return of null/undefined.\n   *\n   * @notice Because of this reason, should better use `getDimensionIndex` instead, for examples:\n   * ```js\n   * const val = data.getStore().get(data.getDimensionIndex(dim), dataIdx);\n   * ```\n   *\n   * @return Concrete dim name.\n   */\n  SeriesData.prototype.getDimension = function (dim) {\n    var dimIdx = this._recognizeDimIndex(dim);\n    if (dimIdx == null) {\n      return dim;\n    }\n    dimIdx = dim;\n    if (!this._dimOmitted) {\n      return this.dimensions[dimIdx];\n    }\n    // Retrieve from series dimension definition because it probably contains\n    // generated dimension name (like 'x', 'y').\n    var dimName = this._dimIdxToName.get(dimIdx);\n    if (dimName != null) {\n      return dimName;\n    }\n    var sourceDimDef = this._schema.getSourceDimension(dimIdx);\n    if (sourceDimDef) {\n      return sourceDimDef.name;\n    }\n  };\n  /**\n   * Get dimension index in data store. Return -1 if not found.\n   * Can be used to index value from getRawValue.\n   */\n  SeriesData.prototype.getDimensionIndex = function (dim) {\n    var dimIdx = this._recognizeDimIndex(dim);\n    if (dimIdx != null) {\n      return dimIdx;\n    }\n    if (dim == null) {\n      return -1;\n    }\n    var dimInfo = this._getDimInfo(dim);\n    return dimInfo ? dimInfo.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(dim) : -1;\n  };\n  /**\n   * The meanings of the input parameter `dim`:\n   *\n   * + If dim is a number (e.g., `1`), it means the index of the dimension.\n   *   For example, `getDimension(0)` will return 'x' or 'lng' or 'radius'.\n   * + If dim is a number-like string (e.g., `\"1\"`):\n   *     + If there is the same concrete dim name defined in `series.dimensions` or `dataset.dimensions`,\n   *        it means that concrete name.\n   *     + If not, it will be converted to a number, which means the index of the dimension.\n   *        (why? because of the backward compatibility. We have been tolerating number-like string in\n   *        dimension setting, although now it seems that it is not a good idea.)\n   *     For example, `visualMap[i].dimension: \"1\"` is the same meaning as `visualMap[i].dimension: 1`,\n   *     if no dimension name is defined as `\"1\"`.\n   * + If dim is a not-number-like string, it means the concrete dim name.\n   *   For example, it can be be default name `\"x\"`, `\"y\"`, `\"z\"`, `\"lng\"`, `\"lat\"`, `\"angle\"`, `\"radius\"`,\n   *   or customized in `dimensions` property of option like `\"age\"`.\n   *\n   * @return recognized `DimensionIndex`. Otherwise return null/undefined (means that dim is `DimensionName`).\n   */\n  SeriesData.prototype._recognizeDimIndex = function (dim) {\n    if (zrUtil.isNumber(dim)\n    // If being a number-like string but not being defined as a dimension name.\n    || dim != null && !isNaN(dim) && !this._getDimInfo(dim) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(dim) < 0)) {\n      return +dim;\n    }\n  };\n  SeriesData.prototype._getStoreDimIndex = function (dim) {\n    var dimIdx = this.getDimensionIndex(dim);\n    if (process.env.NODE_ENV !== 'production') {\n      if (dimIdx == null) {\n        throw new Error('Unknown dimension ' + dim);\n      }\n    }\n    return dimIdx;\n  };\n  /**\n   * Get type and calculation info of particular dimension\n   * @param dim\n   *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n   *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n   */\n  SeriesData.prototype.getDimensionInfo = function (dim) {\n    // Do not clone, because there may be categories in dimInfo.\n    return this._getDimInfo(this.getDimension(dim));\n  };\n  SeriesData.prototype._initGetDimensionInfo = function (needsHasOwn) {\n    var dimensionInfos = this._dimInfos;\n    this._getDimInfo = needsHasOwn ? function (dimName) {\n      return dimensionInfos.hasOwnProperty(dimName) ? dimensionInfos[dimName] : undefined;\n    } : function (dimName) {\n      return dimensionInfos[dimName];\n    };\n  };\n  /**\n   * concrete dimension name list on coord.\n   */\n  SeriesData.prototype.getDimensionsOnCoord = function () {\n    return this._dimSummary.dataDimsOnCoord.slice();\n  };\n  SeriesData.prototype.mapDimension = function (coordDim, idx) {\n    var dimensionsSummary = this._dimSummary;\n    if (idx == null) {\n      return dimensionsSummary.encodeFirstDimNotExtra[coordDim];\n    }\n    var dims = dimensionsSummary.encode[coordDim];\n    return dims ? dims[idx] : null;\n  };\n  SeriesData.prototype.mapDimensionsAll = function (coordDim) {\n    var dimensionsSummary = this._dimSummary;\n    var dims = dimensionsSummary.encode[coordDim];\n    return (dims || []).slice();\n  };\n  SeriesData.prototype.getStore = function () {\n    return this._store;\n  };\n  /**\n   * Initialize from data\n   * @param data source or data or data store.\n   * @param nameList The name of a datum is used on data diff and\n   *        default label/tooltip.\n   *        A name can be specified in encode.itemName,\n   *        or dataItem.name (only for series option data),\n   *        or provided in nameList from outside.\n   */\n  SeriesData.prototype.initData = function (data, nameList, dimValueGetter) {\n    var _this = this;\n    var store;\n    if (data instanceof DataStore) {\n      store = data;\n    }\n    if (!store) {\n      var dimensions = this.dimensions;\n      var provider = isSourceInstance(data) || zrUtil.isArrayLike(data) ? new DefaultDataProvider(data, dimensions.length) : data;\n      store = new DataStore();\n      var dimensionInfos = map(dimensions, function (dimName) {\n        return {\n          type: _this._dimInfos[dimName].type,\n          property: dimName\n        };\n      });\n      store.initData(provider, dimensionInfos, dimValueGetter);\n    }\n    this._store = store;\n    // Reset\n    this._nameList = (nameList || []).slice();\n    this._idList = [];\n    this._nameRepeatCount = {};\n    this._doInit(0, store.count());\n    // Cache summary info for fast visit. See \"dimensionHelper\".\n    // Needs to be initialized after store is prepared.\n    this._dimSummary = summarizeDimensions(this, this._schema);\n    this.userOutput = this._dimSummary.userOutput;\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   */\n  SeriesData.prototype.appendData = function (data) {\n    var range = this._store.appendData(data);\n    this._doInit(range[0], range[1]);\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   * This method does not modify `rawData` (`dataProvider`), but only\n   * add values to store.\n   *\n   * The final count will be increased by `Math.max(values.length, names.length)`.\n   *\n   * @param values That is the SourceType: 'arrayRows', like\n   *        [\n   *            [12, 33, 44],\n   *            [NaN, 43, 1],\n   *            ['-', 'asdf', 0]\n   *        ]\n   *        Each item is exactly corresponding to a dimension.\n   */\n  SeriesData.prototype.appendValues = function (values, names) {\n    var _a = this._store.appendValues(values, names.length),\n      start = _a.start,\n      end = _a.end;\n    var shouldMakeIdFromName = this._shouldMakeIdFromName();\n    this._updateOrdinalMeta();\n    if (names) {\n      for (var idx = start; idx < end; idx++) {\n        var sourceIdx = idx - start;\n        this._nameList[idx] = names[sourceIdx];\n        if (shouldMakeIdFromName) {\n          makeIdFromName(this, idx);\n        }\n      }\n    }\n  };\n  SeriesData.prototype._updateOrdinalMeta = function () {\n    var store = this._store;\n    var dimensions = this.dimensions;\n    for (var i = 0; i < dimensions.length; i++) {\n      var dimInfo = this._dimInfos[dimensions[i]];\n      if (dimInfo.ordinalMeta) {\n        store.collectOrdinalMeta(dimInfo.storeDimIndex, dimInfo.ordinalMeta);\n      }\n    }\n  };\n  SeriesData.prototype._shouldMakeIdFromName = function () {\n    var provider = this._store.getProvider();\n    return this._idDimIdx == null && provider.getSource().sourceFormat !== SOURCE_FORMAT_TYPED_ARRAY && !provider.fillStorage;\n  };\n  SeriesData.prototype._doInit = function (start, end) {\n    if (start >= end) {\n      return;\n    }\n    var store = this._store;\n    var provider = store.getProvider();\n    this._updateOrdinalMeta();\n    var nameList = this._nameList;\n    var idList = this._idList;\n    var sourceFormat = provider.getSource().sourceFormat;\n    var isFormatOriginal = sourceFormat === SOURCE_FORMAT_ORIGINAL;\n    // Each data item is value\n    // [1, 2]\n    // 2\n    // Bar chart, line chart which uses category axis\n    // only gives the 'y' value. 'x' value is the indices of category\n    // Use a tempValue to normalize the value to be a (x, y) value\n    // If dataItem is {name: ...} or {id: ...}, it has highest priority.\n    // This kind of ids and names are always stored `_nameList` and `_idList`.\n    if (isFormatOriginal && !provider.pure) {\n      var sharedDataItem = [];\n      for (var idx = start; idx < end; idx++) {\n        // NOTICE: Try not to write things into dataItem\n        var dataItem = provider.getItem(idx, sharedDataItem);\n        if (!this.hasItemOption && isDataItemOption(dataItem)) {\n          this.hasItemOption = true;\n        }\n        if (dataItem) {\n          var itemName = dataItem.name;\n          if (nameList[idx] == null && itemName != null) {\n            nameList[idx] = convertOptionIdName(itemName, null);\n          }\n          var itemId = dataItem.id;\n          if (idList[idx] == null && itemId != null) {\n            idList[idx] = convertOptionIdName(itemId, null);\n          }\n        }\n      }\n    }\n    if (this._shouldMakeIdFromName()) {\n      for (var idx = start; idx < end; idx++) {\n        makeIdFromName(this, idx);\n      }\n    }\n    prepareInvertedIndex(this);\n  };\n  /**\n   * PENDING: In fact currently this function is only used to short-circuit\n   * the calling of `scale.unionExtentFromData` when data have been filtered by modules\n   * like \"dataZoom\". `scale.unionExtentFromData` is used to calculate data extent for series on\n   * an axis, but if a \"axis related data filter module\" is used, the extent of the axis have\n   * been fixed and no need to calling `scale.unionExtentFromData` actually.\n   * But if we add \"custom data filter\" in future, which is not \"axis related\", this method may\n   * be still needed.\n   *\n   * Optimize for the scenario that data is filtered by a given extent.\n   * Consider that if data amount is more than hundreds of thousand,\n   * extent calculation will cost more than 10ms and the cache will\n   * be erased because of the filtering.\n   */\n  SeriesData.prototype.getApproximateExtent = function (dim) {\n    return this._approximateExtent[dim] || this._store.getDataExtent(this._getStoreDimIndex(dim));\n  };\n  /**\n   * Calculate extent on a filtered data might be time consuming.\n   * Approximate extent is only used for: calculate extent of filtered data outside.\n   */\n  SeriesData.prototype.setApproximateExtent = function (extent, dim) {\n    dim = this.getDimension(dim);\n    this._approximateExtent[dim] = extent.slice();\n  };\n  SeriesData.prototype.getCalculationInfo = function (key) {\n    return this._calculationInfo[key];\n  };\n  SeriesData.prototype.setCalculationInfo = function (key, value) {\n    isObject(key) ? zrUtil.extend(this._calculationInfo, key) : this._calculationInfo[key] = value;\n  };\n  /**\n   * @return Never be null/undefined. `number` will be converted to string. Because:\n   * In most cases, name is used in display, where returning a string is more convenient.\n   * In other cases, name is used in query (see `indexOfName`), where we can keep the\n   * rule that name `2` equals to name `'2'`.\n   */\n  SeriesData.prototype.getName = function (idx) {\n    var rawIndex = this.getRawIndex(idx);\n    var name = this._nameList[rawIndex];\n    if (name == null && this._nameDimIdx != null) {\n      name = getIdNameFromStore(this, this._nameDimIdx, rawIndex);\n    }\n    if (name == null) {\n      name = '';\n    }\n    return name;\n  };\n  SeriesData.prototype._getCategory = function (dimIdx, idx) {\n    var ordinal = this._store.get(dimIdx, idx);\n    var ordinalMeta = this._store.getOrdinalMeta(dimIdx);\n    if (ordinalMeta) {\n      return ordinalMeta.categories[ordinal];\n    }\n    return ordinal;\n  };\n  /**\n   * @return Never null/undefined. `number` will be converted to string. Because:\n   * In all cases having encountered at present, id is used in making diff comparison, which\n   * are usually based on hash map. We can keep the rule that the internal id are always string\n   * (treat `2` is the same as `'2'`) to make the related logic simple.\n   */\n  SeriesData.prototype.getId = function (idx) {\n    return getId(this, this.getRawIndex(idx));\n  };\n  SeriesData.prototype.count = function () {\n    return this._store.count();\n  };\n  /**\n   * Get value. Return NaN if idx is out of range.\n   *\n   * @notice Should better to use `data.getStore().get(dimIndex, dataIdx)` instead.\n   */\n  SeriesData.prototype.get = function (dim, idx) {\n    var store = this._store;\n    var dimInfo = this._dimInfos[dim];\n    if (dimInfo) {\n      return store.get(dimInfo.storeDimIndex, idx);\n    }\n  };\n  /**\n   * @notice Should better to use `data.getStore().getByRawIndex(dimIndex, dataIdx)` instead.\n   */\n  SeriesData.prototype.getByRawIndex = function (dim, rawIdx) {\n    var store = this._store;\n    var dimInfo = this._dimInfos[dim];\n    if (dimInfo) {\n      return store.getByRawIndex(dimInfo.storeDimIndex, rawIdx);\n    }\n  };\n  SeriesData.prototype.getIndices = function () {\n    return this._store.getIndices();\n  };\n  SeriesData.prototype.getDataExtent = function (dim) {\n    return this._store.getDataExtent(this._getStoreDimIndex(dim));\n  };\n  SeriesData.prototype.getSum = function (dim) {\n    return this._store.getSum(this._getStoreDimIndex(dim));\n  };\n  SeriesData.prototype.getMedian = function (dim) {\n    return this._store.getMedian(this._getStoreDimIndex(dim));\n  };\n  SeriesData.prototype.getValues = function (dimensions, idx) {\n    var _this = this;\n    var store = this._store;\n    return zrUtil.isArray(dimensions) ? store.getValues(map(dimensions, function (dim) {\n      return _this._getStoreDimIndex(dim);\n    }), idx) : store.getValues(dimensions);\n  };\n  /**\n   * If value is NaN. Including '-'\n   * Only check the coord dimensions.\n   */\n  SeriesData.prototype.hasValue = function (idx) {\n    var dataDimIndicesOnCoord = this._dimSummary.dataDimIndicesOnCoord;\n    for (var i = 0, len = dataDimIndicesOnCoord.length; i < len; i++) {\n      // Ordinal type originally can be string or number.\n      // But when an ordinal type is used on coord, it can\n      // not be string but only number. So we can also use isNaN.\n      if (isNaN(this._store.get(dataDimIndicesOnCoord[i], idx))) {\n        return false;\n      }\n    }\n    return true;\n  };\n  /**\n   * Retrieve the index with given name\n   */\n  SeriesData.prototype.indexOfName = function (name) {\n    for (var i = 0, len = this._store.count(); i < len; i++) {\n      if (this.getName(i) === name) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  SeriesData.prototype.getRawIndex = function (idx) {\n    return this._store.getRawIndex(idx);\n  };\n  SeriesData.prototype.indexOfRawIndex = function (rawIndex) {\n    return this._store.indexOfRawIndex(rawIndex);\n  };\n  /**\n   * Only support the dimension which inverted index created.\n   * Do not support other cases until required.\n   * @param dim concrete dim\n   * @param value ordinal index\n   * @return rawIndex\n   */\n  SeriesData.prototype.rawIndexOf = function (dim, value) {\n    var invertedIndices = dim && this._invertedIndicesMap[dim];\n    if (process.env.NODE_ENV !== 'production') {\n      if (!invertedIndices) {\n        throw new Error('Do not supported yet');\n      }\n    }\n    var rawIndex = invertedIndices[value];\n    if (rawIndex == null || isNaN(rawIndex)) {\n      return INDEX_NOT_FOUND;\n    }\n    return rawIndex;\n  };\n  /**\n   * Retrieve the index of nearest value\n   * @param dim\n   * @param value\n   * @param [maxDistance=Infinity]\n   * @return If and only if multiple indices has\n   *         the same value, they are put to the result.\n   */\n  SeriesData.prototype.indicesOfNearest = function (dim, value, maxDistance) {\n    return this._store.indicesOfNearest(this._getStoreDimIndex(dim), value, maxDistance);\n  };\n  SeriesData.prototype.each = function (dims, cb, ctx) {\n    'use strict';\n\n    if (zrUtil.isFunction(dims)) {\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    }\n    // ctxCompat just for compat echarts3\n    var fCtx = ctx || this;\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);\n    this._store.each(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n  };\n  SeriesData.prototype.filterSelf = function (dims, cb, ctx) {\n    'use strict';\n\n    if (zrUtil.isFunction(dims)) {\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    }\n    // ctxCompat just for compat echarts3\n    var fCtx = ctx || this;\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);\n    this._store = this._store.filter(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n    return this;\n  };\n  /**\n   * Select data in range. (For optimization of filter)\n   * (Manually inline code, support 5 million data filtering in data zoom.)\n   */\n  SeriesData.prototype.selectRange = function (range) {\n    'use strict';\n\n    var _this = this;\n    var innerRange = {};\n    var dims = zrUtil.keys(range);\n    var dimIndices = [];\n    zrUtil.each(dims, function (dim) {\n      var dimIdx = _this._getStoreDimIndex(dim);\n      innerRange[dimIdx] = range[dim];\n      dimIndices.push(dimIdx);\n    });\n    this._store = this._store.selectRange(innerRange);\n    return this;\n  };\n  /* eslint-enable max-len */\n  SeriesData.prototype.mapArray = function (dims, cb, ctx) {\n    'use strict';\n\n    if (zrUtil.isFunction(dims)) {\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    }\n    // ctxCompat just for compat echarts3\n    ctx = ctx || this;\n    var result = [];\n    this.each(dims, function () {\n      result.push(cb && cb.apply(this, arguments));\n    }, ctx);\n    return result;\n  };\n  SeriesData.prototype.map = function (dims, cb, ctx, ctxCompat) {\n    'use strict';\n\n    // ctxCompat just for compat echarts3\n    var fCtx = ctx || ctxCompat || this;\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);\n    var list = cloneListForMapAndSample(this);\n    list._store = this._store.map(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n    return list;\n  };\n  SeriesData.prototype.modify = function (dims, cb, ctx, ctxCompat) {\n    var _this = this;\n    // ctxCompat just for compat echarts3\n    var fCtx = ctx || ctxCompat || this;\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.each(normalizeDimensions(dims), function (dim) {\n        var dimInfo = _this.getDimensionInfo(dim);\n        if (!dimInfo.isCalculationCoord) {\n          console.error('Danger: only stack dimension can be modified');\n        }\n      });\n    }\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);\n    // If do shallow clone here, if there are too many stacked series,\n    // it still cost lots of memory, because `_store.dimensions` are not shared.\n    // We should consider there probably be shallow clone happen in each series\n    // in consequent filter/map.\n    this._store.modify(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n  };\n  /**\n   * Large data down sampling on given dimension\n   * @param sampleIndex Sample index for name and id\n   */\n  SeriesData.prototype.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n    var list = cloneListForMapAndSample(this);\n    list._store = this._store.downSample(this._getStoreDimIndex(dimension), rate, sampleValue, sampleIndex);\n    return list;\n  };\n  /**\n   * Large data down sampling using largest-triangle-three-buckets\n   * @param {string} valueDimension\n   * @param {number} targetCount\n   */\n  SeriesData.prototype.lttbDownSample = function (valueDimension, rate) {\n    var list = cloneListForMapAndSample(this);\n    list._store = this._store.lttbDownSample(this._getStoreDimIndex(valueDimension), rate);\n    return list;\n  };\n  SeriesData.prototype.getRawDataItem = function (idx) {\n    return this._store.getRawDataItem(idx);\n  };\n  /**\n   * Get model of one data item.\n   */\n  // TODO: Type of data item\n  SeriesData.prototype.getItemModel = function (idx) {\n    var hostModel = this.hostModel;\n    var dataItem = this.getRawDataItem(idx);\n    return new Model(dataItem, hostModel, hostModel && hostModel.ecModel);\n  };\n  /**\n   * Create a data differ\n   */\n  SeriesData.prototype.diff = function (otherList) {\n    var thisList = this;\n    return new DataDiffer(otherList ? otherList.getStore().getIndices() : [], this.getStore().getIndices(), function (idx) {\n      return getId(otherList, idx);\n    }, function (idx) {\n      return getId(thisList, idx);\n    });\n  };\n  /**\n   * Get visual property.\n   */\n  SeriesData.prototype.getVisual = function (key) {\n    var visual = this._visual;\n    return visual && visual[key];\n  };\n  SeriesData.prototype.setVisual = function (kvObj, val) {\n    this._visual = this._visual || {};\n    if (isObject(kvObj)) {\n      zrUtil.extend(this._visual, kvObj);\n    } else {\n      this._visual[kvObj] = val;\n    }\n  };\n  /**\n   * Get visual property of single data item\n   */\n  // eslint-disable-next-line\n  SeriesData.prototype.getItemVisual = function (idx, key) {\n    var itemVisual = this._itemVisuals[idx];\n    var val = itemVisual && itemVisual[key];\n    if (val == null) {\n      // Use global visual property\n      return this.getVisual(key);\n    }\n    return val;\n  };\n  /**\n   * If exists visual property of single data item\n   */\n  SeriesData.prototype.hasItemVisual = function () {\n    return this._itemVisuals.length > 0;\n  };\n  /**\n   * Make sure itemVisual property is unique\n   */\n  // TODO: use key to save visual to reduce memory.\n  SeriesData.prototype.ensureUniqueItemVisual = function (idx, key) {\n    var itemVisuals = this._itemVisuals;\n    var itemVisual = itemVisuals[idx];\n    if (!itemVisual) {\n      itemVisual = itemVisuals[idx] = {};\n    }\n    var val = itemVisual[key];\n    if (val == null) {\n      val = this.getVisual(key);\n      // TODO Performance?\n      if (zrUtil.isArray(val)) {\n        val = val.slice();\n      } else if (isObject(val)) {\n        val = zrUtil.extend({}, val);\n      }\n      itemVisual[key] = val;\n    }\n    return val;\n  };\n  // eslint-disable-next-line\n  SeriesData.prototype.setItemVisual = function (idx, key, value) {\n    var itemVisual = this._itemVisuals[idx] || {};\n    this._itemVisuals[idx] = itemVisual;\n    if (isObject(key)) {\n      zrUtil.extend(itemVisual, key);\n    } else {\n      itemVisual[key] = value;\n    }\n  };\n  /**\n   * Clear itemVisuals and list visual.\n   */\n  SeriesData.prototype.clearAllVisual = function () {\n    this._visual = {};\n    this._itemVisuals = [];\n  };\n  SeriesData.prototype.setLayout = function (key, val) {\n    isObject(key) ? zrUtil.extend(this._layout, key) : this._layout[key] = val;\n  };\n  /**\n   * Get layout property.\n   */\n  SeriesData.prototype.getLayout = function (key) {\n    return this._layout[key];\n  };\n  /**\n   * Get layout of single data item\n   */\n  SeriesData.prototype.getItemLayout = function (idx) {\n    return this._itemLayouts[idx];\n  };\n  /**\n   * Set layout of single data item\n   */\n  SeriesData.prototype.setItemLayout = function (idx, layout, merge) {\n    this._itemLayouts[idx] = merge ? zrUtil.extend(this._itemLayouts[idx] || {}, layout) : layout;\n  };\n  /**\n   * Clear all layout of single data item\n   */\n  SeriesData.prototype.clearItemLayouts = function () {\n    this._itemLayouts.length = 0;\n  };\n  /**\n   * Set graphic element relative to data. It can be set as null\n   */\n  SeriesData.prototype.setItemGraphicEl = function (idx, el) {\n    var seriesIndex = this.hostModel && this.hostModel.seriesIndex;\n    setCommonECData(seriesIndex, this.dataType, idx, el);\n    this._graphicEls[idx] = el;\n  };\n  SeriesData.prototype.getItemGraphicEl = function (idx) {\n    return this._graphicEls[idx];\n  };\n  SeriesData.prototype.eachItemGraphicEl = function (cb, context) {\n    zrUtil.each(this._graphicEls, function (el, idx) {\n      if (el) {\n        cb && cb.call(context, el, idx);\n      }\n    });\n  };\n  /**\n   * Shallow clone a new list except visual and layout properties, and graph elements.\n   * New list only change the indices.\n   */\n  SeriesData.prototype.cloneShallow = function (list) {\n    if (!list) {\n      list = new SeriesData(this._schema ? this._schema : map(this.dimensions, this._getDimInfo, this), this.hostModel);\n    }\n    transferProperties(list, this);\n    list._store = this._store;\n    return list;\n  };\n  /**\n   * Wrap some method to add more feature\n   */\n  SeriesData.prototype.wrapMethod = function (methodName, injectFunction) {\n    var originalMethod = this[methodName];\n    if (!zrUtil.isFunction(originalMethod)) {\n      return;\n    }\n    this.__wrappedMethods = this.__wrappedMethods || [];\n    this.__wrappedMethods.push(methodName);\n    this[methodName] = function () {\n      var res = originalMethod.apply(this, arguments);\n      return injectFunction.apply(this, [res].concat(zrUtil.slice(arguments)));\n    };\n  };\n  // ----------------------------------------------------------\n  // A work around for internal method visiting private member.\n  // ----------------------------------------------------------\n  SeriesData.internalField = function () {\n    prepareInvertedIndex = function (data) {\n      var invertedIndicesMap = data._invertedIndicesMap;\n      zrUtil.each(invertedIndicesMap, function (invertedIndices, dim) {\n        var dimInfo = data._dimInfos[dim];\n        // Currently, only dimensions that has ordinalMeta can create inverted indices.\n        var ordinalMeta = dimInfo.ordinalMeta;\n        var store = data._store;\n        if (ordinalMeta) {\n          invertedIndices = invertedIndicesMap[dim] = new CtorInt32Array(ordinalMeta.categories.length);\n          // The default value of TypedArray is 0. To avoid miss\n          // mapping to 0, we should set it as INDEX_NOT_FOUND.\n          for (var i = 0; i < invertedIndices.length; i++) {\n            invertedIndices[i] = INDEX_NOT_FOUND;\n          }\n          for (var i = 0; i < store.count(); i++) {\n            // Only support the case that all values are distinct.\n            invertedIndices[store.get(dimInfo.storeDimIndex, i)] = i;\n          }\n        }\n      });\n    };\n    getIdNameFromStore = function (data, dimIdx, idx) {\n      return convertOptionIdName(data._getCategory(dimIdx, idx), null);\n    };\n    /**\n     * @see the comment of `List['getId']`.\n     */\n    getId = function (data, rawIndex) {\n      var id = data._idList[rawIndex];\n      if (id == null && data._idDimIdx != null) {\n        id = getIdNameFromStore(data, data._idDimIdx, rawIndex);\n      }\n      if (id == null) {\n        id = ID_PREFIX + rawIndex;\n      }\n      return id;\n    };\n    normalizeDimensions = function (dimensions) {\n      if (!zrUtil.isArray(dimensions)) {\n        dimensions = dimensions != null ? [dimensions] : [];\n      }\n      return dimensions;\n    };\n    /**\n     * Data in excludeDimensions is copied, otherwise transferred.\n     */\n    cloneListForMapAndSample = function (original) {\n      var list = new SeriesData(original._schema ? original._schema : map(original.dimensions, original._getDimInfo, original), original.hostModel);\n      // FIXME If needs stackedOn, value may already been stacked\n      transferProperties(list, original);\n      return list;\n    };\n    transferProperties = function (target, source) {\n      zrUtil.each(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods || []), function (propName) {\n        if (source.hasOwnProperty(propName)) {\n          target[propName] = source[propName];\n        }\n      });\n      target.__wrappedMethods = source.__wrappedMethods;\n      zrUtil.each(CLONE_PROPERTIES, function (propName) {\n        target[propName] = zrUtil.clone(source[propName]);\n      });\n      target._calculationInfo = zrUtil.extend({}, source._calculationInfo);\n    };\n    makeIdFromName = function (data, idx) {\n      var nameList = data._nameList;\n      var idList = data._idList;\n      var nameDimIdx = data._nameDimIdx;\n      var idDimIdx = data._idDimIdx;\n      var name = nameList[idx];\n      var id = idList[idx];\n      if (name == null && nameDimIdx != null) {\n        nameList[idx] = name = getIdNameFromStore(data, nameDimIdx, idx);\n      }\n      if (id == null && idDimIdx != null) {\n        idList[idx] = id = getIdNameFromStore(data, idDimIdx, idx);\n      }\n      if (id == null && name != null) {\n        var nameRepeatCount = data._nameRepeatCount;\n        var nmCnt = nameRepeatCount[name] = (nameRepeatCount[name] || 0) + 1;\n        id = name;\n        if (nmCnt > 1) {\n          id += '__ec__' + nmCnt;\n        }\n        idList[idx] = id;\n      }\n    };\n  }();\n  return SeriesData;\n}();\nexport default SeriesData;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar SeriesDimensionDefine = /** @class */function () {\n  /**\n   * @param opt All of the fields will be shallow copied.\n   */\n  function SeriesDimensionDefine(opt) {\n    /**\n     * The format of `otherDims` is:\n     * ```js\n     * {\n     *     tooltip?: number\n     *     label?: number\n     *     itemName?: number\n     *     seriesName?: number\n     * }\n     * ```\n     *\n     * A `series.encode` can specified these fields:\n     * ```js\n     * encode: {\n     *     // \"3, 1, 5\" is the index of data dimension.\n     *     tooltip: [3, 1, 5],\n     *     label: [0, 3],\n     *     ...\n     * }\n     * ```\n     * `otherDims` is the parse result of the `series.encode` above, like:\n     * ```js\n     * // Suppose the index of this data dimension is `3`.\n     * this.otherDims = {\n     *     // `3` is at the index `0` of the `encode.tooltip`\n     *     tooltip: 0,\n     *     // `3` is at the index `1` of the `encode.label`\n     *     label: 1\n     * };\n     * ```\n     *\n     * This prop should never be `null`/`undefined` after initialized.\n     */\n    this.otherDims = {};\n    if (opt != null) {\n      zrUtil.extend(this, opt);\n    }\n  }\n  return SeriesDimensionDefine;\n}();\n;\nexport default SeriesDimensionDefine;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, createHashMap, assert, map } from 'zrender/lib/core/util.js';\nimport { VISUAL_DIMENSIONS } from '../../util/types.js';\nvar DimensionUserOuput = /** @class */function () {\n  function DimensionUserOuput(encode, dimRequest) {\n    this._encode = encode;\n    this._schema = dimRequest;\n  }\n  DimensionUserOuput.prototype.get = function () {\n    return {\n      // Do not generate full dimension name until fist used.\n      fullDimensions: this._getFullDimensionNames(),\n      encode: this._encode\n    };\n  };\n  /**\n   * Get all data store dimension names.\n   * Theoretically a series data store is defined both by series and used dataset (if any).\n   * If some dimensions are omitted for performance reason in `this.dimensions`,\n   * the dimension name may not be auto-generated if user does not specify a dimension name.\n   * In this case, the dimension name is `null`/`undefined`.\n   */\n  DimensionUserOuput.prototype._getFullDimensionNames = function () {\n    if (!this._cachedDimNames) {\n      this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : [];\n    }\n    return this._cachedDimNames;\n  };\n  return DimensionUserOuput;\n}();\n;\nexport function summarizeDimensions(data, schema) {\n  var summary = {};\n  var encode = summary.encode = {};\n  var notExtraCoordDimMap = createHashMap();\n  var defaultedLabel = [];\n  var defaultedTooltip = [];\n  var userOutputEncode = {};\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var coordDim = dimItem.coordDim;\n    if (coordDim) {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(VISUAL_DIMENSIONS.get(coordDim) == null);\n      }\n      var coordDimIndex = dimItem.coordDimIndex;\n      getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n      if (!dimItem.isExtraCoord) {\n        notExtraCoordDimMap.set(coordDim, 1);\n        // Use the last coord dim (and label friendly) as default label,\n        // because when dataset is used, it is hard to guess which dimension\n        // can be value dimension. If both show x, y on label is not look good,\n        // and conventionally y axis is focused more.\n        if (mayLabelDimType(dimItem.type)) {\n          defaultedLabel[0] = dimName;\n        }\n        // User output encode do not contain generated coords.\n        // And it only has index. User can use index to retrieve value from the raw item array.\n        getOrCreateEncodeArr(userOutputEncode, coordDim)[coordDimIndex] = data.getDimensionIndex(dimItem.name);\n      }\n      if (dimItem.defaultTooltip) {\n        defaultedTooltip.push(dimName);\n      }\n    }\n    VISUAL_DIMENSIONS.each(function (v, otherDim) {\n      var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n      var dimIndex = dimItem.otherDims[otherDim];\n      if (dimIndex != null && dimIndex !== false) {\n        encodeArr[dimIndex] = dimItem.name;\n      }\n    });\n  });\n  var dataDimsOnCoord = [];\n  var encodeFirstDimNotExtra = {};\n  notExtraCoordDimMap.each(function (v, coordDim) {\n    var dimArr = encode[coordDim];\n    encodeFirstDimNotExtra[coordDim] = dimArr[0];\n    // Not necessary to remove duplicate, because a data\n    // dim canot on more than one coordDim.\n    dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n  });\n  summary.dataDimsOnCoord = dataDimsOnCoord;\n  summary.dataDimIndicesOnCoord = map(dataDimsOnCoord, function (dimName) {\n    return data.getDimensionInfo(dimName).storeDimIndex;\n  });\n  summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n  var encodeLabel = encode.label;\n  // FIXME `encode.label` is not recommended, because formatter cannot be set\n  // in this way. Use label.formatter instead. Maybe remove this approach someday.\n  if (encodeLabel && encodeLabel.length) {\n    defaultedLabel = encodeLabel.slice();\n  }\n  var encodeTooltip = encode.tooltip;\n  if (encodeTooltip && encodeTooltip.length) {\n    defaultedTooltip = encodeTooltip.slice();\n  } else if (!defaultedTooltip.length) {\n    defaultedTooltip = defaultedLabel.slice();\n  }\n  encode.defaultedLabel = defaultedLabel;\n  encode.defaultedTooltip = defaultedTooltip;\n  summary.userOutput = new DimensionUserOuput(userOutputEncode, schema);\n  return summary;\n}\nfunction getOrCreateEncodeArr(encode, dim) {\n  if (!encode.hasOwnProperty(dim)) {\n    encode[dim] = [];\n  }\n  return encode[dim];\n}\n// FIXME:TS should be type `AxisType`\nexport function getDimensionTypeByAxis(axisType) {\n  return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n}\nfunction mayLabelDimType(dimType) {\n  // In most cases, ordinal and time do not suitable for label.\n  // Ordinal info can be displayed on axis. Time is too long.\n  return !(dimType === 'ordinal' || dimType === 'time');\n}\n// function findTheLastDimMayLabel(data) {\n//     // Get last value dim\n//     let dimensions = data.dimensions.slice();\n//     let valueType;\n//     let valueDim;\n//     while (dimensions.length && (\n//         valueDim = dimensions.pop(),\n//         valueType = data.getDimensionInfo(valueDim).type,\n//         valueType === 'ordinal' || valueType === 'time'\n//     )) {} // jshint ignore:line\n//     return valueDim;\n// }","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, hasOwn } from 'zrender/lib/core/util.js';\nvar deprecatedLogs = {};\n/**\n * Whether need to call `convertEC4CompatibleStyle`.\n */\nexport function isEC4CompatibleStyle(style, elType, hasOwnTextContentOption, hasOwnTextConfig) {\n  // Since echarts5, `RectText` is separated from its host element and style.text\n  // does not exist any more. The compat work brings some extra burden on performance.\n  // So we provide:\n  // `legacy: true` force make compat.\n  // `legacy: false`, force do not compat.\n  // `legacy` not set: auto detect whether legacy.\n  //     But in this case we do not compat (difficult to detect and rare case):\n  //     Becuse custom series and graphic component support \"merge\", users may firstly\n  //     only set `textStrokeWidth` style or secondly only set `text`.\n  return style && (style.legacy || style.legacy !== false && !hasOwnTextContentOption && !hasOwnTextConfig && elType !== 'tspan'\n  // Difficult to detect whether legacy for a \"text\" el.\n  && (elType === 'text' || hasOwn(style, 'text')));\n}\n/**\n * `EC4CompatibleStyle` is style that might be in echarts4 format or echarts5 format.\n * @param hostStyle The properties might be modified.\n * @return If be text el, `textContentStyle` and `textConfig` will not be returned.\n *         Otherwise a `textContentStyle` and `textConfig` will be created, whose props area\n *         retried from the `hostStyle`.\n */\nexport function convertFromEC4CompatibleStyle(hostStyle, elType, isNormal) {\n  var srcStyle = hostStyle;\n  var textConfig;\n  var textContent;\n  var textContentStyle;\n  if (elType === 'text') {\n    textContentStyle = srcStyle;\n  } else {\n    textContentStyle = {};\n    hasOwn(srcStyle, 'text') && (textContentStyle.text = srcStyle.text);\n    hasOwn(srcStyle, 'rich') && (textContentStyle.rich = srcStyle.rich);\n    hasOwn(srcStyle, 'textFill') && (textContentStyle.fill = srcStyle.textFill);\n    hasOwn(srcStyle, 'textStroke') && (textContentStyle.stroke = srcStyle.textStroke);\n    hasOwn(srcStyle, 'fontFamily') && (textContentStyle.fontFamily = srcStyle.fontFamily);\n    hasOwn(srcStyle, 'fontSize') && (textContentStyle.fontSize = srcStyle.fontSize);\n    hasOwn(srcStyle, 'fontStyle') && (textContentStyle.fontStyle = srcStyle.fontStyle);\n    hasOwn(srcStyle, 'fontWeight') && (textContentStyle.fontWeight = srcStyle.fontWeight);\n    textContent = {\n      type: 'text',\n      style: textContentStyle,\n      // ec4 does not support rectText trigger.\n      // And when text position is different in normal and emphasis\n      // => hover text trigger emphasis;\n      // => text position changed, leave mouse pointer immediately;\n      // That might cause incorrect state.\n      silent: true\n    };\n    textConfig = {};\n    var hasOwnPos = hasOwn(srcStyle, 'textPosition');\n    if (isNormal) {\n      textConfig.position = hasOwnPos ? srcStyle.textPosition : 'inside';\n    } else {\n      hasOwnPos && (textConfig.position = srcStyle.textPosition);\n    }\n    hasOwn(srcStyle, 'textPosition') && (textConfig.position = srcStyle.textPosition);\n    hasOwn(srcStyle, 'textOffset') && (textConfig.offset = srcStyle.textOffset);\n    hasOwn(srcStyle, 'textRotation') && (textConfig.rotation = srcStyle.textRotation);\n    hasOwn(srcStyle, 'textDistance') && (textConfig.distance = srcStyle.textDistance);\n  }\n  convertEC4CompatibleRichItem(textContentStyle, hostStyle);\n  each(textContentStyle.rich, function (richItem) {\n    convertEC4CompatibleRichItem(richItem, richItem);\n  });\n  return {\n    textConfig: textConfig,\n    textContent: textContent\n  };\n}\n/**\n * The result will be set to `out`.\n */\nfunction convertEC4CompatibleRichItem(out, richItem) {\n  if (!richItem) {\n    return;\n  }\n  // (1) For simplicity, make textXXX properties (deprecated since ec5) has\n  // higher priority. For example, consider in ec4 `borderColor: 5, textBorderColor: 10`\n  // on a rect means `borderColor: 4` on the rect and `borderColor: 10` on an attached\n  // richText in ec5.\n  // (2) `out === richItem` if and only if `out` is text el or rich item.\n  // So we can overwrite existing props in `out` since textXXX has higher priority.\n  richItem.font = richItem.textFont || richItem.font;\n  hasOwn(richItem, 'textStrokeWidth') && (out.lineWidth = richItem.textStrokeWidth);\n  hasOwn(richItem, 'textAlign') && (out.align = richItem.textAlign);\n  hasOwn(richItem, 'textVerticalAlign') && (out.verticalAlign = richItem.textVerticalAlign);\n  hasOwn(richItem, 'textLineHeight') && (out.lineHeight = richItem.textLineHeight);\n  hasOwn(richItem, 'textWidth') && (out.width = richItem.textWidth);\n  hasOwn(richItem, 'textHeight') && (out.height = richItem.textHeight);\n  hasOwn(richItem, 'textBackgroundColor') && (out.backgroundColor = richItem.textBackgroundColor);\n  hasOwn(richItem, 'textPadding') && (out.padding = richItem.textPadding);\n  hasOwn(richItem, 'textBorderColor') && (out.borderColor = richItem.textBorderColor);\n  hasOwn(richItem, 'textBorderWidth') && (out.borderWidth = richItem.textBorderWidth);\n  hasOwn(richItem, 'textBorderRadius') && (out.borderRadius = richItem.textBorderRadius);\n  hasOwn(richItem, 'textBoxShadowColor') && (out.shadowColor = richItem.textBoxShadowColor);\n  hasOwn(richItem, 'textBoxShadowBlur') && (out.shadowBlur = richItem.textBoxShadowBlur);\n  hasOwn(richItem, 'textBoxShadowOffsetX') && (out.shadowOffsetX = richItem.textBoxShadowOffsetX);\n  hasOwn(richItem, 'textBoxShadowOffsetY') && (out.shadowOffsetY = richItem.textBoxShadowOffsetY);\n}\n/**\n * Convert to pure echarts4 format style.\n * `itemStyle` will be modified, added with ec4 style properties from\n * `textStyle` and `textConfig`.\n *\n * [Caveat]: For simplicity, `insideRollback` in ec4 does not compat, where\n * `styleEmphasis: {textFill: 'red'}` will remove the normal auto added stroke.\n */\nexport function convertToEC4StyleForCustomSerise(itemStl, txStl, txCfg) {\n  var out = itemStl;\n  // See `custom.ts`, a trick to set extra `textPosition` firstly.\n  out.textPosition = out.textPosition || txCfg.position || 'inside';\n  txCfg.offset != null && (out.textOffset = txCfg.offset);\n  txCfg.rotation != null && (out.textRotation = txCfg.rotation);\n  txCfg.distance != null && (out.textDistance = txCfg.distance);\n  var isInside = out.textPosition.indexOf('inside') >= 0;\n  var hostFill = itemStl.fill || '#000';\n  convertToEC4RichItem(out, txStl);\n  var textFillNotSet = out.textFill == null;\n  if (isInside) {\n    if (textFillNotSet) {\n      out.textFill = txCfg.insideFill || '#fff';\n      !out.textStroke && txCfg.insideStroke && (out.textStroke = txCfg.insideStroke);\n      !out.textStroke && (out.textStroke = hostFill);\n      out.textStrokeWidth == null && (out.textStrokeWidth = 2);\n    }\n  } else {\n    if (textFillNotSet) {\n      out.textFill = itemStl.fill || txCfg.outsideFill || '#000';\n    }\n    !out.textStroke && txCfg.outsideStroke && (out.textStroke = txCfg.outsideStroke);\n  }\n  out.text = txStl.text;\n  out.rich = txStl.rich;\n  each(txStl.rich, function (richItem) {\n    convertToEC4RichItem(richItem, richItem);\n  });\n  return out;\n}\nfunction convertToEC4RichItem(out, richItem) {\n  if (!richItem) {\n    return;\n  }\n  hasOwn(richItem, 'fill') && (out.textFill = richItem.fill);\n  hasOwn(richItem, 'stroke') && (out.textStroke = richItem.fill);\n  hasOwn(richItem, 'lineWidth') && (out.textStrokeWidth = richItem.lineWidth);\n  hasOwn(richItem, 'font') && (out.font = richItem.font);\n  hasOwn(richItem, 'fontStyle') && (out.fontStyle = richItem.fontStyle);\n  hasOwn(richItem, 'fontWeight') && (out.fontWeight = richItem.fontWeight);\n  hasOwn(richItem, 'fontSize') && (out.fontSize = richItem.fontSize);\n  hasOwn(richItem, 'fontFamily') && (out.fontFamily = richItem.fontFamily);\n  hasOwn(richItem, 'align') && (out.textAlign = richItem.align);\n  hasOwn(richItem, 'verticalAlign') && (out.textVerticalAlign = richItem.verticalAlign);\n  hasOwn(richItem, 'lineHeight') && (out.textLineHeight = richItem.lineHeight);\n  hasOwn(richItem, 'width') && (out.textWidth = richItem.width);\n  hasOwn(richItem, 'height') && (out.textHeight = richItem.height);\n  hasOwn(richItem, 'backgroundColor') && (out.textBackgroundColor = richItem.backgroundColor);\n  hasOwn(richItem, 'padding') && (out.textPadding = richItem.padding);\n  hasOwn(richItem, 'borderColor') && (out.textBorderColor = richItem.borderColor);\n  hasOwn(richItem, 'borderWidth') && (out.textBorderWidth = richItem.borderWidth);\n  hasOwn(richItem, 'borderRadius') && (out.textBorderRadius = richItem.borderRadius);\n  hasOwn(richItem, 'shadowColor') && (out.textBoxShadowColor = richItem.shadowColor);\n  hasOwn(richItem, 'shadowBlur') && (out.textBoxShadowBlur = richItem.shadowBlur);\n  hasOwn(richItem, 'shadowOffsetX') && (out.textBoxShadowOffsetX = richItem.shadowOffsetX);\n  hasOwn(richItem, 'shadowOffsetY') && (out.textBoxShadowOffsetY = richItem.shadowOffsetY);\n  hasOwn(richItem, 'textShadowColor') && (out.textShadowColor = richItem.textShadowColor);\n  hasOwn(richItem, 'textShadowBlur') && (out.textShadowBlur = richItem.textShadowBlur);\n  hasOwn(richItem, 'textShadowOffsetX') && (out.textShadowOffsetX = richItem.textShadowOffsetX);\n  hasOwn(richItem, 'textShadowOffsetY') && (out.textShadowOffsetY = richItem.textShadowOffsetY);\n}\nexport function warnDeprecated(deprecated, insteadApproach) {\n  if (process.env.NODE_ENV !== 'production') {\n    var key = deprecated + '^_^' + insteadApproach;\n    if (!deprecatedLogs[key]) {\n      console.warn(\"[ECharts] DEPRECATED: \\\"\" + deprecated + \"\\\" has been deprecated. \" + insteadApproach);\n      deprecatedLogs[key] = true;\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as zrColor from 'zrender/lib/tool/color.js';\nimport { linearMap } from '../util/number.js';\nimport { warn } from '../util/log.js';\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar CATEGORY_DEFAULT_VISUAL_INDEX = -1;\nvar VisualMapping = /** @class */function () {\n  function VisualMapping(option) {\n    var mappingMethod = option.mappingMethod;\n    var visualType = option.type;\n    var thisOption = this.option = zrUtil.clone(option);\n    this.type = visualType;\n    this.mappingMethod = mappingMethod;\n    this._normalizeData = normalizers[mappingMethod];\n    var visualHandler = VisualMapping.visualHandlers[visualType];\n    this.applyVisual = visualHandler.applyVisual;\n    this.getColorMapper = visualHandler.getColorMapper;\n    this._normalizedToVisual = visualHandler._normalizedToVisual[mappingMethod];\n    if (mappingMethod === 'piecewise') {\n      normalizeVisualRange(thisOption);\n      preprocessForPiecewise(thisOption);\n    } else if (mappingMethod === 'category') {\n      thisOption.categories ? preprocessForSpecifiedCategory(thisOption)\n      // categories is ordinal when thisOption.categories not specified,\n      // which need no more preprocess except normalize visual.\n      : normalizeVisualRange(thisOption, true);\n    } else {\n      // mappingMethod === 'linear' or 'fixed'\n      zrUtil.assert(mappingMethod !== 'linear' || thisOption.dataExtent);\n      normalizeVisualRange(thisOption);\n    }\n  }\n  VisualMapping.prototype.mapValueToVisual = function (value) {\n    var normalized = this._normalizeData(value);\n    return this._normalizedToVisual(normalized, value);\n  };\n  VisualMapping.prototype.getNormalizer = function () {\n    return zrUtil.bind(this._normalizeData, this);\n  };\n  /**\n   * List available visual types.\n   *\n   * @public\n   * @return {Array.<string>}\n   */\n  VisualMapping.listVisualTypes = function () {\n    return zrUtil.keys(VisualMapping.visualHandlers);\n  };\n  // /**\n  //  * @public\n  //  */\n  // static addVisualHandler(name, handler) {\n  //     visualHandlers[name] = handler;\n  // }\n  /**\n   * @public\n   */\n  VisualMapping.isValidType = function (visualType) {\n    return VisualMapping.visualHandlers.hasOwnProperty(visualType);\n  };\n  /**\n   * Convenient method.\n   * Visual can be Object or Array or primary type.\n   */\n  VisualMapping.eachVisual = function (visual, callback, context) {\n    if (zrUtil.isObject(visual)) {\n      zrUtil.each(visual, callback, context);\n    } else {\n      callback.call(context, visual);\n    }\n  };\n  VisualMapping.mapVisual = function (visual, callback, context) {\n    var isPrimary;\n    var newVisual = zrUtil.isArray(visual) ? [] : zrUtil.isObject(visual) ? {} : (isPrimary = true, null);\n    VisualMapping.eachVisual(visual, function (v, key) {\n      var newVal = callback.call(context, v, key);\n      isPrimary ? newVisual = newVal : newVisual[key] = newVal;\n    });\n    return newVisual;\n  };\n  /**\n   * Retrieve visual properties from given object.\n   */\n  VisualMapping.retrieveVisuals = function (obj) {\n    var ret = {};\n    var hasVisual;\n    obj && each(VisualMapping.visualHandlers, function (h, visualType) {\n      if (obj.hasOwnProperty(visualType)) {\n        ret[visualType] = obj[visualType];\n        hasVisual = true;\n      }\n    });\n    return hasVisual ? ret : null;\n  };\n  /**\n   * Give order to visual types, considering colorSaturation, colorAlpha depends on color.\n   *\n   * @public\n   * @param {(Object|Array)} visualTypes If Object, like: {color: ..., colorSaturation: ...}\n   *                                     IF Array, like: ['color', 'symbol', 'colorSaturation']\n   * @return {Array.<string>} Sorted visual types.\n   */\n  VisualMapping.prepareVisualTypes = function (visualTypes) {\n    if (zrUtil.isArray(visualTypes)) {\n      visualTypes = visualTypes.slice();\n    } else if (isObject(visualTypes)) {\n      var types_1 = [];\n      each(visualTypes, function (item, type) {\n        types_1.push(type);\n      });\n      visualTypes = types_1;\n    } else {\n      return [];\n    }\n    visualTypes.sort(function (type1, type2) {\n      // color should be front of colorSaturation, colorAlpha, ...\n      // symbol and symbolSize do not matter.\n      return type2 === 'color' && type1 !== 'color' && type1.indexOf('color') === 0 ? 1 : -1;\n    });\n    return visualTypes;\n  };\n  /**\n   * 'color', 'colorSaturation', 'colorAlpha', ... are depends on 'color'.\n   * Other visuals are only depends on themself.\n   */\n  VisualMapping.dependsOn = function (visualType1, visualType2) {\n    return visualType2 === 'color' ? !!(visualType1 && visualType1.indexOf(visualType2) === 0) : visualType1 === visualType2;\n  };\n  /**\n   * @param value\n   * @param pieceList [{value: ..., interval: [min, max]}, ...]\n   *                         Always from small to big.\n   * @param findClosestWhenOutside Default to be false\n   * @return index\n   */\n  VisualMapping.findPieceIndex = function (value, pieceList, findClosestWhenOutside) {\n    var possibleI;\n    var abs = Infinity;\n    // value has the higher priority.\n    for (var i = 0, len = pieceList.length; i < len; i++) {\n      var pieceValue = pieceList[i].value;\n      if (pieceValue != null) {\n        if (pieceValue === value\n        // FIXME\n        // It is supposed to compare value according to value type of dimension,\n        // but currently value type can exactly be string or number.\n        // Compromise for numeric-like string (like '12'), especially\n        // in the case that visualMap.categories is ['22', '33'].\n        || zrUtil.isString(pieceValue) && pieceValue === value + '') {\n          return i;\n        }\n        findClosestWhenOutside && updatePossible(pieceValue, i);\n      }\n    }\n    for (var i = 0, len = pieceList.length; i < len; i++) {\n      var piece = pieceList[i];\n      var interval = piece.interval;\n      var close_1 = piece.close;\n      if (interval) {\n        if (interval[0] === -Infinity) {\n          if (littleThan(close_1[1], value, interval[1])) {\n            return i;\n          }\n        } else if (interval[1] === Infinity) {\n          if (littleThan(close_1[0], interval[0], value)) {\n            return i;\n          }\n        } else if (littleThan(close_1[0], interval[0], value) && littleThan(close_1[1], value, interval[1])) {\n          return i;\n        }\n        findClosestWhenOutside && updatePossible(interval[0], i);\n        findClosestWhenOutside && updatePossible(interval[1], i);\n      }\n    }\n    if (findClosestWhenOutside) {\n      return value === Infinity ? pieceList.length - 1 : value === -Infinity ? 0 : possibleI;\n    }\n    function updatePossible(val, index) {\n      var newAbs = Math.abs(val - value);\n      if (newAbs < abs) {\n        abs = newAbs;\n        possibleI = index;\n      }\n    }\n  };\n  VisualMapping.visualHandlers = {\n    color: {\n      applyVisual: makeApplyVisual('color'),\n      getColorMapper: function () {\n        var thisOption = this.option;\n        return zrUtil.bind(thisOption.mappingMethod === 'category' ? function (value, isNormalized) {\n          !isNormalized && (value = this._normalizeData(value));\n          return doMapCategory.call(this, value);\n        } : function (value, isNormalized, out) {\n          // If output rgb array\n          // which will be much faster and useful in pixel manipulation\n          var returnRGBArray = !!out;\n          !isNormalized && (value = this._normalizeData(value));\n          out = zrColor.fastLerp(value, thisOption.parsedVisual, out);\n          return returnRGBArray ? out : zrColor.stringify(out, 'rgba');\n        }, this);\n      },\n      _normalizedToVisual: {\n        linear: function (normalized) {\n          return zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n        },\n        category: doMapCategory,\n        piecewise: function (normalized, value) {\n          var result = getSpecifiedVisual.call(this, value);\n          if (result == null) {\n            result = zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n          }\n          return result;\n        },\n        fixed: doMapFixed\n      }\n    },\n    colorHue: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, value);\n    }),\n    colorSaturation: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, null, value);\n    }),\n    colorLightness: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, null, null, value);\n    }),\n    colorAlpha: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyAlpha(color, value);\n    }),\n    decal: {\n      applyVisual: makeApplyVisual('decal'),\n      _normalizedToVisual: {\n        linear: null,\n        category: doMapCategory,\n        piecewise: null,\n        fixed: null\n      }\n    },\n    opacity: {\n      applyVisual: makeApplyVisual('opacity'),\n      _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n    },\n    liftZ: {\n      applyVisual: makeApplyVisual('liftZ'),\n      _normalizedToVisual: {\n        linear: doMapFixed,\n        category: doMapFixed,\n        piecewise: doMapFixed,\n        fixed: doMapFixed\n      }\n    },\n    symbol: {\n      applyVisual: function (value, getter, setter) {\n        var symbolCfg = this.mapValueToVisual(value);\n        setter('symbol', symbolCfg);\n      },\n      _normalizedToVisual: {\n        linear: doMapToArray,\n        category: doMapCategory,\n        piecewise: function (normalized, value) {\n          var result = getSpecifiedVisual.call(this, value);\n          if (result == null) {\n            result = doMapToArray.call(this, normalized);\n          }\n          return result;\n        },\n        fixed: doMapFixed\n      }\n    },\n    symbolSize: {\n      applyVisual: makeApplyVisual('symbolSize'),\n      _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n    }\n  };\n  return VisualMapping;\n}();\nfunction preprocessForPiecewise(thisOption) {\n  var pieceList = thisOption.pieceList;\n  thisOption.hasSpecialVisual = false;\n  zrUtil.each(pieceList, function (piece, index) {\n    piece.originIndex = index;\n    // piece.visual is \"result visual value\" but not\n    // a visual range, so it does not need to be normalized.\n    if (piece.visual != null) {\n      thisOption.hasSpecialVisual = true;\n    }\n  });\n}\nfunction preprocessForSpecifiedCategory(thisOption) {\n  // Hash categories.\n  var categories = thisOption.categories;\n  var categoryMap = thisOption.categoryMap = {};\n  var visual = thisOption.visual;\n  each(categories, function (cate, index) {\n    categoryMap[cate] = index;\n  });\n  // Process visual map input.\n  if (!zrUtil.isArray(visual)) {\n    var visualArr_1 = [];\n    if (zrUtil.isObject(visual)) {\n      each(visual, function (v, cate) {\n        var index = categoryMap[cate];\n        visualArr_1[index != null ? index : CATEGORY_DEFAULT_VISUAL_INDEX] = v;\n      });\n    } else {\n      // Is primary type, represents default visual.\n      visualArr_1[CATEGORY_DEFAULT_VISUAL_INDEX] = visual;\n    }\n    visual = setVisualToOption(thisOption, visualArr_1);\n  }\n  // Remove categories that has no visual,\n  // then we can mapping them to CATEGORY_DEFAULT_VISUAL_INDEX.\n  for (var i = categories.length - 1; i >= 0; i--) {\n    if (visual[i] == null) {\n      delete categoryMap[categories[i]];\n      categories.pop();\n    }\n  }\n}\nfunction normalizeVisualRange(thisOption, isCategory) {\n  var visual = thisOption.visual;\n  var visualArr = [];\n  if (zrUtil.isObject(visual)) {\n    each(visual, function (v) {\n      visualArr.push(v);\n    });\n  } else if (visual != null) {\n    visualArr.push(visual);\n  }\n  var doNotNeedPair = {\n    color: 1,\n    symbol: 1\n  };\n  if (!isCategory && visualArr.length === 1 && !doNotNeedPair.hasOwnProperty(thisOption.type)) {\n    // Do not care visualArr.length === 0, which is illegal.\n    visualArr[1] = visualArr[0];\n  }\n  setVisualToOption(thisOption, visualArr);\n}\nfunction makePartialColorVisualHandler(applyValue) {\n  return {\n    applyVisual: function (value, getter, setter) {\n      // Only used in HSL\n      var colorChannel = this.mapValueToVisual(value);\n      // Must not be array value\n      setter('color', applyValue(getter('color'), colorChannel));\n    },\n    _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n  };\n}\nfunction doMapToArray(normalized) {\n  var visual = this.option.visual;\n  return visual[Math.round(linearMap(normalized, [0, 1], [0, visual.length - 1], true))] || {}; // TODO {}?\n}\n\nfunction makeApplyVisual(visualType) {\n  return function (value, getter, setter) {\n    setter(visualType, this.mapValueToVisual(value));\n  };\n}\nfunction doMapCategory(normalized) {\n  var visual = this.option.visual;\n  return visual[this.option.loop && normalized !== CATEGORY_DEFAULT_VISUAL_INDEX ? normalized % visual.length : normalized];\n}\nfunction doMapFixed() {\n  // visual will be convert to array.\n  return this.option.visual[0];\n}\n/**\n * Create mapped to numeric visual\n */\nfunction createNormalizedToNumericVisual(sourceExtent) {\n  return {\n    linear: function (normalized) {\n      return linearMap(normalized, sourceExtent, this.option.visual, true);\n    },\n    category: doMapCategory,\n    piecewise: function (normalized, value) {\n      var result = getSpecifiedVisual.call(this, value);\n      if (result == null) {\n        result = linearMap(normalized, sourceExtent, this.option.visual, true);\n      }\n      return result;\n    },\n    fixed: doMapFixed\n  };\n}\nfunction getSpecifiedVisual(value) {\n  var thisOption = this.option;\n  var pieceList = thisOption.pieceList;\n  if (thisOption.hasSpecialVisual) {\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList);\n    var piece = pieceList[pieceIndex];\n    if (piece && piece.visual) {\n      return piece.visual[this.type];\n    }\n  }\n}\nfunction setVisualToOption(thisOption, visualArr) {\n  thisOption.visual = visualArr;\n  if (thisOption.type === 'color') {\n    thisOption.parsedVisual = zrUtil.map(visualArr, function (item) {\n      var color = zrColor.parse(item);\n      if (!color && process.env.NODE_ENV !== 'production') {\n        warn(\"'\" + item + \"' is an illegal color, fallback to '#000000'\", true);\n      }\n      return color || [0, 0, 0, 1];\n    });\n  }\n  return visualArr;\n}\n/**\n * Normalizers by mapping methods.\n */\nvar normalizers = {\n  linear: function (value) {\n    return linearMap(value, this.option.dataExtent, [0, 1], true);\n  },\n  piecewise: function (value) {\n    var pieceList = this.option.pieceList;\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList, true);\n    if (pieceIndex != null) {\n      return linearMap(pieceIndex, [0, pieceList.length - 1], [0, 1], true);\n    }\n  },\n  category: function (value) {\n    var index = this.option.categories ? this.option.categoryMap[value] : value; // ordinal value\n    return index == null ? CATEGORY_DEFAULT_VISUAL_INDEX : index;\n  },\n  fixed: zrUtil.noop\n};\nfunction littleThan(close, a, b) {\n  return close ? a <= b : a < b;\n}\nexport default VisualMapping;","import windingLine from './windingLine.js';\nvar EPSILON = 1e-8;\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\nexport function contain(points, x, y) {\n    var w = 0;\n    var p = points[0];\n    if (!p) {\n        return false;\n    }\n    for (var i = 1; i < points.length; i++) {\n        var p2 = points[i];\n        w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n        p = p2;\n    }\n    var p0 = points[0];\n    if (!isAroundEqual(p[0], p0[0]) || !isAroundEqual(p[1], p0[1])) {\n        w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n    }\n    return w !== 0;\n}\n"],"names":["getCenterCoord","view","point","pointToProjected","pointToData","updateCenterAndZoom","payload","zoomLimit","api","previousZoom","getZoom","center","getCenter","zoom","projectedToPoint","dataToPoint","dx","dy","setCenter","zoomMin","min","zoomMax","max","Infinity","Math","scaleX","scaleY","fixX","originX","x","fixY","originY","y","updateTransform","setZoom","getStateToRestore","makeInner","KEYFRAME_EXCLUDE_KEYS","stopPreviousKeyframeAnimationAndRestore","el","stopAnimation","attr","applyKeyframeAnimation","animationOpts","animatableModel","isAnimationEnabled","isArray","each","singleAnimationOpts","keyframes","duration","config","getAnimationConfig","stateToRestore","ELEMENT_ANIMATABLE_PROPS","targetPropName","animator","sort","a","b","percent","kf","animators","kfValues","propKeys","keys","filter","key","indexOf","length","animate","loop","scope","i","targetName","stopTracks","savedTarget","whenWithKeys","easing","delay","start","LEGACY_TRANSFORM_PROPS_MAP","position","scale","origin","LEGACY_TRANSFORM_PROPS","reduce","TRANSFORMABLE_PROPS","obj","join","transitionInnerStore","getElementAnimationConfig","animationType","elOption","parentModel","dataIndex","animationProp","userDuring","during","bind","duringCall","setToFinal","extend","applyUpdateTransition","opts","isInit","clearStyle","hasAnimation","store","styleOpt","style","transFromProps","propsToSet","allProps","legacyName","xyName","legacyArr","prepareTransformAllPropsFinal","prepareShapeOrExtraAllPropsFinal","transition","transitionKeys","isTransitionAll","normalizeToArray","elVal","process","prepareTransformTransitionFrom","prepareShapeOrExtraTransitionFrom","fromEl","transFromStyleProps","fromElStyle","styleTransition","elTransition","getAnimationStyleProps","animationProps","animationStyleProps","styleKeys","prepareStyleTransitionFrom","allPropsFinal","isGroup","useStyle","changeTarget","setStyle","applyPropsDirectly","hasOwn","silent","ignore","Displayable","invisible","Path","autoBatch","applyMiscProps","enterFromProps_1","propName","prop","enterFrom","animateFrom","model","applyPropsTransition","updateLeaveTo","dirty","markRedraw","leaveToProps","leaveTo","applyLeaveTransition","onRemove","parent_1","parent","done","remove","animateTo","tmpDuringScope","transitionDuringAPI","setTransform","val","this","getTransform","setShape","shape","dirtyShape","getShape","dirtyStyle","getStyle","setExtra","extra","getExtra","latestUserDuring","scopeUserDuring","mainAttr","attrOpt","transFromPropsInAttr","elPropsInAttr","attrTransition","elPropsInAttrKeys","isNonStyleTransitionEnabled","allPropsInAttr","keysInAttr","cloneValue","optVal","isArrayLike","isFinite","straightLineProto","graphic","prototype","bezierCurveProto","StraightLineShape","x1","y1","x2","y2","_super","CurveShape","apply","arguments","__extends","isStraightLine","isNaN","cpx1","cpy1","ECLinePath","_this","call","type","getDefaultStyle","stroke","fill","getDefaultShape","buildPath","ctx","pointAt","t","tangentAt","p","vec2","SYMBOL_CATEGORIES","makeSymbolTypeKey","symbolCategory","makeSymbolTypeValue","name","lineData","idx","symbolType","getItemVisual","symbolSize","symbolRotate","symbolOffset","symbolKeepAspect","symbolSizeArr","symbolUtil","createSymbol","symbolOffsetArr","symbolPath","__specifiedRotation","PI","setLinePoints","targetShape","points","cp1","NaN","Line","seriesScope","_createLine","seriesModel","hostModel","line","subPixelOptimize","createLine","getItemLayout","add","symbol","_updateCommonStl","updateData","childOfName","linePoints","target","getLinePath","childAt","emphasisLineStyle","blurLineStyle","selectLineStyle","labelStatesModels","emphasisDisabled","focus","blurScope","hasItemOption","itemModel","getItemModel","emphasisModel","getModel","getLineStyle","get","getLabelStatesModels","lineStyle","visualColor","strokeNoScale","ensureState","setColor","opacity","SPECIAL_STATES","stateName","lineState","getState","lineStateStyle","state","stateStyle","__isEmptyBrush","rawVal","getRawValue","setLabelStyle","labelDataIndex","labelFetcher","getFormattedLabel","dataType","inheritColor","defaultOpacity","defaultText","getName","round","label","getTextContent","labelNormalModel","normal","__align","align","__verticalAlign","verticalAlign","__position","distance","__labelDistance","setTextConfig","local","inside","toggleHoverEmphasis","highlight","enterEmphasis","downplay","leaveEmphasis","updateLayout","linePath","beforeUpdate","lineGroup","symbolFrom","symbolTo","invScale","parentNode","__dirty","fromPos","toPos","d","vector","setPosition","setSymbolRotation","textAlign","textVerticalAlign","distanceX","distanceY","halfPercent","tangent","n","cp","dir","rotation","atan2","specifiedRotation","makeSeriesScope","isPointNaN","pt","lineNeedsDraw","pts","LineDraw","LineCtor","group","_LineCtor","LineGroup","_progressiveEls","lineDraw","oldLineData","_lineData","removeAll","diff","_doAdd","update","newIdx","oldIdx","_doUpdate","getItemGraphicEl","execute","eachItemGraphicEl","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","isEffectObject","incremental","hoverLayer","end","traverse","setItemGraphicEl","push","eachRendered","cb","newLineData","itemEl","driftSymbol","drift","Symbol","data","_createSymbol","keepAspect","z2","culling","_symbolType","stopSymbolAnimation","toLastFrame","getSymbolType","getSymbolPath","setZ","zlevel","z","setDraggable","draggable","hasCursorOption","cursor","getSymbolSize","disableAnimation","saveOldStyle","_updateCommon","_sizeX","_sizeY","emphasisItemStyle","blurItemStyle","selectItemStyle","hoverScale","cursorStyle","getItemStyle","getShallow","normalizeSymbolOffset","symbolStyle","ZRImage","pathStyle","image","width","height","decal","symbolInnerColor","liftZ","z2Origin","_z2","useNameLabel","getDefaultLabel","emphasisState","scaleRatio","setSymbolScale","fadeOut","opt","getECData","animationOpt","animation","fadeLabel","textContent","removeOpt","removeTextContent","normalizeSymbolSize","symbolNeedsDraw","isIgnore","clipShape","contain","normalizeUpdateOpt","isObject","SymbolDraw","SymbolCtor","_SymbolCtor","SymbolClz","oldData","_data","symbolUpdateOpt","getSymbolPoint","symbolEl","newSymbolType","oldSymbolType","_getSymbolPoint","enableAnimation","labelDims","mapDimensionsAll","len","retrieveRawValue","vals","getDefaultInterpolatedLabel","interpolatedValue","dimIndex","getDimensionIndex","GEO_DEFAULT_PARAMS","aspectScale","invertLongitute","geo2DDimensions","Geo","map","dimensions","_nameCoordMap","zrUtil","boundingRect","projection","source","geoSourceManager","load","nameMap","nameProperty","resource","getGeoResource","regions","resourceType","defaultParams","_regionsMap","regionsMap","regionRect","getBoundingRect","clone","union","setBoundingRect","_invertLongitute","_transformTo","rect","rawTransformable","_rawTransformable","transform","calculateTransform","BoundingRect","rawParent","decomposeTransform","_updateTransform","getRegion","getRegionByCoord","coord","region","addGeoCoord","geoCoord","set","getGeoCoord","noRoam","out","project","unproject","projected","convertToPixel","ecModel","finder","value","coordSys","getCoordSys","convertFromPixel","pixel","View","geoModel","coordinateSystem","getReferringComponents","SINGLE_REFERRING","models","resizeGeo","boundingCoords","leftTop_1","rightBottom_1","projection_1","xMin","yMin","xMax","yMax","sampleLine","x0","y0","size","viewRect","centerOption","sizeOption","viewWidth","getWidth","viewHeight","getHeight","aspect","useCenterAndSize","numberUtil","boxLayoutOption","getBoxLayoutParams","layout","setViewRect","GeoCreator","create","geoList","getCommonGeoProperties","eachComponent","mapName","geo","resize","eachSeries","geoIndex","mapModelGroupBySeries","eachSeriesByType","getHostGeoModel","mapType","getMapType","mapSeries","nameMapList","singleMapSeries","setGeoCoords","getFilledRegions","originRegionArr","regionsArr","slice","dataNameMap","GeoModel","init","option","itemStyle","color","mergeDefaultAndTheme","modelUtil","optionUpdated","geoCreator","selectedMap","_optionModelMap","optionModelMap","regionOpt","regionName","Model","selected","getRegionModel","status","regionModel","formatter","params","replace","select","selectedMode","unSelect","toggleSelected","isSelected","layoutMode","defaultOption","show","left","top","scaleLimit","borderWidth","borderColor","emphasis","ComponentModel","GeoView","focusBlurEnabled","_api","render","_model","_mapDraw","MapDraw","mapDraw","draw","on","_handleRegionClick","updateSelectStatus","e","eventData","findEventDispatcher","current","dispatchAction","geoId","id","node","enterSelect","leaveSelect","findHighDownDispatchers","dispose","ComponentView","registerMap","geoJson","specialAreas","install","registers","makeAction","method","actionInfo","registerAction","allSelected","mainType","query","names","v","componentIndex","registerCoordinateSystem","registerComponentModel","registerComponentView","registerImpl","getMapForUser","event","componentType","componentModel","res","seriesGroup","BRUSH_PANEL_GLOBAL","mathMin","mathMax","mathPow","pow","COVER_Z","UNSELECT_THRESHOLD","MIN_RESIZE_LINE_WIDTH","MUTEX_RESOURCE_KEY","DIRECTION_MAP","w","s","CURSOR_MAP","ne","sw","nw","se","DEFAULT_BRUSH_OPT","brushStyle","lineWidth","transformable","brushMode","removeOnClick","baseUID","BrushController","zr","_track","_covers","_handlers","_zr","_uid","pointerHandlers","handler","eventName","enableBrush","brushOption","_brushType","_doDisableBrush","brushType","_doEnableBrush","_enableGlobalPan","interactionMutex","_brushOption","merge","off","setPanels","panelOpts","panels_1","_panels","panelId","mount","enableGlobalPan","thisGroup","_transform","getLocalTransform","updateCovers","coverConfigList","coverConfig","tmpIdPrefix","oldCovers","newCovers","controller","creatingCover","_creatingCover","DataDiffer","cover","index","getKey","__brushOption","addOrUpdate","oldIndex","newIndex","newBrushInternal","endCreating","createCover","updateCoverAfterCreation","unmount","clearCovers","Eventful","coverRenderers","updateZ","coverRenderer","getCoverRenderer","updateCoverShape","range","updateCommon","getPanelByPoint","localCursorPoint","panel","panels","pn","isTargetByCursor","getPanelByCover","covers","originalLength","trigger","areas","isEnd","getTrackEnds","track","tail","createBaseRectCover","rectRangeConverter","edgeNameSequences","makeStyle","curry","driftRect","ondragend","nameSequence","updateBaseRect","localRange","handleSize","xa","ya","x2a","y2a","widtha","heighta","updateRectShape","mainEl","globalDir","getGlobalDirection1","localDirNameSeq","reverse","getGlobalDirection2","h","xmin","ymin","xmax","ymax","pointsToRect","clipByPanel","defaults","formatRectRange","localDirName","right","bottom","dirNameSequence","rectRange","toRectRange","localDelta","toLocalDelta","dirName","ind","fromRectRange","driftPolygon","localD","transformCoordToLocal","localZero","clipPath","preventDefault","rawE","mainShapeContain","updateCoverByMouse","eventParams","_creatingPanel","thisBrushOption","p2","p1","shouldShowCover","determineBrushType","getCreatingRange","defaultBrushType","mousedown","_dragging","handleDragEnd","offsetX","offsetY","mousemove","isOutsideZrArea","currPanel","setCursorStyle","resetCursor","mouseup","lineX","getLineRenderer","lineY","returnInput","localTrack","ends","polygon","xyIndex","otherExtent","getLinearBrushOtherExtent","OPTION_STYLE_ENABLED_TAGS","OPTION_STYLE_ENABLED_TAG_MAP","STATE_TRIGGER_TAG_MAP","concat","LABEL_HOST_MAP","mapLabelRaw","getFixedItemStyle","areaColor","fixLineStyle","styleHost","applyOptionStyleForRegion","viewBuildCtx","normalStyleModel","emphasisStyleModel","blurStyleModel","selectStyleModel","normalStyle","emphasisStyle","selectStyle","blurStyle","isVisualEncodedByVisualMap","createOrUpdatePatternFromDecal","setDefaultStateProxy","resetLabelForRegion","mapOrGeoModel","dataIdx","labelXY","isGeo","isDataNaN","mapDimension","itemLayout","showLabel","specifiedTextOpt","textEl","textConfig","layoutRect","disableLabelAnimation","removeTextConfig","resetEventTriggerForRegion","eventTrigger","resetTooltipForRegion","itemName","itemTooltipOption","resetStateTriggerForRegion","highDownSilentOnTouch","enableComponentHighDownFeatures","projectPolys","rings","createStream","isLine","curPoly","polygons","startPolygon","endPolygon","stream","polygonStart","polygonEnd","lineStart","lineEnd","sphere","ring","uid","getUID","_controller","RoamController","getZr","_controllerHost","_regionsGroup","_svgGroup","fromView","getData","subType","regionsGroup","transformInfo","getTransformInfo","transformInfoRaw","raw","transformInfoRoam","roam","getVisual","_buildGeoJSON","_buildSVG","_updateController","_updateMapSelectHandler","regionsGroupByName","_regionsGroupByName","regionsInfoByName","projectionStream","transformPoint","transformPolygonPoints","inPoints","outPoints","newPt","getPolyShape","regionGroup","_a","indexOfName","polygonSubpaths","polylineSubpaths","geometries","geometry","polys","exterior","interiors","poly","centerPt","createCompoundPath","subpaths","compoundPath","segmentIgnoreThreshold","paths","states","_svgResourceChanged","_freeSVG","_useSVG","svgDispatcherMap","_svgDispatcherMap","focusSelf","_svgGraphicRecord","named","namedItem","svgNodeTagLower","z2EmphasisLift","namedFrom","_enableBlurEntireSVG","opacity_1","root","_svgMapName","svgGraphic","useGraphic","freeGraphic","controllerHost","enable","makeActionBase","action","_mouseDownFlag","roamHelper","setPointerChecker","containPoint","onIrrelevantElement","resetForLabelLayout","checkPointerAndTrigger","behaviorToCheck","contollerEvent","pointerChecker","eventTool","isAvailableBehavior","settings","setting","isString","mousedownHandler","_mousedownHandler","mousemoveHandler","_mousemoveHandler","mouseupHandler","_mouseupHandler","mousewheelHandler","_mousewheelHandler","pinchHandler","_pinchHandler","controlType","disable","_opt","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","preventDefaultMouseMove","isDragging","isPinching","_pinching","__hostTarget","_x","_y","gestureEvent","oldX","oldY","newX","newY","shouldZoom","shouldMove","wheelDelta","absWheelDeltaDelta","abs","factor","absDelta","scrollDelta","pinchScale","pinchX","pinchY","makeRectPanelClipPath","normalizeRect","localPoints","graphicUtil","makeLinearBrushOtherExtent","specifiedXYIndex","brushWidth","base","makeRectIsTargetByCursor","targetModel","IRRELEVANT_EXCLUDES","targetCoordSysModel","getComponentByElement","topTarget","hasOwnProperty","ATTR","take","resourceKey","userKey","getStore","release","isTaken","echarts","noop","updateViewOnPan","updateViewOnZoom","zoomDelta","zoomX","zoomY","newZoom","zoomScale","sliderMove","delta","handleEnds","extent","handleIndex","minSpan","maxSpan","extentSpan","restrict","handleSpan","originalDistSign","getSpanSign","currDistSign","extentMinSpan","realExtent","sign","span","dist","parallelPreprocessor","parallel","hasParallelSeries","series","seriesOpt","createParallelIfNeeded","axes","parallelAxis","axisOption","parallelIndex","parallelOption","parallelAxisDefault","mergeAxisOptionFromParallel","ParallelView","parallelModel","handlers","createOrUpdate","clear","_throttledDispatchExpand","_dispatchExpand","checkTrigger","_mouseDownPoint","mouseDownPoint","result","getSlidedAxisExpandWindow","behavior","axisExpandWindow","debounceNextCall","triggerOn","ParallelModel","mergeOption","newOption","thisOption","_initDimensions","contains","getComponent","setAxisExpand","parallelAxisIndex","axisModels","queryComponents","axisModel","dependencies","axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandRate","axisExpandDebounce","axisExpandSlideTriggerArea","axisExpandTriggerOn","ParallelAxis","dim","coordExtent","axisType","axisIndex","isHorizontal","Axis","mathFloor","floor","mathCeil","ceil","layoutAxisWithoutExpand","layoutInfo","step","layoutLength","axisCount","axisNameAvailableWidth","axisLabelShow","layoutAxisWithExpand","nameTruncateMaxWidth","axisCollapseWidth","winInnerIndices","axisExpandWindow0Pos","Parallel","_axesMap","_axesLayout","_init","axis","axisHelper","isCategory","onBand","inverse","_updateAxesFromSeries","_makeLayoutInfo","axisBase","layoutBase","pixelDimIndex","pAxis","pLayout","axisLength","unionExtentFromData","_rect","layoutUtil","_layoutAxes","getRect","winSize","xy","wh","layoutExtent","axisExtent","setExtent","posInfo","positionTable","horizontal","vertical","rotationTable","matrix","tickDirection","labelDirection","getAxis","axisCoordToPoint","dataToCoord","eachActiveState","callback","count","axesMap","dataDimensions","axisDim","hasActiveSet","hasAxisBrushed","activeState","values","getValues","j","lenj","getActiveState","axisLayout","applyTransform","getAxisLayout","pointCoord","triggerArea","useJump","winSize2","coordSysList","ParallelAxisModel","activeIntervals","getAreaSelectStyle","makeStyleMapper","setActiveIntervals","intervals","interval","AxisModelCommonMixin","elementList","ParallelAxisView","_brushController","_onBrush","findComponents","fromAxisAreaSelect","oldAxisGroup","_axisGroup","coordSysModel","getCoordSysModel","areaSelectStyle","areaWidth","builderOpt","strokeContainThreshold","axisBuilder","AxisBuilder","getGroup","_refreshBrushController","groupTransition","getExtent","extentLen","brushHelper","getCoverInfoList","eventParam","coverInfoList","coverInfo","coordToData","realtime","parallelAxisId","defaultAxisOption","parallelCoordSysCreator","registerPreprocessor","axisModelCreator","parallelAxisModel","installParallelActions","valueAxisDefault","axisDefault","defaultsShow","RadarModel","boundaryGap","splitNumber","axisLine","axisTick","axisLabel","nameTextStyle","showName","nameFormatter","nameGap","triggerEvent","indicatorModels","indicatorOpt","iNameTextStyle","innerIndicatorOpt","text","nameLocation","indName","_indicatorModels","getIndicatorModels","radius","startAngle","axisName","axisNameGap","splitLine","splitArea","indicator","axisBuilderAttrs","RadarView","radarModel","_buildAxes","_buildSplitLineAndArea","radar","indicatorAxes","getIndicatorAxes","axisBuilders","indicatorAxis","cx","cy","angle","nameDirection","splitLineModel","splitAreaModel","lineStyleModel","areaStyleModel","showSplitLine","showSplitArea","splitLineColors","splitAreaColors","splitLineColorsArr","splitAreaColorsArr","splitLines","splitAreas","ticksRadius","getTicksCoords","getColorIndex","r","r0","realSplitNumber_1","axesTicksPoints","ticksCoords","tickCoord","coordToPoint","prevPoints","areaStyle","getAreaStyle","mergePath","areaOrLine","areaOrLineColorList","colorIndex","IndicatorAxis","radiusExtent","Radar","_indicatorAxes","indicatorModel","IntervalScale","indicatorIndex","cos","sin","sqrt","closestAxis","radian","minRadianDiff","closestAxisIdx","viewSize","isNumber","radarSeries","dummyScale","setInterval","alignScaleTicks","console","warn","radarList","registerVisual","seriesType","reset","setItemVisual","setVisual","isCoordinateSystemType","v2ApplyTransform","_roamTransformable","Transformable","_viewRect","rawTransform","centerCoord","_center","parsePercent","_updateCenterAndZoom","_zoom","getDefaultCenter","rawRect","getRoamTransform","rawTransformMatrix","roamTransform","defaultCenter","roamTransformable","_rawTransform","invTransform","dummyTransformable","getViewRect","getViewRectAfterRoam","nodeParsers","parseXML","svg","DOMParser","parseFromString","svgNode","nodeType","firstChild","nodeName","toLowerCase","nextSibling","INHERITABLE_STYLE_ATTRIBUTES_MAP","INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS","SELF_STYLE_ATTRIBUTES_MAP","SELF_STYLE_ATTRIBUTES_MAP_KEYS","SVGParser","_defs","_root","parse","xml","_defsUsePending","Group","viewBox","getAttribute","parseFloat","parseAttributes","viewBoxRect","viewBoxTransform","child","_parseNode","defs","defsUsePending","item","applyDefs","viewBoxArr","splitNumberSequence","makeViewBoxTransform","ignoreViewBox","elRoot","ignoreRootClip","setClipPath","Rect","xmlNode","parentGroup","isInDefs","isInText","namedFromForSub","parser_1","nameAttr","newNamed","parser","paintServerParsers","def","_parseText","TSpan","_textX","_textY","inheritStyle","parentSelfStyle","__selfStyle","textBaseline","zrTextBaseline","parentInheritedStyle","__inheritedStyle","zrTextAlign","applyTextAlignment","textStyle","fontSize","font","fontFamily","fontStyle","fontWeight","internalField","g","circle","Circle","ellipse","Ellipse","rx","ry","pointsArr","pointsStr","parsePoints","Polygon","polyline","Polyline","img","path","createFromString","parseInt","gradient","LinearGradient","parsePaintServerUnit","parseGradientColorStops","RadialGradient","global","stop","toLocaleLowerCase","offsetStr","offset","styleVals","parseInlineStyle","stopColor","colorStops","pointsString","list","onlyInlineStyle","isTextGroup","disp","inheritedStyle","selfStyle","transformOps_1","mt","transformRegex","str","valueArr","DEGREE_TO_ANGLE","sx","tan","sy","setLocalTransform","parseTransformAttribute","inheritableStyleResult","selfStyleResult","svgAttrName","attrValue","parseAttributeStyle","getFillStrokeStyle","lineDash","visibility","display","urlRegex","urlMatch","match","url","trim","numberReg","rawStr","styleRegex","styleRegResult","lastIndex","exec","svgStlAttr","zrInheritableStlAttr","zrSelfStlAttr","TMP_TRANSFORM","transformPoints","updateBBoxFromPoints","Region","calcCenter","GeoJSONPolygonGeometry","GeoJSONLineStringGeometry","GeoJSONRegion","largestGeo","largestGeoSize","signedArea","centroid","loopGeo","polygonContain","k","transformTo","interior","copy","cloneShallow","newRegion","GeoSVGRegion","elOnlyForCalculate","_elOnlyForCalculate","mat","isGeoSVGGraphicRoot","REGION_AVAILABLE_SVG_TAG_MAP","createHashMap","GeoSVGResource","_usedGraphicMap","_freedGraphics","_mapName","_parsedXML","firstGraphic","_firstGraphic","_buildGraphic","_boundingRect","createRegions","_regions","svgXML","rootFromParse","assert","Error","message","svgWidth","svgHeight","bRectX","bRectY","bRectWidth","bRectHeight","calculatedBoundingRect","plain","hostKey","usedRootMap","pop","removeKey","decodeRings","encodeOffsets","encodeScale","c","decodeRing","coordinate","prevX","prevY","charCodeAt","parseGeoJSON","json","UTF8Encoding","jsonCompressed","UTF8Scale","features","feature","coordinates","decode","featureObj","properties","nanhaiName","coordsOffsetMap","GeoJSONResource","geoJSON","_parsedMap","_specialAreas","_geoJSON","JSON","Function","parsed","rawRegions","_parseToRegions","calculateBoundingRect","finalRegions","parseGeoJson","fixNanhai","coordFix","fixTextCoord","fixDiaoyuIsland","specialArea","storage","rawDef","rawSpecialAreas","dataIndexMapValueLength","valNumOrArrLengthMoreThan2","defaultKeyGetter","oldArr","newArr","oldKeyGetter","newKeyGetter","context","diffMode","_old","_new","_oldKeyGetter","_newKeyGetter","_diffModeMultiple","func","_add","_update","updateManyToOne","_updateManyToOne","updateOneToMany","_updateOneToMany","updateManyToMany","_updateManyToMany","_remove","_executeOneToOne","newDataIndexMap","oldDataKeyArr","Array","newDataKeyArr","_initIndexMap","oldKey","newIdxMapVal","newIdxMapValLen","shift","_performRestAdd","_executeMultiple","oldDataIndexMap","oldIdxMapVal","oldIdxMapValLen","i_1","newKey","idxMapValLen","arr","keyArr","keyGetterName","cbModeMultiple","idxMapVal","prepareInvertedIndex","getId","getIdNameFromStore","normalizeDimensions","transferProperties","cloneListForMapAndSample","makeIdFromName","CtorInt32Array","Int32Array","TRANSFERABLE_PROPERTIES","CLONE_PROPERTIES","SeriesData","dimensionsInput","_dimOmitted","_nameList","_idList","_visual","_layout","_itemVisuals","_itemLayouts","_graphicEls","_approximateExtent","_calculationInfo","TRANSFERABLE_METHODS","CHANGABLE_METHODS","DOWNSAMPLE_METHODS","assignStoreDimIdx","isSeriesDataSchema","isDimensionOmitted","_schema","dimensionInfos","dimensionNames","invertedIndicesMap","needsHasOwn","emptyObj","dimInfoInput","dimensionInfo","SeriesDimensionDefine","dimensionName","coordDim","coordDimIndex","otherDims","createInvertedIndices","_nameDimIdx","itemId","_idDimIdx","storeDimIndex","_dimInfos","_initGetDimensionInfo","_invertedIndicesMap","dimIdxToName_1","_dimIdxToName","dimName","getDimension","dimIdx","_recognizeDimIndex","sourceDimDef","getSourceDimension","dimInfo","_getDimInfo","getSourceDimensionIndex","_getStoreDimIndex","getDimensionInfo","undefined","getDimensionsOnCoord","_dimSummary","dataDimsOnCoord","dimensionsSummary","encodeFirstDimNotExtra","dims","encode","_store","initData","nameList","dimValueGetter","DataStore","provider","isSourceInstance","DefaultDataProvider","property","_nameRepeatCount","_doInit","summarizeDimensions","userOutput","appendData","appendValues","shouldMakeIdFromName","_shouldMakeIdFromName","_updateOrdinalMeta","sourceIdx","ordinalMeta","collectOrdinalMeta","getProvider","getSource","sourceFormat","SOURCE_FORMAT_TYPED_ARRAY","fillStorage","idList","SOURCE_FORMAT_ORIGINAL","pure","sharedDataItem","dataItem","getItem","isDataItemOption","convertOptionIdName","getApproximateExtent","getDataExtent","setApproximateExtent","getCalculationInfo","setCalculationInfo","rawIndex","getRawIndex","_getCategory","ordinal","getOrdinalMeta","categories","getByRawIndex","rawIdx","getIndices","getSum","getMedian","hasValue","dataDimIndicesOnCoord","indexOfRawIndex","rawIndexOf","indicesOfNearest","maxDistance","fCtx","dimIndices","filterSelf","selectRange","innerRange","mapArray","ctxCompat","modify","downSample","dimension","rate","sampleValue","sampleIndex","lttbDownSample","valueDimension","getRawDataItem","otherList","thisList","visual","kvObj","itemVisual","hasItemVisual","ensureUniqueItemVisual","itemVisuals","clearAllVisual","setLayout","getLayout","setItemLayout","clearItemLayouts","seriesIndex","setCommonECData","wrapMethod","methodName","injectFunction","originalMethod","__wrappedMethods","invertedIndices","original","nameDimIdx","idDimIdx","nameRepeatCount","nmCnt","DimensionUserOuput","dimRequest","_encode","fullDimensions","_getFullDimensionNames","_cachedDimNames","makeOutputDimensionNames","schema","summary","notExtraCoordDimMap","defaultedLabel","defaultedTooltip","userOutputEncode","dimType","dimItem","getOrCreateEncodeArr","isExtraCoord","defaultTooltip","VISUAL_DIMENSIONS","otherDim","encodeArr","dimArr","encodeLabel","encodeTooltip","tooltip","getDimensionTypeByAxis","isEC4CompatibleStyle","elType","hasOwnTextContentOption","hasOwnTextConfig","legacy","convertFromEC4CompatibleStyle","hostStyle","isNormal","textContentStyle","srcStyle","rich","textFill","textStroke","hasOwnPos","textPosition","textOffset","textRotation","textDistance","convertEC4CompatibleRichItem","richItem","textFont","textStrokeWidth","lineHeight","textLineHeight","textWidth","textHeight","backgroundColor","textBackgroundColor","padding","textPadding","textBorderColor","textBorderWidth","borderRadius","textBorderRadius","shadowColor","textBoxShadowColor","shadowBlur","textBoxShadowBlur","shadowOffsetX","textBoxShadowOffsetX","shadowOffsetY","textBoxShadowOffsetY","convertToEC4StyleForCustomSerise","itemStl","txStl","txCfg","isInside","hostFill","convertToEC4RichItem","textFillNotSet","insideFill","insideStroke","outsideFill","outsideStroke","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","CATEGORY_DEFAULT_VISUAL_INDEX","VisualMapping","mappingMethod","visualType","_normalizeData","normalizers","visualHandler","visualHandlers","applyVisual","getColorMapper","_normalizedToVisual","normalizeVisualRange","pieceList","hasSpecialVisual","piece","originIndex","preprocessForPiecewise","categoryMap","cate","visualArr_1","setVisualToOption","preprocessForSpecifiedCategory","dataExtent","mapValueToVisual","normalized","getNormalizer","listVisualTypes","isValidType","eachVisual","mapVisual","isPrimary","newVisual","newVal","retrieveVisuals","hasVisual","ret","prepareVisualTypes","visualTypes","types_1","type1","type2","dependsOn","visualType1","visualType2","findPieceIndex","findClosestWhenOutside","possibleI","pieceValue","updatePossible","close_1","close","littleThan","newAbs","makeApplyVisual","isNormalized","doMapCategory","returnRGBArray","zrColor","parsedVisual","linear","category","piecewise","getSpecifiedVisual","fixed","doMapFixed","colorHue","makePartialColorVisualHandler","colorSaturation","colorLightness","colorAlpha","createNormalizedToNumericVisual","getter","setter","doMapToArray","visualArr","applyValue","colorChannel","linearMap","sourceExtent","pieceIndex","EPSILON","isAroundEqual","windingLine","p0"],"sourceRoot":""}