"use strict";(self.webpackChunkmaterial_ui_cra=self.webpackChunkmaterial_ui_cra||[]).push([[864],{864:(e,t,n)=>{n.r(t),n.d(t,{BarChart:()=>at,BoxplotChart:()=>no,CandlestickChart:()=>To,CustomChart:()=>Wl,EffectScatterChart:()=>Eo,FunnelChart:()=>lr,GaugeChart:()=>tr,GraphChart:()=>Yi,HeatmapChart:()=>ss,LineChart:()=>Ie,LinesChart:()=>es,MapChart:()=>rn,ParallelChart:()=>Sr,PictorialBarChart:()=>Cs,PieChart:()=>At,RadarChart:()=>Yt,SankeyChart:()=>Br,ScatterChart:()=>Rt,SunburstChart:()=>$s,ThemeRiverChart:()=>Rs,TreeChart:()=>ea,TreemapChart:()=>Ja});var a=n(8609),i=n(1223),r=n(6825),o=n(6926),s=n(5742),l=n(1726),u=n(6443),d=n(2481),h=n(2269),c=n(6817);function p(e,t){(0,l.Ld)(e)||(e=(0,l.nx)(e));var n=(t=t||{}).coordDimensions||[],a=t.dimensionsDefine||e.dimensionsDefine||[],r=(0,i.kW)(),p=[],f=function(e,t,n,a){var r=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,a||0);return(0,i.S6)(t,(function(e){var t;(0,i.Kn)(e)&&(t=e.dimsDef)&&(r=Math.max(r,t.length))})),r}(e,n,a,t.dimensionsCount),y=t.canOmitUnusedDimensions&&(0,c.Jl)(f),m=a===e.dimensionsDefine,v=m?(0,c.Jj)(e):(0,c.v5)(a),x=t.encodeDefine;!x&&t.encodeDefaulter&&(x=t.encodeDefaulter(e,f));for(var S=(0,i.kW)(x),b=new u.hG(f),_=0;_<b.length;_++)b[_]=-1;function I(e){var t=b[e];if(t<0){var n=a[e],r=(0,i.Kn)(n)?n:{name:n},o=new s.Z,l=r.name;null!=l&&null!=v.get(l)&&(o.name=o.displayName=l),null!=r.type&&(o.type=r.type),null!=r.displayName&&(o.displayName=r.displayName);var u=p.length;return b[e]=u,o.storeDimIndex=e,p.push(o),o}return p[t]}if(!y)for(_=0;_<f;_++)I(_);S.each((function(e,t){var n=(0,d.kF)(e).slice();if(1===n.length&&!(0,i.HD)(n[0])&&n[0]<0)S.set(t,!1);else{var a=S.set(t,[]);(0,i.S6)(n,(function(e,n){var r=(0,i.HD)(e)?v.get(e):e;null!=r&&r<f&&(a[n]=r,M(I(r),t,n))}))}}));var w=0;function M(e,t,n){null!=o.f7.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,r.set(t,!0))}(0,i.S6)(n,(function(e){var t,n,a,r;if((0,i.HD)(e))t=e,r={};else{t=(r=e).name;var o=r.ordinalMeta;r.ordinalMeta=null,(r=(0,i.l7)({},r)).ordinalMeta=o,n=r.dimsDef,a=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}var s=S.get(t);if(!1!==s){if(!(s=(0,d.kF)(s)).length)for(var l=0;l<(n&&n.length||1);l++){for(;w<f&&null!=I(w).coordDim;)w++;w<f&&s.push(w++)}(0,i.S6)(s,(function(e,o){var s=I(e);if(m&&null!=r.type&&(s.type=r.type),M((0,i.ce)(s,r),t,o),null==s.name&&n){var l=n[o];!(0,i.Kn)(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}a&&(0,i.ce)(s.otherDims,a)}))}}));var D=t.generateCoord,A=t.generateCoordCount,L=null!=A;A=D?A||1:0;var T=D||"value";function C(e){null==e.name&&(e.name=e.coordDim)}if(y)(0,i.S6)(p,(function(e){C(e)})),p.sort((function(e,t){return e.storeDimIndex-t.storeDimIndex}));else for(var N=0;N<f;N++){var P=I(N);null==P.coordDim&&(P.coordDim=g(T,r,L),P.coordDimIndex=0,(!D||A<=0)&&(P.isExtraCoord=!0),A--),C(P),null!=P.type||(0,h.u7)(e,N)!==h.Dq.Must&&(!P.isExtraCoord||null==P.otherDims.itemName&&null==P.otherDims.seriesName)||(P.type="ordinal")}return function(e){for(var t=(0,i.kW)(),n=0;n<e.length;n++){var a=e[n],r=a.name,o=t.get(r)||0;o>0&&(a.name=r+(o-1)),o++,t.set(r,o)}}(p),new c.Eo({source:e,dimensions:p,fullDimensionCount:f,dimensionOmitted:y})}function g(e,t,n){if(n||t.hasKey(e)){for(var a=0;t.hasKey(e+a);)a++;e+=a}return t.set(e,!0),e}var f=n(160),y=n(2765),m=function(e){this.coordSysDims=[],this.axisMap=(0,i.kW)(),this.categoryAxisMap=(0,i.kW)(),this.coordSysName=e};var v={cartesian2d:function(e,t,n,a){var i=e.getReferringComponents("xAxis",d.C6).models[0],r=e.getReferringComponents("yAxis",d.C6).models[0];t.coordSysDims=["x","y"],n.set("x",i),n.set("y",r),x(i)&&(a.set("x",i),t.firstCategoryDimIndex=0),x(r)&&(a.set("y",r),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,a){var i=e.getReferringComponents("singleAxis",d.C6).models[0];t.coordSysDims=["single"],n.set("single",i),x(i)&&(a.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,n,a){var i=e.getReferringComponents("polar",d.C6).models[0],r=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",r),n.set("angle",o),x(r)&&(a.set("radius",r),t.firstCategoryDimIndex=0),x(o)&&(a.set("angle",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,a){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,a){var r=e.ecModel,o=r.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=o.dimensions.slice();(0,i.S6)(o.parallelAxisIndex,(function(e,i){var o=r.getComponent("parallelAxis",e),l=s[i];n.set(l,o),x(o)&&(a.set(l,o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=i))}))}};function x(e){return"category"===e.get("type")}var S=n(1125);const b=function(e,t,n){n=n||{};var a,s=t.getSourceManager(),u=!1;e?(u=!0,a=(0,l.nx)(e)):u=(a=s.getSource()).sourceFormat===o.cy;var c=function(e){var t=e.get("coordinateSystem"),n=new m(t),a=v[t];if(a)return a(e,n,n.axisMap,n.categoryAxisMap),n}(t),g=function(e,t){var n,a=e.get("coordinateSystem"),r=y.Z.get(a);return t&&t.coordSysDims&&(n=i.UI(t.coordSysDims,(function(e){var n={name:e},a=t.axisMap.get(e);if(a){var i=a.get("type");n.type=(0,f.T)(i)}return n}))),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),n}(t,c),x=n.useEncodeDefaulter,b=i.mf(x)?x:x?i.WA(h.pY,g,t):null,_=p(a,{coordDimensions:g,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:b,canOmitUnusedDimensions:!u}),I=function(e,t,n){var a,r;return n&&i.S6(e,(function(e,i){var o=e.coordDim,s=n.categoryAxisMap.get(o);s&&(null==a&&(a=i),e.ordinalMeta=s.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(r=!0)})),r||null==a||(e[a].otherDims.itemName=0),a}(_.dimensions,n.createInvertedIndices,c),w=u?null:s.getSharedDataStore(_),M=(0,S.BM)(t,{schema:_,store:w}),D=new r.Z(_,t);D.setCalculationInfo(M);var A=null!=I&&function(e){if(e.sourceFormat===o.cy){var t=function(e){var t=0;for(;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return!i.kJ((0,d.C4)(t))}}(a)?function(e,t,n,a){return a===I?n:this.defaultDimValueGetter(e,t,n,a)}:null;return D.hasItemOption=!1,D.initData(u?a:w,null,A),D};var _=n(1455),I=n(6523),w=n(1434),M=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e){return b(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new w.Z,n=(0,I.th)("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(n),n.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),r="none"===a?"circle":a,o=.8*e.itemHeight,s=(0,I.th)(r,(e.itemWidth-o)/2,(e.itemHeight-o)/2,o,o,e.itemStyle.fill);t.add(s),s.setStyle(e.itemStyle);var l="inherit"===e.iconRotate?i:e.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([e.itemWidth/2,e.itemHeight/2]),r.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(_.Z);const D=M;var A=n(5844),L=n(915);function T(e,t,n){var a=e.getBaseAxis(),r=e.getOtherAxis(a),o=function(e,t){var n=0,a=e.scale.getExtent();"start"===t?n=a[0]:"end"===t?n=a[1]:(0,i.hj)(t)&&!isNaN(t)?n=t:a[0]>0?n=a[0]:a[1]<0&&(n=a[1]);return n}(r,n),s=a.dim,l=r.dim,u=t.mapDimension(l),d=t.mapDimension(s),h="x"===l||"radius"===l?1:0,c=(0,i.UI)(e.dimensions,(function(e){return t.mapDimension(e)})),p=!1,g=t.getCalculationInfo("stackResultDimension");return(0,S.M)(t,c[0])&&(p=!0,c[0]=g),(0,S.M)(t,c[1])&&(p=!0,c[1]=g),{dataDimsForPoint:c,valueStart:o,valueAxisDim:l,baseAxisDim:s,stacked:!!p,valueDim:u,baseDim:d,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function C(e,t,n,a){var i=NaN;e.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),a)),isNaN(i)&&(i=e.valueStart);var r=e.baseDataOffset,o=[];return o[r]=n.get(e.baseDim,a),o[1-r]=i,t.dataToPoint(o)}var N=n(9275);var P=n(7373),k=n(7900),E=n(6782),Z=n(2207),R=n(3560),V=n(4035),O=Math.min,G=Math.max;function z(e,t){return isNaN(e)||isNaN(t)}function B(e,t,n,a,i,r,o,s,l){for(var u,d,h,c,p,g,f=n,y=0;y<a;y++){var m=t[2*f],v=t[2*f+1];if(f>=i||f<0)break;if(z(m,v)){if(l){f+=r;continue}break}if(f===n)e[r>0?"moveTo":"lineTo"](m,v),h=m,c=v;else{var x=m-u,S=v-d;if(x*x+S*S<.5){f+=r;continue}if(o>0){for(var b=f+r,_=t[2*b],I=t[2*b+1];_===m&&I===v&&y<a;)y++,f+=r,_=t[2*(b+=r)],I=t[2*b+1],x=(m=t[2*f])-u,S=(v=t[2*f+1])-d;var w=y+1;if(l)for(;z(_,I)&&w<a;)w++,_=t[2*(b+=r)],I=t[2*b+1];var M=.5,D=0,A=0,L=void 0,T=void 0;if(w>=a||z(_,I))p=m,g=v;else{D=_-u,A=I-d;var C=m-u,N=_-m,P=v-d,k=I-v,E=void 0,Z=void 0;if("x"===s){var R=D>0?1:-1;p=m-R*(E=Math.abs(C))*o,g=v,L=m+R*(Z=Math.abs(N))*o,T=v}else if("y"===s){var V=A>0?1:-1;p=m,g=v-V*(E=Math.abs(P))*o,L=m,T=v+V*(Z=Math.abs(k))*o}else E=Math.sqrt(C*C+P*P),p=m-D*o*(1-(M=(Z=Math.sqrt(N*N+k*k))/(Z+E))),g=v-A*o*(1-M),T=v+A*o*M,L=O(L=m+D*o*M,G(_,m)),T=O(T,G(I,v)),L=G(L,O(_,m)),g=v-(A=(T=G(T,O(I,v)))-v)*E/Z,p=O(p=m-(D=L-m)*E/Z,G(u,m)),g=O(g,G(d,v)),L=m+(D=m-(p=G(p,O(u,m))))*Z/E,T=v+(A=v-(g=G(g,O(d,v))))*Z/E}e.bezierCurveTo(h,c,p,g,m,v),h=L,c=T}else e.lineTo(m,v)}u=m,d=v,f+=r}return y}var W=function(){this.smooth=0,this.smoothConstraint=!0},F=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polyline",n}return(0,a.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new W},t.prototype.buildPath=function(e,t){var n=t.points,a=0,i=n.length/2;if(t.connectNulls){for(;i>0&&z(n[2*i-2],n[2*i-1]);i--);for(;a<i&&z(n[2*a],n[2*a+1]);a++);}for(;a<i;)a+=B(e,n,a,i,i,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,a,i=this.path.data,r=R.Z.CMD,o="x"===t,s=[],l=0;l<i.length;){var u=void 0,d=void 0,h=void 0,c=void 0,p=void 0,g=void 0,f=void 0;switch(i[l++]){case r.M:n=i[l++],a=i[l++];break;case r.L:if(u=i[l++],d=i[l++],(f=o?(e-n)/(u-n):(e-a)/(d-a))<=1&&f>=0){var y=o?(d-a)*f+a:(u-n)*f+n;return o?[e,y]:[y,e]}n=u,a=d;break;case r.C:u=i[l++],d=i[l++],h=i[l++],c=i[l++],p=i[l++],g=i[l++];var m=o?(0,V.kD)(n,u,h,p,e,s):(0,V.kD)(a,d,c,g,e,s);if(m>0)for(var v=0;v<m;v++){var x=s[v];if(x<=1&&x>=0){y=o?(0,V.af)(a,d,c,g,x):(0,V.af)(n,u,h,p,x);return o?[e,y]:[y,e]}}n=p,a=g}}},t}(Z.ZP),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t}(W),U=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polygon",n}return(0,a.ZT)(t,e),t.prototype.getDefaultShape=function(){return new H},t.prototype.buildPath=function(e,t){var n=t.points,a=t.stackedOnPoints,i=0,r=n.length/2,o=t.smoothMonotone;if(t.connectNulls){for(;r>0&&z(n[2*r-2],n[2*r-1]);r--);for(;i<r&&z(n[2*i],n[2*i+1]);i++);}for(;i<r;){var s=B(e,n,i,r,r,1,t.smooth,o,t.connectNulls);B(e,a,i+s-1,s,r,-1,t.stackedOnSmooth,o,t.connectNulls),i+=s+1,e.closePath()}},t}(Z.ZP),X=n(6332),Y=n(5874),j=n(6449),J=n(4644);function q(e,t,n,a,r){var o=e.getArea(),s=o.x,l=o.y,u=o.width,d=o.height,h=n.get(["lineStyle","width"])||2;s-=h/2,l-=h/2,u+=h,d+=h,u=Math.ceil(u),s!==Math.floor(s)&&(s=Math.floor(s),u++);var c=new Y.Z({shape:{x:s,y:l,width:u,height:d}});if(t){var p=e.getBaseAxis(),g=p.isHorizontal(),f=p.inverse;g?(f&&(c.shape.x+=u),c.shape.width=0):(f||(c.shape.y+=d),c.shape.height=0);var y=(0,i.mf)(r)?function(e){r(e,c)}:null;k.KZ(c,{shape:{width:u,height:d,x:s,y:l}},n,null,a,y)}return c}function K(e,t,n){var a=e.getArea(),i=(0,J.NM)(a.r0,1),r=(0,J.NM)(a.r,1),o=new j.C({shape:{cx:(0,J.NM)(e.cx,1),cy:(0,J.NM)(e.cy,1),r0:i,r:r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});t&&("angle"===e.getBaseAxis().dim?o.shape.endAngle=a.startAngle:o.shape.r=i,k.KZ(o,{shape:{endAngle:a.endAngle,r:r}},n));return o}function Q(e,t,n,a,i){return e?"polar"===e.type?K(e,t,n):"cartesian2d"===e.type?q(e,t,n,a,i):null:null}var $=n(2293),ee=n(7357),te=n(9298),ne=n(1411),ae=n(4694),ie=n(5911),re=n(5329);function oe(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function se(e){for(var t=1/0,n=1/0,a=-1/0,i=-1/0,r=0;r<e.length;){var o=e[r++],s=e[r++];isNaN(o)||(t=Math.min(o,t),a=Math.max(o,a)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[t,n],[a,i]]}function le(e,t){var n=se(e),a=n[0],i=n[1],r=se(t),o=r[0],s=r[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function ue(e){return i.hj(e)?e:e?.5:0}function de(e,t,n,a){var i=t.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],s=0,l=[],u=[],d=[],h=[];if(a){for(s=0;s<e.length;s+=2)isNaN(e[s])||isNaN(e[s+1])||h.push(e[s],e[s+1]);e=h}for(s=0;s<e.length-2;s+=2)switch(d[0]=e[s+2],d[1]=e[s+3],u[0]=e[s],u[1]=e[s+1],o.push(u[0],u[1]),n){case"end":l[r]=d[r],l[1-r]=u[1-r],o.push(l[0],l[1]);break;case"middle":var c=(u[r]+d[r])/2,p=[];l[r]=p[r]=c,l[1-r]=u[1-r],p[1-r]=d[1-r],o.push(l[0],l[1]),o.push(p[0],p[1]);break;default:l[r]=u[r],l[1-r]=d[1-r],o.push(l[0],l[1])}return o.push(e[s++],e[s++]),o}function he(e,t,n){var a=e.getVisual("visualMeta");if(a&&a.length&&e.count()&&"cartesian2d"===t.type){for(var r,o,s=a.length-1;s>=0;s--){var l=e.getDimensionInfo(a[s].dimension);if("x"===(r=l&&l.coordDim)||"y"===r){o=a[s];break}}if(o){var u=t.getAxis(r),d=i.UI(o.stops,(function(e){return{coord:u.toGlobalCoord(u.dataToCoord(e.value)),color:e.color}})),h=d.length,c=o.outerColors.slice();h&&d[0].coord>d[h-1].coord&&(d.reverse(),c.reverse());var p=function(e,t){var n,a,i=[],r=e.length;function o(e,t,n){var a=e.coord,i=(n-a)/(t.coord-a);return{coord:n,color:(0,re.t7)(i,[e.color,t.color])}}for(var s=0;s<r;s++){var l=e[s],u=l.coord;if(u<0)n=l;else{if(u>t){a?i.push(o(a,l,t)):n&&i.push(o(n,l,0),o(n,l,t));break}n&&(i.push(o(n,l,0)),n=null),i.push(l),a=l}}return i}(d,"x"===r?n.getWidth():n.getHeight()),g=p.length;if(!g&&h)return d[0].coord<0?c[1]?c[1]:d[h-1].color:c[0]?c[0]:d[0].color;var f=p[0].coord-10,y=p[g-1].coord+10,m=y-f;if(m<.001)return"transparent";i.S6(p,(function(e){e.offset=(e.coord-f)/m})),p.push({offset:g?p[g-1].offset:.5,color:c[1]||"transparent"}),p.unshift({offset:g?p[0].offset:.5,color:c[0]||"transparent"});var v=new P.Z(0,0,0,0,p,!0);return v[r]=f,v[r+"2"]=y,v}}}function ce(e,t,n){var a=e.get("showAllSymbol"),r="auto"===a;if(!a||r){var o=n.getAxesByScale("ordinal")[0];if(o&&(!r||!function(e,t){var n=e.getExtent(),a=Math.abs(n[1]-n[0])/e.scale.count();isNaN(a)&&(a=0);for(var i=t.count(),r=Math.max(1,Math.round(i/5)),o=0;o<i;o+=r)if(1.5*L.Z.getSymbolSize(t,o)[e.isHorizontal()?1:0]>a)return!1;return!0}(o,t))){var s=t.mapDimension(o.dim),l={};return i.S6(o.getViewLabels(),(function(e){var t=o.scale.getRawOrdinalNumber(e.tickValue);l[t]=1})),function(e){return!l.hasOwnProperty(t.get(s,e))}}}}function pe(e,t){return[e[2*t],e[2*t+1]]}function ge(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<ee.L1.length;t++)if(e.get([ee.L1[t],"endLabel","show"]))return!0;return!1}function fe(e,t,n,a){if((0,$.H)(t,"cartesian2d")){var i=a.getModel("endLabel"),r=i.get("valueAnimation"),o=a.getData(),s={lastFrameIndex:0},l=ge(a)?function(n,a){e._endLabelOnDuring(n,a,o,s,r,i,t)}:null,u=t.getBaseAxis().isHorizontal(),d=q(t,n,a,(function(){var t=e._endLabel;t&&n&&null!=s.originalX&&t.attr({x:s.originalX,y:s.originalY})}),l);if(!a.get("clip",!0)){var h=d.shape,c=Math.max(h.width,h.height);u?(h.y-=c,h.height+=2*c):(h.x-=c,h.width+=2*c)}return l&&l(1,d),d}return K(t,n,a)}var ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.init=function(){var e=new w.Z,t=new A.Z;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},t.prototype.render=function(e,t,n){var a=this,r=e.coordinateSystem,o=this.group,s=e.getData(),l=e.getModel("lineStyle"),u=e.getModel("areaStyle"),d=s.getLayout("points")||[],h="polar"===r.type,c=this._coordSys,p=this._symbolDraw,g=this._polyline,f=this._polygon,y=this._lineGroup,m=!t.ssr&&e.get("animation"),v=!u.isEmpty(),x=u.get("origin"),S=T(r,s,x),b=v&&function(e,t,n){if(!n.valueDim)return[];for(var a=t.count(),i=(0,N.o)(2*a),r=0;r<a;r++){var o=C(n,e,t,r);i[2*r]=o[0],i[2*r+1]=o[1]}return i}(r,s,S),_=e.get("showSymbol"),I=e.get("connectNulls"),w=_&&!h&&ce(e,s,r),M=this._data;M&&M.eachItemGraphicEl((function(e,t){e.__temp&&(o.remove(e),M.setItemGraphicEl(t,null))})),_||p.remove(),o.add(y);var D,A=!h&&e.get("step");r&&r.getArea&&e.get("clip",!0)&&(null!=(D=r.getArea()).width?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var L=he(s,r,n)||s.getVisual("style")[s.getVisual("drawType")];if(g&&c.type===r.type&&A===this._step){v&&!f?f=this._newPolygon(d,b):f&&!v&&(y.remove(f),f=this._polygon=null),h||this._initOrUpdateEndLabel(e,r,(0,ie.Lz)(L));var P=y.getClipPath();if(P){var E=fe(this,r,!1,e);k.KZ(P,{shape:E.shape},e)}else y.setClipPath(fe(this,r,!0,e));_&&p.updateData(s,{isIgnore:w,clipShape:D,disableAnimation:!0,getSymbolPoint:function(e){return[d[2*e],d[2*e+1]]}}),oe(this._stackedOnPoints,b)&&oe(this._points,d)||(m?this._doUpdateAnimation(s,b,r,n,A,x,I):(A&&(d=de(d,r,A,I),b&&(b=de(b,r,A,I))),g.setShape({points:d}),f&&f.setShape({points:d,stackedOnPoints:b})))}else _&&p.updateData(s,{isIgnore:w,clipShape:D,disableAnimation:!0,getSymbolPoint:function(e){return[d[2*e],d[2*e+1]]}}),m&&this._initSymbolLabelAnimation(s,r,D),A&&(d=de(d,r,A,I),b&&(b=de(b,r,A,I))),g=this._newPolyline(d),v?f=this._newPolygon(d,b):f&&(y.remove(f),f=this._polygon=null),h||this._initOrUpdateEndLabel(e,r,(0,ie.Lz)(L)),y.setClipPath(fe(this,r,!0,e));var Z=e.getModel("emphasis"),R=Z.get("focus"),V=Z.get("blurScope"),O=Z.get("disabled");(g.useStyle(i.ce(l.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),(0,ee.WO)(g,e,"lineStyle"),g.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"]))&&(g.getState("emphasis").style.lineWidth=+g.style.lineWidth+1);(0,ae.A)(g).seriesIndex=e.seriesIndex,(0,ee.k5)(g,R,V,O);var G=ue(e.get("smooth")),z=e.get("smoothMonotone");if(g.setShape({smooth:G,smoothMonotone:z,connectNulls:I}),f){var B=s.getCalculationInfo("stackedOnSeries"),W=0;f.useStyle(i.ce(u.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),B&&(W=ue(B.get("smooth"))),f.setShape({smooth:G,stackedOnSmooth:W,smoothMonotone:z,connectNulls:I}),(0,ee.WO)(f,e,"areaStyle"),(0,ae.A)(f).seriesIndex=e.seriesIndex,(0,ee.k5)(f,R,V,O)}var F=function(e){a._changePolyState(e)};s.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=F)})),this._polyline.onHoverStateChange=F,this._data=s,this._coordSys=r,this._stackedOnPoints=b,this._points=d,this._step=A,this._valueOrigin=x,e.get("triggerLineEvent")&&(this.packEventData(e,g),f&&this.packEventData(e,f))},t.prototype.packEventData=function(e,t){(0,ae.A)(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,n,a){var i=e.getData(),r=d.gO(i,a);if(this._changePolyState("emphasis"),!(r instanceof Array)&&null!=r&&r>=0){var o=i.getLayout("points"),s=i.getItemGraphicEl(r);if(!s){var l=o[2*r],u=o[2*r+1];if(isNaN(l)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;var h=e.get("zlevel")||0,c=e.get("z")||0;(s=new L.Z(i,r)).x=l,s.y=u,s.setZ(h,c);var p=s.getSymbolPath().getTextContent();p&&(p.zlevel=h,p.z=c,p.z2=this._polyline.z2+1),s.__temp=!0,i.setItemGraphicEl(r,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else X.Z.prototype.highlight.call(this,e,t,n,a)},t.prototype.downplay=function(e,t,n,a){var i=e.getData(),r=d.gO(i,a);if(this._changePolyState("normal"),null!=r&&r>=0){var o=i.getItemGraphicEl(r);o&&(o.__temp?(i.setItemGraphicEl(r,null),this.group.remove(o)):o.downplay())}else X.Z.prototype.downplay.call(this,e,t,n,a)},t.prototype._changePolyState=function(e){var t=this._polygon;(0,ee.Gl)(this._polyline,e),t&&(0,ee.Gl)(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new F({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new U({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,t,n){var a,r,o=t.getBaseAxis(),s=o.inverse;"cartesian2d"===t.type?(a=o.isHorizontal(),r=!1):"polar"===t.type&&(a="angle"===o.dim,r=!0);var l=e.hostModel,u=l.get("animationDuration");i.mf(u)&&(u=u(null));var d=l.get("animationDelay")||0,h=i.mf(d)?d(null):d;e.eachItemGraphicEl((function(e,o){var l=e;if(l){var c=[e.x,e.y],p=void 0,g=void 0,f=void 0;if(n)if(r){var y=n,m=t.pointToCoord(c);a?(p=y.startAngle,g=y.endAngle,f=-m[1]/180*Math.PI):(p=y.r0,g=y.r,f=m[0])}else{var v=n;a?(p=v.x,g=v.x+v.width,f=e.x):(p=v.y+v.height,g=v.y,f=e.y)}var x=g===p?0:(f-p)/(g-p);s&&(x=1-x);var S=i.mf(d)?d(o):u*x+h,b=l.getSymbolPath(),_=b.getTextContent();l.attr({scaleX:0,scaleY:0}),l.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:S}),_&&_.animateFrom({style:{opacity:0}},{duration:300,delay:S}),b.disableLabelAnimation=!0}}))},t.prototype._initOrUpdateEndLabel=function(e,t,n){var a=e.getModel("endLabel");if(ge(e)){var i=e.getData(),r=this._polyline,o=i.getLayout("points");if(!o)return r.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new E.ZP({z2:200})).ignoreClip=!0,r.setTextContent(this._endLabel),r.disableLabelAnimation=!0);var l=function(e){for(var t,n,a=e.length/2;a>0&&(t=e[2*a-2],n=e[2*a-1],isNaN(t)||isNaN(n));a--);return a-1}(o);l>=0&&((0,te.ni)(r,(0,te.k3)(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:l,defaultText:function(e,t,n){return null!=n?(0,ne.O)(i,n):(0,ne.H)(i,e)},enableTextSetter:!0},function(e,t){var n=t.getBaseAxis(),a=n.isHorizontal(),i=n.inverse,r=a?i?"right":"left":"center",o=a?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||r,verticalAlign:e.get("verticalAlign")||o}}}(a,t)),r.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,n,a,i,r,o){var s=this._endLabel,l=this._polyline;if(s){e<1&&null==a.originalX&&(a.originalX=s.x,a.originalY=s.y);var u=n.getLayout("points"),h=n.hostModel,c=h.get("connectNulls"),p=r.get("precision"),g=r.get("distance")||0,f=o.getBaseAxis(),y=f.isHorizontal(),m=f.inverse,v=t.shape,x=m?y?v.x:v.y+v.height:y?v.x+v.width:v.y,S=(y?g:0)*(m?-1:1),b=(y?0:-g)*(m?-1:1),_=y?"x":"y",I=function(e,t,n){for(var a,i,r=e.length/2,o="x"===n?0:1,s=0,l=-1,u=0;u<r;u++)if(i=e[2*u+o],!isNaN(i)&&!isNaN(e[2*u+1-o]))if(0!==u){if(a<=t&&i>=t||a>=t&&i<=t){l=u;break}s=u,a=i}else a=i;return{range:[s,l],t:(t-a)/(i-a)}}(u,x,_),w=I.range,M=w[1]-w[0],D=void 0;if(M>=1){if(M>1&&!c){var A=pe(u,w[0]);s.attr({x:A[0]+S,y:A[1]+b}),i&&(D=h.getRawValue(w[0]))}else{(A=l.getPointOn(x,_))&&s.attr({x:A[0]+S,y:A[1]+b});var L=h.getRawValue(w[0]),T=h.getRawValue(w[1]);i&&(D=d.pk(n,p,L,T,I.t))}a.lastFrameIndex=w[0]}else{var C=1===e||a.lastFrameIndex>0?w[0]:0;A=pe(u,C);i&&(D=h.getRawValue(C)),s.attr({x:A[0]+S,y:A[1]+b})}if(i){var N=(0,te.qA)(s);"function"===typeof N.setLabelText&&N.setLabelText(D)}}},t.prototype._doUpdateAnimation=function(e,t,n,a,i,r,o){var s=this._polyline,l=this._polygon,u=e.hostModel,d=function(e,t,n,a,i,r,o,s){for(var l=function(e,t){var n=[];return t.diff(e).add((function(e){n.push({cmd:"+",idx:e})})).update((function(e,t){n.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){n.push({cmd:"-",idx:e})})).execute(),n}(e,t),u=[],d=[],h=[],c=[],p=[],g=[],f=[],y=T(i,t,o),m=e.getLayout("points")||[],v=t.getLayout("points")||[],x=0;x<l.length;x++){var S=l[x],b=!0,_=void 0,I=void 0;switch(S.cmd){case"=":_=2*S.idx,I=2*S.idx1;var w=m[_],M=m[_+1],D=v[I],A=v[I+1];(isNaN(w)||isNaN(M))&&(w=D,M=A),u.push(w,M),d.push(D,A),h.push(n[_],n[_+1]),c.push(a[I],a[I+1]),f.push(t.getRawIndex(S.idx1));break;case"+":var L=S.idx,P=y.dataDimsForPoint,k=i.dataToPoint([t.get(P[0],L),t.get(P[1],L)]);I=2*L,u.push(k[0],k[1]),d.push(v[I],v[I+1]);var E=C(y,i,t,L);h.push(E[0],E[1]),c.push(a[I],a[I+1]),f.push(t.getRawIndex(L));break;case"-":b=!1}b&&(p.push(S),g.push(g.length))}g.sort((function(e,t){return f[e]-f[t]}));var Z=u.length,R=(0,N.o)(Z),V=(0,N.o)(Z),O=(0,N.o)(Z),G=(0,N.o)(Z),z=[];for(x=0;x<g.length;x++){var B=g[x],W=2*x,F=2*B;R[W]=u[F],R[W+1]=u[F+1],V[W]=d[F],V[W+1]=d[F+1],O[W]=h[F],O[W+1]=h[F+1],G[W]=c[F],G[W+1]=c[F+1],z[x]=p[B]}return{current:R,next:V,stackedOnCurrent:O,stackedOnNext:G,status:z}}(this._data,e,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin),h=d.current,c=d.stackedOnCurrent,p=d.next,g=d.stackedOnNext;if(i&&(h=de(d.current,n,i,o),c=de(d.stackedOnCurrent,n,i,o),p=de(d.next,n,i,o),g=de(d.stackedOnNext,n,i,o)),le(h,p)>3e3||l&&le(c,g)>3e3)return s.stopAnimation(),s.setShape({points:p}),void(l&&(l.stopAnimation(),l.setShape({points:p,stackedOnPoints:g})));s.shape.__points=d.current,s.shape.points=h;var f={shape:{points:p}};d.current!==h&&(f.shape.__points=d.next),s.stopAnimation(),k.D(s,f,u),l&&(l.setShape({points:h,stackedOnPoints:c}),l.stopAnimation(),k.D(l,{shape:{stackedOnPoints:g}},u),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points));for(var y=[],m=d.status,v=0;v<m.length;v++){if("="===m[v].cmd){var x=e.getItemGraphicEl(m[v].idx1);x&&y.push({el:x,ptIdx:v})}}s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var e=s.shape.__points,t=0;t<y.length;t++){var n=y[t].el,a=2*y[t].ptIdx;n.x=e[a],n.y=e[a+1],n.markRedraw()}}))},t.prototype.remove=function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(e,a){e.__temp&&(t.remove(e),n.setItemGraphicEl(a,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(X.Z);const me=ye;var ve=n(7487);function xe(e,t){return{seriesType:e,plan:(0,ve.Z)(),reset:function(e){var n=e.getData(),a=e.coordinateSystem,r=e.pipelineContext,o=t||r.large;if(a){var s=(0,i.UI)(a.dimensions,(function(e){return n.mapDimension(e)})).slice(0,2),l=s.length,u=n.getCalculationInfo("stackResultDimension");(0,S.M)(n,s[0])&&(s[0]=u),(0,S.M)(n,s[1])&&(s[1]=u);var d=n.getStore(),h=n.getDimensionIndex(s[0]),c=n.getDimensionIndex(s[1]);return l&&{progress:function(e,t){for(var n=e.end-e.start,i=o&&(0,N.o)(n*l),r=[],s=[],u=e.start,p=0;u<e.end;u++){var g=void 0;if(1===l){var f=d.get(h,u);g=a.dataToPoint(f,null,s)}else r[0]=d.get(h,u),r[1]=d.get(c,u),g=a.dataToPoint(r,null,s);o?(i[p++]=g[0],i[p++]=g[1]):t.setItemLayout(u,g.slice())}o&&t.setLayout("points",i)}}}}}}var Se={average:function(e){for(var t=0,n=0,a=0;a<e.length;a++)isNaN(e[a])||(t+=e[a],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},minmax:function(e){for(var t=-1/0,n=-1/0,a=0;a<e.length;a++){var i=e[a],r=Math.abs(i);r>t&&(t=r,n=i)}return isFinite(n)?n:NaN},nearest:function(e){return e[0]}},be=function(e){return Math.round(e.length/2)};function _e(e){return{seriesType:e,reset:function(e,t,n){var a=e.getData(),r=e.get("sampling"),o=e.coordinateSystem,s=a.count();if(s>10&&"cartesian2d"===o.type&&r){var l=o.getBaseAxis(),u=o.getOtherAxis(l),d=l.getExtent(),h=n.getDevicePixelRatio(),c=Math.abs(d[1]-d[0])*(h||1),p=Math.round(s/c);if(isFinite(p)&&p>1){"lttb"===r&&e.setData(a.lttbDownSample(a.mapDimension(u.dim),1/p));var g=void 0;(0,i.HD)(r)?g=Se[r]:(0,i.mf)(r)&&(g=r),g&&e.setData(a.downSample(a.mapDimension(u.dim),1/p,g,be))}}}}}function Ie(e){e.registerChartView(me),e.registerSeriesModel(D),e.registerLayout(xe("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,_e("line"))}var we=n(4445),Me=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){return b(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,n){var a=this.coordinateSystem;if(a&&a.clampData){var r=a.clampData(e),o=a.dataToPoint(r);if(n)(0,i.S6)(a.getAxes(),(function(e,n){if("category"===e.type&&null!=t){var a=e.getTicksCoords(),i=e.getTickModel().get("alignWithLabel"),s=r[n],l="x1"===t[n]||"y1"===t[n];if(l&&!i&&(s+=1),a.length<2)return;if(2===a.length)return void(o[n]=e.toGlobalCoord(e.getExtent()[l?1:0]));for(var u=void 0,d=void 0,h=1,c=0;c<a.length;c++){var p=a[c].coord,g=c===a.length-1?a[c-1].tickValue+h:a[c].tickValue;if(g===s){d=p;break}if(g<s)u=p;else if(null!=u&&g>s){d=(p+u)/2;break}1===c&&(h=g-a[0].tickValue)}null==d&&(u?u&&(d=a[a.length-1].coord):d=a[0].coord),o[n]=e.toGlobalCoord(d)}}));else{var s=this.getData(),l=s.getLayout("offset"),u=s.getLayout("size"),d=a.getBaseAxis().isHorizontal()?0:1;o[d]+=l+u/2}return o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(_.Z);_.Z.registerClass(Me);const De=Me;var Ae=n(495);const Le=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(){return b(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=(0,Ae.ZL)(De.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(De);var Te=n(4247),Ce=n(5127),Ne=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Pe=function(e){function t(t){var n=e.call(this,t)||this;return n.type="sausage",n}return(0,a.ZT)(t,e),t.prototype.getDefaultShape=function(){return new Ne},t.prototype.buildPath=function(e,t){var n=t.cx,a=t.cy,i=Math.max(t.r0||0,0),r=Math.max(t.r,0),o=.5*(r-i),s=i+o,l=t.startAngle,u=t.endAngle,d=t.clockwise,h=2*Math.PI,c=d?u-l<h:l-u<h;c||(l=u-(d?h:-h));var p=Math.cos(l),g=Math.sin(l),f=Math.cos(u),y=Math.sin(u);c?(e.moveTo(p*i+n,g*i+a),e.arc(p*s+n,g*s+a,o,-Math.PI+l,l,!d)):e.moveTo(p*r+n,g*r+a),e.arc(n,a,r,l,u,!d),e.arc(f*s+n,y*s+a,o,u-2*Math.PI,u-Math.PI,!d),0!==i&&e.arc(n,a,i,u,l,d)},t}(Z.ZP);const ke=Pe;var Ee=n(7417);function Ze(e,t,n){return t*Math.sin(e)*(n?-1:1)}function Re(e,t,n){return t*Math.cos(e)*(n?1:-1)}function Ve(e,t,n){var a=e.get("borderRadius");if(null==a)return n?{cornerRadius:0}:null;(0,i.kJ)(a)||(a=[a,a,a,a]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:(0,i.UI)(a,(function(e){return(0,Ee.GM)(e,r)}))}}var Oe=Math.max,Ge=Math.min;var ze=function(e){function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n,a){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var i=e.get("coordinateSystem");("cartesian2d"===i||"polar"===i)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){(0,Te.traverseElements)(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,n,a){var i,r=this.group,o=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?i=u.isHorizontal():"polar"===l.type&&(i="angle"===u.dim);var d=e.isAnimationEnabled()?e:null,h=function(e,t){var n=e.get("realtimeSort",!0),a=t.getBaseAxis();0;if(n&&"category"===a.type&&"cartesian2d"===t.type)return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}(e,l);h&&this._enableRealtimeSort(h,o,n);var c=e.get("clip",!0)||h,p=function(e,t){var n=e.getArea&&e.getArea();if((0,$.H)(e,"cartesian2d")){var a=e.getBaseAxis();if("category"!==a.type||!a.onBand){var i=t.getLayout("bandWidth");a.isHorizontal()?(n.x-=i,n.width+=2*i):(n.y-=i,n.height+=2*i)}}return n}(l,o);r.removeClipPath();var g=e.get("roundCap",!0),f=e.get("showBackground",!0),y=e.getModel("backgroundStyle"),m=y.get("borderRadius")||0,v=[],x=this._backgroundEls,S=a&&a.isInitSort,b=a&&"changeAxisOrder"===a.type;function _(e){var t=je[l.type](o,e),n=function(e,t,n){var a="polar"===e.type?j.C:Y.Z;return new a({shape:tt(t,n,e),silent:!0,z2:0})}(l,i,t);return n.useStyle(y.getItemStyle()),"cartesian2d"===l.type?n.setShape("r",m):n.setShape("cornerRadius",m),v[e]=n,n}o.diff(s).add((function(t){var n=o.getItemModel(t),a=je[l.type](o,t,n);if(f&&_(t),o.hasValue(t)&&Ye[l.type](a)){var s=!1;c&&(s=Be[l.type](p,a));var y=We[l.type](e,o,t,a,i,d,u.model,!1,g);h&&(y.forceLabelAnimation=!0),qe(y,o,t,n,a,e,i,"polar"===l.type),S?y.attr({shape:a}):h?Fe(h,d,y,a,t,i,!1,!1):(0,k.KZ)(y,{shape:a},e,t),o.setItemGraphicEl(t,y),r.add(y),y.ignore=s}})).update((function(t,n){var a=o.getItemModel(t),I=je[l.type](o,t,a);if(f){var w=void 0;0===x.length?w=_(n):((w=x[n]).useStyle(y.getItemStyle()),"cartesian2d"===l.type?w.setShape("r",m):w.setShape("cornerRadius",m),v[t]=w);var M=je[l.type](o,t),D=tt(i,M,l);(0,k.D)(w,{shape:D},d,t)}var A=s.getItemGraphicEl(n);if(o.hasValue(t)&&Ye[l.type](I)){var L=!1;if(c&&(L=Be[l.type](p,I))&&r.remove(A),A?(0,k.Zi)(A):A=We[l.type](e,o,t,I,i,d,u.model,!!A,g),h&&(A.forceLabelAnimation=!0),b){var T=A.getTextContent();if(T){var C=(0,te.qA)(T);null!=C.prevValue&&(C.prevValue=C.value)}}else qe(A,o,t,a,I,e,i,"polar"===l.type);S?A.attr({shape:I}):h?Fe(h,d,A,I,t,i,!0,b):(0,k.D)(A,{shape:I},e,t,null),o.setItemGraphicEl(t,A),A.ignore=L,r.add(A)}else r.remove(A)})).remove((function(t){var n=s.getItemGraphicEl(t);n&&(0,k.XD)(n,e,t)})).execute();var I=this._backgroundGroup||(this._backgroundGroup=new w.Z);I.removeAll();for(var M=0;M<v.length;++M)I.add(v[M]);r.add(I),this._backgroundEls=v,this._data=o},t.prototype._renderLarge=function(e,t,n){this._clear(),$e(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),$e(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&Q(e.coordinateSystem,!1,e),n=this.group;t?n.setClipPath(t):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,n){var a=this;if(t.count()){var i=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var r=function(e){var n=t.getItemGraphicEl(e),a=n&&n.shape;return a&&Math.abs(i.isHorizontal()?a.height:a.width)||0};this._onRendered=function(){a._updateSortWithinSameData(t,r,i,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,n){var a=[];return e.each(e.mapDimension(t.dim),(function(e,t){var i=n(t);i=null==i?NaN:i,a.push({dataIndex:t,mappedValue:i,ordinalNumber:e})})),a.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:(0,i.UI)(a,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var a=n.scale,i=e.mapDimension(n.dim),r=Number.MAX_VALUE,o=0,s=a.getOrdinalMeta().categories.length;o<s;++o){var l=e.rawIndexOf(i,a.getRawOrdinalNumber(o)),u=l<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l));if(u>r)return!0;r=u}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,a=n.getExtent(),i=Math.max(0,a[0]),r=Math.min(a[1],n.getOrdinalMeta().categories.length-1);i<=r;++i)if(e.ordinalNumbers[i]!==n.getRawOrdinalNumber(i))return!0},t.prototype._updateSortWithinSameData=function(e,t,n,a){if(this._isOrderChangedWithinSameData(e,t,n)){var i=this._dataSort(e,n,t);this._isOrderDifferentInView(i,n)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:i}))}},t.prototype._dispatchInitSort=function(e,t,n){var a=t.baseAxis,i=this._dataSort(e,a,(function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:i})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){(0,k.XD)(t,e,(0,ae.A)(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(X.Z),Be={cartesian2d:function(e,t){var n=t.width<0?-1:1,a=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,r=e.y+e.height,o=Oe(t.x,e.x),s=Ge(t.x+t.width,i),l=Oe(t.y,e.y),u=Ge(t.y+t.height,r),d=s<o,h=u<l;return t.x=d&&o>i?s:o,t.y=h&&l>r?u:l,t.width=d?0:s-o,t.height=h?0:u-l,n<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),d||h},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var a=t.r;t.r=t.r0,t.r0=a}var i=Ge(t.r,e.r),r=Oe(t.r0,e.r0);t.r=i,t.r0=r;var o=i-r<0;if(n<0){a=t.r;t.r=t.r0,t.r0=a}return o}},We={cartesian2d:function(e,t,n,a,r,o,s,l,u){var d=new Y.Z({shape:(0,i.l7)({},a),z2:1});(d.__dataIndex=n,d.name="item",o)&&(d.shape[r?"height":"width"]=0);return d},polar:function(e,t,n,a,i,r,o,s,l){var u=!i&&l?ke:j.C,d=new u({shape:a,z2:1});d.name="item";var h=Je(i);if(d.calculateTextPosition=function(e,t){var n=(t=t||{}).isRoundCap;return function(t,a,i){var r=a.position;if(!r||r instanceof Array)return(0,Ee.wI)(t,a,i);var o=e(r),s=null!=a.distance?a.distance:5,l=this.shape,u=l.cx,d=l.cy,h=l.r,c=l.r0,p=(h+c)/2,g=l.startAngle,f=l.endAngle,y=(g+f)/2,m=n?Math.abs(h-c)/2:0,v=Math.cos,x=Math.sin,S=u+h*v(g),b=d+h*x(g),_="left",I="top";switch(o){case"startArc":S=u+(c-s)*v(y),b=d+(c-s)*x(y),_="center",I="top";break;case"insideStartArc":S=u+(c+s)*v(y),b=d+(c+s)*x(y),_="center",I="bottom";break;case"startAngle":S=u+p*v(g)+Ze(g,s+m,!1),b=d+p*x(g)+Re(g,s+m,!1),_="right",I="middle";break;case"insideStartAngle":S=u+p*v(g)+Ze(g,-s+m,!1),b=d+p*x(g)+Re(g,-s+m,!1),_="left",I="middle";break;case"middle":S=u+p*v(y),b=d+p*x(y),_="center",I="middle";break;case"endArc":S=u+(h+s)*v(y),b=d+(h+s)*x(y),_="center",I="bottom";break;case"insideEndArc":S=u+(h-s)*v(y),b=d+(h-s)*x(y),_="center",I="top";break;case"endAngle":S=u+p*v(f)+Ze(f,s+m,!0),b=d+p*x(f)+Re(f,s+m,!0),_="left",I="middle";break;case"insideEndAngle":S=u+p*v(f)+Ze(f,-s+m,!0),b=d+p*x(f)+Re(f,-s+m,!0),_="right",I="middle";break;default:return(0,Ee.wI)(t,a,i)}return(t=t||{}).x=S,t.y=b,t.align=_,t.verticalAlign=I,t}}(h,{isRoundCap:u===ke}),r){var c=i?"r":"endAngle",p={};d.shape[c]=i?a.r0:a.startAngle,p[c]=a[c],(s?k.D:k.KZ)(d,{shape:p},r)}return d}};function Fe(e,t,n,a,i,r,o,s){var l,u;r?(u={x:a.x,width:a.width},l={y:a.y,height:a.height}):(u={y:a.y,height:a.height},l={x:a.x,width:a.width}),s||(o?k.D:k.KZ)(n,{shape:l},t,i,null);var d=t?e.baseAxis.model:null;(o?k.D:k.KZ)(n,{shape:u},d,i)}function He(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var Ue=["x","y","width","height"],Xe=["cx","cy","r","startAngle","endAngle"],Ye={cartesian2d:function(e){return!He(e,Ue)},polar:function(e){return!He(e,Xe)}},je={cartesian2d:function(e,t,n){var a=e.getItemLayout(t),i=n?function(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var a=e.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),r=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,i,r)}(n,a):0,r=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+r*i/2,y:a.y+o*i/2,width:a.width-r*i,height:a.height-o*i}},polar:function(e,t,n){var a=e.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function Je(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function qe(e,t,n,a,r,o,s,l){var u=t.getItemVisual(n,"style");if(l){if(!o.get("roundCap")){var d=e.shape,h=Ve(a.getModel("itemStyle"),d,!0);(0,i.l7)(d,h),e.setShape(d)}}else{var c=a.get(["itemStyle","borderRadius"])||0;e.setShape("r",c)}e.useStyle(u);var p=a.getShallow("cursor");p&&e.attr("cursor",p);var g=l?s?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":s?r.height>=0?"bottom":"top":r.width>=0?"right":"left",f=(0,te.k3)(a);(0,te.ni)(e,f,{labelFetcher:o,labelDataIndex:n,defaultText:(0,ne.H)(o.getData(),n),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:g});var y=e.getTextContent();if(l&&y){var m=a.get(["label","position"]);e.textConfig.inside="middle"===m||null,function(e,t,n,a){if((0,i.hj)(a))e.setTextConfig({rotation:a});else if((0,i.kJ)(t))e.setTextConfig({rotation:0});else{var r,o=e.shape,s=o.clockwise?o.startAngle:o.endAngle,l=o.clockwise?o.endAngle:o.startAngle,u=(s+l)/2,d=n(t);switch(d){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":r=u;break;case"startAngle":case"insideStartAngle":r=s;break;case"endAngle":case"insideEndAngle":r=l;break;default:return void e.setTextConfig({rotation:0})}var h=1.5*Math.PI-r;"middle"===d&&h>Math.PI/2&&h<1.5*Math.PI&&(h-=Math.PI),e.setTextConfig({rotation:h})}}(e,"outside"===m?g:m,Je(s),a.get(["label","rotate"]))}(0,te.pe)(y,f,o.getRawValue(n),(function(e){return(0,ne.O)(t,e)}));var v=a.getModel(["emphasis"]);(0,ee.k5)(e,v.get("focus"),v.get("blurScope"),v.get("disabled")),(0,ee.WO)(e,a),function(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}(r)&&(e.style.fill="none",e.style.stroke="none",(0,i.S6)(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}var Ke=function(){},Qe=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return(0,a.ZT)(t,e),t.prototype.getDefaultShape=function(){return new Ke},t.prototype.buildPath=function(e,t){for(var n=t.points,a=this.baseDimIdx,i=1-this.baseDimIdx,r=[],o=[],s=this.barWidth,l=0;l<n.length;l+=3)o[a]=s,o[i]=n[l+2],r[a]=n[l+a],r[i]=n[l+i],e.rect(r[0],r[1],o[0],o[1])},t}(Z.ZP);function $e(e,t,n,a){var i=e.getData(),r=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=e.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var d=new Qe({shape:{points:u},incremental:!!a,silent:!0,z2:0});d.baseDimIdx=r,d.largeDataIndices=o,d.barWidth=s,d.useStyle(l.getItemStyle()),t.add(d),n&&n.push(d)}var h=new Qe({shape:{points:i.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=r,h.largeDataIndices=o,h.barWidth=s,t.add(h),h.useStyle(i.getVisual("style")),(0,ae.A)(h).seriesIndex=e.seriesIndex,e.get("silent")||(h.on("mousedown",et),h.on("mousemove",et)),n&&n.push(h)}var et=(0,Ce.P2)((function(e){var t=function(e,t,n){for(var a=e.baseDimIdx,i=1-a,r=e.shape.points,o=e.largeDataIndices,s=[],l=[],u=e.barWidth,d=0,h=r.length/3;d<h;d++){var c=3*d;if(l[a]=u,l[i]=r[c+2],s[a]=r[c+a],s[i]=r[c+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return o[d]}return-1}(this,e.offsetX,e.offsetY);(0,ae.A)(this).dataIndex=t>=0?t:null}),30,!1);function tt(e,t,n){if((0,$.H)(n,"cartesian2d")){var a=t,i=n.getArea();return{x:e?a.x:i.x,y:e?i.y:a.y,width:e?a.width:i.width,height:e?i.height:a.height}}var r=t;return{cx:(i=n.getArea()).cx,cy:i.cy,r0:e?i.r0:r.r0,r:e?i.r:r.r,startAngle:e?r.startAngle:0,endAngle:e?r.endAngle:2*Math.PI}}const nt=ze;function at(e){e.registerChartView(nt),e.registerSeriesModel(Le),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,i.WA(we.bK,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,we.Bk)("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,_e("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))}var it=n(5967),rt=n(180),ot=2*Math.PI,st=Math.PI/180;function lt(e,t){return rt.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ut(e,t){var n=lt(e,t),a=e.get("center"),r=e.get("radius");i.kJ(r)||(r=[0,r]);var o,s,l=(0,J.GM)(n.width,t.getWidth()),u=(0,J.GM)(n.height,t.getHeight()),d=Math.min(l,u),h=(0,J.GM)(r[0],d/2),c=(0,J.GM)(r[1],d/2),p=e.coordinateSystem;if(p){var g=p.dataToPoint(a);o=g[0]||0,s=g[1]||0}else i.kJ(a)||(a=[a,a]),o=(0,J.GM)(a[0],l)+n.x,s=(0,J.GM)(a[1],u)+n.y;return{cx:o,cy:s,r0:h,r:c}}function dt(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.getData(),a=t.mapDimension("value"),i=lt(e,n),r=ut(e,n),o=r.cx,s=r.cy,l=r.r,u=r.r0,d=-e.get("startAngle")*st,h=e.get("endAngle"),c=e.get("padAngle")*st;h="auto"===h?d-ot:-h*st;var p=e.get("minAngle")*st+c,g=0;t.each(a,(function(e){!isNaN(e)&&g++}));var f=t.getSum(a),y=Math.PI/(f||g)*2,m=e.get("clockwise"),v=e.get("roseType"),x=e.get("stillShowZeroSum"),S=t.getDataExtent(a);S[0]=0;var b=m?1:-1,_=[d,h],I=b*c/2;(0,R.L)(_,!m),d=_[0],h=_[1];var w=Math.abs(h-d),M=w,D=0,A=d;if(t.setLayout({viewRect:i,r:l}),t.each(a,(function(e,n){var a;if(isNaN(e))t.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:o,cy:s,r0:u,r:v?NaN:l});else{(a="area"!==v?0===f&&x?y:e*y:w/g)<p?(a=p,M-=p):D+=e;var i=A+b*a,r=0,d=0;c>a?d=r=A+b*a/2:(r=A+I,d=i-I),t.setItemLayout(n,{angle:a,startAngle:r,endAngle:d,clockwise:m,cx:o,cy:s,r0:u,r:v?(0,J.NU)(e,S,[u,l]):l}),A=i}})),M<ot&&g)if(M<=.001){var L=w/g;t.each(a,(function(e,n){if(!isNaN(e)){var a=t.getItemLayout(n);a.angle=L;var i=0,r=0;L<c?r=i=d+b*(n+.5)*L:(i=d+b*n*L+I,r=d+b*(n+1)*L-I),a.startAngle=i,a.endAngle=r}}))}else y=M/D,A=d,t.each(a,(function(e,n){if(!isNaN(e)){var a=t.getItemLayout(n),i=a.angle===p?p:e*y,r=0,o=0;i<c?o=r=A+b*i/2:(r=A+I,o=A+b*i-I),a.startAngle=r,a.endAngle=o,A+=b*i}}))}))}function ht(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var a=e.getData();a.filterSelf((function(e){for(var t=a.getName(e),i=0;i<n.length;i++)if(!n[i].isSelected(t))return!1;return!0}))}}}}var ct=n(7632),pt=n(9079),gt=n(5522),ft=n(9714),yt=Math.PI/180;function mt(e,t,n,a,i,r,o,s,l,u){if(!(e.length<2)){for(var d=e.length,h=0;h<d;h++)if("outer"===e[h].position&&"labelLine"===e[h].labelAlignTo){var c=e[h].label.x-u;e[h].linePoints[1][0]+=c,e[h].label.x=u}(0,ft.GI)(e,l,l+o)&&function(e){for(var r={list:[],maxY:0},o={list:[],maxY:0},s=0;s<e.length;s++)if("none"===e[s].labelAlignTo){var l=e[s],u=l.label.y>n?o:r,d=Math.abs(l.label.y-n);if(d>=u.maxY){var h=l.label.x-t-l.len2*i,c=a+l.len,g=Math.abs(h)<c?Math.sqrt(d*d/(1-h*h/c/c)):c;u.rB=g,u.maxY=d}u.list.push(l)}p(r),p(o)}(e)}function p(e){for(var r=e.rB,o=r*r,s=0;s<e.list.length;s++){var l=e.list[s],u=Math.abs(l.label.y-n),d=a+l.len,h=d*d,c=Math.sqrt((1-Math.abs(u*u/o))*h),p=t+(c+l.len2)*i,g=p-l.label.x;vt(l,l.targetTextWidth-g*i,!0),l.label.x=p}}}function vt(e,t,n){if(void 0===n&&(n=!1),null==e.labelStyleWidth){var a=e.label,i=a.style,r=e.rect,o=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,d=r.width+(o?0:l);if(t<d||n){var h=r.height;if(u&&u.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",t-l);var c=a.getBoundingRect();a.setStyle("width",Math.ceil(c.width)),a.setStyle("backgroundColor",o)}else{var p=t-l,g=t<d?p:n?p>e.unconstrainedWidth?null:p:null;a.setStyle("width",g)}var f=a.getBoundingRect();r.width=f.width;var y=(a.style.margin||0)+2.1;r.height=f.height+y,r.y-=(r.height-h)/2}}}function xt(e){return"center"===e.position}function St(e){var t,n,a=e.getData(),r=[],o=!1,s=(e.get("minShowLabelAngle")||0)*yt,l=a.getLayout("viewRect"),u=a.getLayout("r"),d=l.width,h=l.x,c=l.y,p=l.height;function g(e){e.ignore=!0}a.each((function(e){var l=a.getItemGraphicEl(e),c=l.shape,p=l.getTextContent(),f=l.getTextGuideLine(),y=a.getItemModel(e),m=y.getModel("label"),v=m.get("position")||y.get(["emphasis","label","position"]),x=m.get("distanceToLabelLine"),S=m.get("alignTo"),b=(0,J.GM)(m.get("edgeDistance"),d),_=m.get("bleedMargin"),I=y.getModel("labelLine"),w=I.get("length");w=(0,J.GM)(w,d);var M=I.get("length2");if(M=(0,J.GM)(M,d),Math.abs(c.endAngle-c.startAngle)<s)return(0,i.S6)(p.states,g),p.ignore=!0,void(f&&((0,i.S6)(f.states,g),f.ignore=!0));if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(p)){var D,A,L,T,C=(c.startAngle+c.endAngle)/2,N=Math.cos(C),P=Math.sin(C);t=c.cx,n=c.cy;var k="inside"===v||"inner"===v;if("center"===v)D=c.cx,A=c.cy,T="center";else{var E=(k?(c.r+c.r0)/2*N:c.r*N)+t,Z=(k?(c.r+c.r0)/2*P:c.r*P)+n;if(D=E+3*N,A=Z+3*P,!k){var R=E+N*(w+u-c.r),V=Z+P*(w+u-c.r),O=R+(N<0?-1:1)*M;D="edge"===S?N<0?h+b:h+d-b:O+(N<0?-x:x),A=V,L=[[E,Z],[R,V],[O,V]]}T=k?"center":"edge"===S?N>0?"right":"left":N>0?"left":"right"}var G=Math.PI,z=0,B=m.get("rotate");if((0,i.hj)(B))z=B*(G/180);else if("center"===v)z=0;else if("radial"===B||!0===B){z=N<0?-C+G:-C}else if("tangential"===B&&"outside"!==v&&"outer"!==v){var W=Math.atan2(N,P);W<0&&(W=2*G+W),P>0&&(W=G+W),z=W-G}if(o=!!z,p.x=D,p.y=A,p.rotation=z,p.setStyle({verticalAlign:"middle"}),k){p.setStyle({align:T});var F=p.states.select;F&&(F.x+=p.x,F.y+=p.y)}else{var H=p.getBoundingRect().clone();H.applyTransform(p.getComputedTransform());var U=(p.style.margin||0)+2.1;H.y-=U/2,H.height+=U,r.push({label:p,labelLine:f,position:v,len:w,len2:M,minTurnAngle:I.get("minTurnAngle"),maxSurfaceAngle:I.get("maxSurfaceAngle"),surfaceNormal:new pt.Z(N,P),linePoints:L,textAlign:T,labelDistance:x,labelAlignTo:S,edgeDistance:b,bleedMargin:_,rect:H,unconstrainedWidth:H.width,labelStyleWidth:p.style.width})}l.setTextConfig({inside:k})}})),!o&&e.get("avoidLabelOverlap")&&function(e,t,n,a,i,r,o,s){for(var l=[],u=[],d=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=0;c<e.length;c++){var p=e[c].label;xt(e[c])||(p.x<t?(d=Math.min(d,p.x),l.push(e[c])):(h=Math.max(h,p.x),u.push(e[c])))}for(c=0;c<e.length;c++)if(!xt(y=e[c])&&y.linePoints){if(null!=y.labelStyleWidth)continue;p=y.label;var g=y.linePoints,f=void 0;f="edge"===y.labelAlignTo?p.x<t?g[2][0]-y.labelDistance-o-y.edgeDistance:o+i-y.edgeDistance-g[2][0]-y.labelDistance:"labelLine"===y.labelAlignTo?p.x<t?d-o-y.bleedMargin:o+i-h-y.bleedMargin:p.x<t?p.x-o-y.bleedMargin:o+i-p.x-y.bleedMargin,y.targetTextWidth=f,vt(y,f)}for(mt(u,t,n,a,1,0,r,0,s,h),mt(l,t,n,a,-1,0,r,0,s,d),c=0;c<e.length;c++){var y;if(!xt(y=e[c])&&y.linePoints){p=y.label,g=y.linePoints;var m="edge"===y.labelAlignTo,v=p.style.padding,x=v?v[1]+v[3]:0,S=p.style.backgroundColor?0:x,b=y.rect.width+S,_=g[1][0]-g[2][0];m?p.x<t?g[2][0]=o+y.edgeDistance+b+y.labelDistance:g[2][0]=o+i-y.edgeDistance-b-y.labelDistance:(p.x<t?g[2][0]=p.x+y.labelDistance:g[2][0]=p.x-y.labelDistance,g[1][0]=g[2][0]+_),g[1][1]=g[2][1]=p.y}}}(r,t,n,u,d,p,h,c);for(var f=0;f<r.length;f++){var y=r[f],m=y.label,v=y.labelLine,x=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:y.textAlign}),x&&((0,i.S6)(m.states,g),m.ignore=!0);var S=m.states.select;S&&(S.x+=m.x,S.y+=m.y)}if(v){var b=y.linePoints;x||!b?((0,i.S6)(v.states,g),v.ignore=!0):((0,gt.qK)(b,y.minTurnAngle),(0,gt._A)(b,y.surfaceNormal,y.maxSurfaceAngle),v.setShape({points:b}),m.__hostTarget.textGuideLineConfig={anchor:new pt.Z(b[0][0],b[0][1])})}}}var bt=function(e){function t(t,n,a){var i=e.call(this)||this;i.z2=2;var r=new E.ZP;return i.setTextContent(r),i.updateData(t,n,a,!0),i}return(0,a.ZT)(t,e),t.prototype.updateData=function(e,t,n,a){var r=this,o=e.hostModel,s=e.getItemModel(t),l=s.getModel("emphasis"),u=e.getItemLayout(t),d=(0,i.l7)(Ve(s.getModel("itemStyle"),u,!0),u);if(isNaN(d.startAngle))r.setShape(d);else{if(a){r.setShape(d);var h=o.getShallow("animationType");o.ecModel.ssr?(k.KZ(r,{scaleX:0,scaleY:0},o,{dataIndex:t,isFrom:!0}),r.originX=d.cx,r.originY=d.cy):"scale"===h?(r.shape.r=u.r0,k.KZ(r,{shape:{r:u.r}},o,t)):null!=n?(r.setShape({startAngle:n,endAngle:n}),k.KZ(r,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},o,t)):(r.shape.endAngle=u.startAngle,k.D(r,{shape:{endAngle:u.endAngle}},o,t))}else(0,k.Zi)(r),k.D(r,{shape:d},o,t);r.useStyle(e.getItemVisual(t,"style")),(0,ee.WO)(r,s);var c=(u.startAngle+u.endAngle)/2,p=o.get("selectedOffset"),g=Math.cos(c)*p,f=Math.sin(c)*p,y=s.getShallow("cursor");y&&r.attr("cursor",y),this._updateLabel(o,e,t),r.ensureState("emphasis").shape=(0,i.l7)({r:u.r+(l.get("scale")&&l.get("scaleSize")||0)},Ve(l.getModel("itemStyle"),u)),(0,i.l7)(r.ensureState("select"),{x:g,y:f,shape:Ve(s.getModel(["select","itemStyle"]),u)}),(0,i.l7)(r.ensureState("blur"),{shape:Ve(s.getModel(["blur","itemStyle"]),u)});var m=r.getTextGuideLine(),v=r.getTextContent();m&&(0,i.l7)(m.ensureState("select"),{x:g,y:f}),(0,i.l7)(v.ensureState("select"),{x:g,y:f}),(0,ee.k5)(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))}},t.prototype._updateLabel=function(e,t,n){var a=this,r=t.getItemModel(n),o=r.getModel("labelLine"),s=t.getItemVisual(n,"style"),l=s&&s.fill,u=s&&s.opacity;(0,te.ni)(a,(0,te.k3)(r),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:l,defaultOpacity:u,defaultText:e.getFormattedLabel(n,"normal")||t.getName(n)});var d=a.getTextContent();a.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var h=e.get(["label","position"]);if("outside"!==h&&"outer"!==h)a.removeTextGuideLine();else{var c=this.getTextGuideLine();c||(c=new ct.Z,this.setTextGuideLine(c)),(0,gt.Iu)(this,(0,gt.$x)(r),{stroke:l,opacity:(0,i.R1)(o.get(["lineStyle","opacity"]),u,1)})}},t}(j.C);const _t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n,a){var i,r=e.getData(),o=this._data,s=this.group;if(!o&&r.count()>0){for(var l=r.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u<r.count();++u)l=r.getItemLayout(u);l&&(i=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===r.count()&&e.get("showEmptyCircle")){var d=new j.C({shape:ut(e,n)});d.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,s.add(d)}r.diff(o).add((function(e){var t=new bt(r,e,i);r.setItemGraphicEl(e,t),s.add(t)})).update((function(e,t){var n=o.getItemGraphicEl(t);n.updateData(r,e,i),n.off("click"),s.add(n),r.setItemGraphicEl(e,n)})).remove((function(t){var n=o.getItemGraphicEl(t);k.XD(n,e,t)})).execute(),St(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=r)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var a=e[0]-n.cx,i=e[1]-n.cy,r=Math.sqrt(a*a+i*i);return r<=n.r&&r>=n.r0}},t.type="pie",t}(X.Z);function It(e,t,n){t=(0,i.kJ)(t)&&{coordDimensions:t}||(0,i.l7)({encodeDefine:e.getEncode()},t);var a=e.getSource(),o=p(a,t).dimensions,s=new r.Z(o,e);return s.initData(a,n),s}const wt=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}();var Mt=d.Yf();const Dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new wt(i.ak(this.getData,this),i.ak(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return It(this,{coordDimensions:["value"],encodeDefaulter:i.WA(h.Ss,this)})},t.prototype.getDataParams=function(t){var n=this.getData(),a=Mt(n),i=a.seats;if(!i){var r=[];n.each(n.mapDimension("value"),(function(e){r.push(e)})),i=a.seats=(0,J.HD)(r,n.hostModel.get("percentPrecision"))}var o=e.prototype.getDataParams.call(this,t);return o.percent=i[t]||0,o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(e){d.Cc(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(_.Z);function At(e){e.registerChartView(_t),e.registerSeriesModel(Dt),(0,it.y)("pie",e.registerAction),e.registerLayout((0,i.WA)(dt,"pie")),e.registerProcessor(ht("pie")),e.registerProcessor({seriesType:"pie",reset:function(e,t){var n=e.getData();n.filterSelf((function(e){var t=n.mapDimension("value"),a=n.get(t,e);return!((0,i.hj)(a)&&!isNaN(a)&&a<0)}))}})}var Lt=n(1237);const Tt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){return b(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(_.Z);var Ct=n(9811),Nt=function(){},Pt=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,a.ZT)(t,e),t.prototype.getDefaultShape=function(){return new Nt},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var n,a=t.points,i=t.size,r=this.symbolProxy,o=r.shape,s=e.getContext?e.getContext():e,l=s&&i[0]<4,u=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,n=this._off;n<a.length;){var d=a[n++],h=a[n++];isNaN(d)||isNaN(h)||(u&&!u.contain(d,h)||(o.x=d-i[0]/2,o.y=h-i[1]/2,o.width=i[0],o.height=i[1],r.buildPath(e,o,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,n=t.points,a=t.size,i=this._ctx,r=this.softClipShape;if(i){for(e=this._off;e<n.length;){var o=n[e++],s=n[e++];isNaN(o)||isNaN(s)||(r&&!r.contain(o,s)||i.fillRect(o-a[0]/2,s-a[1]/2,a[0],a[1]))}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var n=this.shape,a=n.points,i=n.size,r=Math.max(i[0],4),o=Math.max(i[1],4),s=a.length/2-1;s>=0;s--){var l=2*s,u=a[l]-r/2,d=a[l+1]-o/2;if(e>=u&&t>=d&&e<=u+r&&t<=d+o)return s}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),a=this.getBoundingRect();return e=n[0],t=n[1],a.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,n=t.points,a=t.size,i=a[0],r=a[1],o=1/0,s=1/0,l=-1/0,u=-1/0,d=0;d<n.length;){var h=n[d++],c=n[d++];o=Math.min(h,o),l=Math.max(h,l),s=Math.min(c,s),u=Math.max(c,u)}e=this._rect=new Ct.Z(o-i/2,s-r/2,l-o+i,u-s+r)}return e},t}(Z.ZP);const kt=function(){function e(){this.group=new w.Z}return e.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild((function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),a=4*e.startIndex*2;t=new Float32Array(t.buffer,a,n)}e.setShape("points",t),e.reset()}))},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,n){var a=this._newAdded[0],i=t.getLayout("points"),r=a&&a.shape.points;if(r&&r.length<2e4){var o=r.length,s=new Float32Array(o+i.length);s.set(r),s.set(i,o),a.endIndex=e.end,a.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start,l.endIndex=e.end,l.incremental=!0,l.setShape({points:i}),this._setCommon(l,t,n)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Pt({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,n){var a=t.hostModel;n=n||{};var i=t.getVisual("symbolSize");e.setShape("size",i instanceof Array?i:[i,i]),e.softClipShape=n.clipShape||null,e.symbolProxy=(0,I.th)(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var r=e.shape.size[0]<4;e.useStyle(a.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style"),s=o&&o.fill;s&&e.setColor(s);var l=(0,ae.A)(e);l.seriesIndex=a.seriesIndex,e.on("mousemove",(function(t){l.dataIndex=null;var n=e.hoverDataIdx;n>=0&&(l.dataIndex=n+(e.startIndex||0))}))},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();const Et=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){var a=e.getData();this._updateSymbolDraw(a,e).updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var a=e.getData();this._updateSymbolDraw(a,e).incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,n){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var i=xe("").reset(e,t,n);i.progress&&i.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var t=e.coordinateSystem;return t&&t.getArea&&t.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,t){var n=this._symbolDraw,a=t.pipelineContext.large;return n&&a===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=a?new kt:new A.Z,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(X.Z);var Zt=n(4562);function Rt(e){(0,Lt.D)(Zt.N),e.registerSeriesModel(Tt),e.registerChartView(Et),e.registerLayout(xe("scatter"))}function Vt(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),n=[],a=e.coordinateSystem;if(a){var r=a.getIndicatorAxes();i.S6(r,(function(e,i){t.each(t.mapDimension(r[i].dim),(function(e,t){n[t]=n[t]||[];var r=a.dataToPoint(e,i);n[t][i]=Ot(r)?r:Gt(a)}))})),t.each((function(e){var r=i.sE(n[e],(function(e){return Ot(e)}))||Gt(a);n[e].push(r.slice()),t.setItemLayout(e,n[e])}))}}))}function Ot(e){return!isNaN(e[0])&&!isNaN(e[1])}function Gt(e){return[e.cx,e.cy]}function zt(e){var t=e.polar;if(t){i.kJ(t)||(t=[t]);var n=[];i.S6(t,(function(t,a){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],i.kJ(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)})),e.polar=n}i.S6(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}var Bt=n(8346),Wt=n(8711);const Ft=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){var a=e.coordinateSystem,r=this.group,o=e.getData(),s=this._data;function l(e,t){var n=e.getItemVisual(t,"symbol")||"circle";if("none"!==n){var a=I.zp(e.getItemVisual(t,"symbolSize")),i=I.th(n,-1,-1,2,2),r=e.getItemVisual(t,"symbolRotate")||0;return i.attr({style:{strokeNoScale:!0},z2:100,scaleX:a[0]/2,scaleY:a[1]/2,rotation:r*Math.PI/180||0}),i}}function u(t,n,a,i,r,o){a.removeAll();for(var s=0;s<n.length-1;s++){var u=l(i,r);u&&(u.__dimIdx=s,t[s]?(u.setPosition(t[s]),Te[o?"initProps":"updateProps"](u,{x:n[s][0],y:n[s][1]},e,r)):u.setPosition(n[s]),a.add(u))}}function d(e){return i.UI(e,(function(e){return[a.cx,a.cy]}))}o.diff(s).add((function(t){var n=o.getItemLayout(t);if(n){var a=new Bt.Z,i=new ct.Z,r={shape:{points:n}};a.shape.points=d(n),i.shape.points=d(n),k.KZ(a,r,e,t),k.KZ(i,r,e,t);var s=new w.Z,l=new w.Z;s.add(i),s.add(a),s.add(l),u(i.shape.points,n,l,o,t,!0),o.setItemGraphicEl(t,s)}})).update((function(t,n){var a=s.getItemGraphicEl(n),i=a.childAt(0),r=a.childAt(1),l=a.childAt(2),d={shape:{points:o.getItemLayout(t)}};d.shape.points&&(u(i.shape.points,d.shape.points,l,o,t,!1),(0,k.Zi)(r),(0,k.Zi)(i),k.D(i,d,e),k.D(r,d,e),o.setItemGraphicEl(t,a))})).remove((function(e){r.remove(s.getItemGraphicEl(e))})).execute(),o.eachItemGraphicEl((function(e,t){var n=o.getItemModel(t),a=e.childAt(0),s=e.childAt(1),l=e.childAt(2),u=o.getItemVisual(t,"style"),d=u.fill;r.add(e),a.useStyle(i.ce(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:d})),(0,ee.WO)(a,n,"lineStyle"),(0,ee.WO)(s,n,"areaStyle");var h=n.getModel("areaStyle"),c=h.isEmpty()&&h.parentModel.isEmpty();s.ignore=c,i.S6(["emphasis","select","blur"],(function(e){var t=n.getModel([e,"areaStyle"]),a=t.isEmpty()&&t.parentModel.isEmpty();s.ensureState(e).ignore=a&&c})),s.useStyle(i.ce(h.getAreaStyle(),{fill:d,opacity:.7,decal:u.decal}));var p=n.getModel("emphasis"),g=p.getModel("itemStyle").getItemStyle();l.eachChild((function(e){if(e instanceof Wt.ZP){var a=e.style;e.useStyle(i.l7({image:a.image,x:a.x,y:a.y,width:a.width,height:a.height},u))}else e.useStyle(u),e.setColor(d),e.style.strokeNoScale=!0;e.ensureState("emphasis").style=i.d9(g);var r=o.getStore().get(o.getDimensionIndex(e.__dimIdx),t);(null==r||isNaN(r))&&(r=""),(0,te.ni)(e,(0,te.k3)(n),{labelFetcher:o.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:r,inheritColor:d,defaultOpacity:u.opacity})})),(0,ee.k5)(e,p.get("focus"),p.get("blurScope"),p.get("disabled"))})),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(X.Z);var Ht=n(8927);const Ut=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,a.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new wt(i.ak(this.getData,this),i.ak(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return It(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,n){var a=this.getData(),r=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(e),s=""===o?this.name:o,l=(0,Ht.jT)(this,e);return(0,Ht.TX)("section",{header:s,sortBlocks:!0,blocks:i.UI(r,(function(t){var n=a.get(a.mapDimension(t.dim),e);return(0,Ht.TX)("nameValue",{markerType:"subItem",markerColor:l,name:t.name,value:n,sortParam:n})}))})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,a=t.getValues(i.UI(n.dimensions,(function(e){return t.mapDimension(e)})),e),r=0,o=a.length;r<o;r++)if(!isNaN(a[r])){var s=n.getIndicatorAxes();return n.coordToPoint(s[r].dataToCoord(a[r]),r)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(_.Z);var Xt=n(2430);function Yt(e){(0,Lt.D)(Xt.N),e.registerChartView(Ft),e.registerSeriesModel(Ut),e.registerLayout(Vt),e.registerProcessor(ht("radar")),e.registerPreprocessor(zt)}var jt=n(3927),Jt=n(2335),qt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var i=this.group;if(i.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&"geoRoam"===a.type&&this._mapDraw.resetForLabelLayout(),a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===e.id)(r=this._mapDraw)&&i.add(r.group);else if(e.needsDrawMap){var r=this._mapDraw||new Jt.Z(n);i.add(r.group),r.draw(e,t,n,this,a),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,n){var a=e.originalData,i=this.group;a.each(a.mapDimension("value"),(function(t,n){if(!isNaN(t)){var r=a.getItemLayout(n);if(r&&r.point){var o=r.point,s=r.offset,l=new jt.Z({style:{fill:e.getData().getVisual("style").fill},shape:{cx:o[0]+9*s,cy:o[1],r:3},silent:!0,z2:8+(s?0:ee.zr+1)});if(!s){var u=e.mainSeries.getData(),d=a.getName(n),h=u.indexOfName(d),c=a.getItemModel(n),p=c.getModel("label"),g=u.getItemGraphicEl(h);(0,te.ni)(l,(0,te.k3)(c),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(h,n)}},defaultText:d}),l.disableLabelAnimation=!0,p.get("position")||l.setTextConfig({position:"bottom"}),g.onHoverStateChange=function(e){(0,ee.Gl)(l,e)}}i.add(l)}}}))},t.type="map",t}(X.Z);const Kt=qt;var Qt=n(9333),$t=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,a=n.getRegion(t);return a&&n.dataToPoint(a.getCenter())}},n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e){for(var t=It(this,{coordDimensions:["value"],encodeDefaulter:i.WA(h.Ss,this)}),n=i.kW(),a=[],r=0,o=t.count();r<o;r++){var s=t.getName(r);n.set(s,!0)}var l=Qt.Z.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return i.S6(l.regions,(function(e){var t=e.name;n.get(t)||a.push(t)})),t.appendValues([],a),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,n){for(var a=this.getData(),i=this.getRawValue(e),r=a.getName(e),o=this.seriesGroup,s=[],l=0;l<o.length;l++){var u=o[l].originalData.indexOfName(r),d=a.mapDimension("value");isNaN(o[l].originalData.get(d,u))||s.push(o[l].name)}return(0,Ht.TX)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,Ht.TX)("nameValue",{name:r,value:i})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",n=(0,I.th)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(_.Z);const en=$t;function tn(e){var t={};e.eachSeriesByType("map",(function(e){var n=e.getHostGeoModel(),a=n?"o"+n.id:"i"+e.getMapType();(t[a]=t[a]||[]).push(e)})),i.S6(t,(function(e,t){for(var n=function(e,t){var n={};return i.S6(e,(function(e){e.each(e.mapDimension("value"),(function(t,a){var i="ec-"+e.getName(a);n[i]=n[i]||[],isNaN(t)||n[i].push(t)}))})),e[0].map(e[0].mapDimension("value"),(function(a,i){for(var r="ec-"+e[0].getName(i),o=0,s=1/0,l=-1/0,u=n[r].length,d=0;d<u;d++)s=Math.min(s,n[r][d]),l=Math.max(l,n[r][d]),o+=n[r][d];return 0===u?NaN:"min"===t?s:"max"===t?l:"average"===t?o/u:o}))}(i.UI(e,(function(e){return e.getData()})),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=0===a&&!e[a].getHostGeoModel(),e[a].setData(n.cloneShallow()),e[a].mainSeries=e[0]}))}function nn(e){var t={};e.eachSeriesByType("map",(function(n){var a=n.getMapType();if(!n.getHostGeoModel()&&!t[a]){var r={};i.S6(n.seriesGroup,(function(t){var n=t.coordinateSystem,a=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&a.each(a.mapDimension("value"),(function(e,t){var i=a.getName(t),o=n.getRegion(i);if(o&&!isNaN(e)){var s=r[i]||0,l=n.dataToPoint(o.getCenter());r[i]=s+1,a.setItemLayout(t,{point:l,offset:s})}}))}));var o=n.getData();o.each((function(e){var t=o.getName(e),n=o.getItemLayout(e)||{};n.showLabel=!r[t],o.setItemLayout(e,n)})),t[a]=!0}}))}var an=n(6730);function rn(e){(0,Lt.D)(an.N),e.registerChartView(Kt),e.registerSeriesModel(en),e.registerLayout(nn),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,tn),(0,it.y)("map",e.registerAction)}var on=n(5426);function sn(e,t){var n=e.isExpand?e.children:[],a=e.parentNode.children,i=e.hierNode.i?a[e.hierNode.i-1]:null;if(n.length){!function(e){var t=e.children,n=t.length,a=0,i=0;for(;--n>=0;){var r=t[n];r.hierNode.prelim+=a,r.hierNode.modifier+=a,i+=r.hierNode.change,a+=r.hierNode.shift+i}}(e);var r=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-r):e.hierNode.prelim=r}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=function(e,t,n,a){if(t){for(var i=e,r=e,o=r.parentNode.children[0],s=t,l=i.hierNode.modifier,u=r.hierNode.modifier,d=o.hierNode.modifier,h=s.hierNode.modifier;s=cn(s),r=pn(r),s&&r;){i=cn(i),o=pn(o),i.hierNode.ancestor=e;var c=s.hierNode.prelim+h-r.hierNode.prelim-u+a(s,r);c>0&&(fn(gn(s,e,n),e,c),u+=c,l+=c),h+=s.hierNode.modifier,u+=r.hierNode.modifier,l+=i.hierNode.modifier,d+=o.hierNode.modifier}s&&!cn(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=h-l),r&&!pn(o)&&(o.hierNode.thread=r,o.hierNode.modifier+=u-d,n=e)}return n}(e,i,e.parentNode.hierNode.defaultAncestor||a[0],t)}function ln(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function un(e){return arguments.length?e:yn}function dn(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function hn(e,t){return rt.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function cn(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function pn(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function gn(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function fn(e,t,n){var a=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=a,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=a}function yn(e,t){return e.parentNode===t.parentNode?1:2}var mn=n(2971),vn=n(8199),xn=n(2658),Sn=n(2457),bn=n(8624),_n=function(){this.parentPoint=[],this.childPoints=[]},In=function(e){function t(t){return e.call(this,t)||this}return(0,a.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new _n},t.prototype.buildPath=function(e,t){var n=t.childPoints,a=n.length,i=t.parentPoint,r=n[0],o=n[a-1];if(1===a)return e.moveTo(i[0],i[1]),void e.lineTo(r[0],r[1]);var s=t.orient,l="TB"===s||"BT"===s?0:1,u=1-l,d=(0,J.GM)(t.forkPosition,1),h=[];h[l]=i[l],h[u]=i[u]+(o[u]-i[u])*d,e.moveTo(i[0],i[1]),e.lineTo(h[0],h[1]),e.moveTo(r[0],r[1]),h[l]=r[l],e.lineTo(h[0],h[1]),h[l]=o[l],e.lineTo(h[0],h[1]),e.lineTo(o[0],o[1]);for(var c=1;c<a-1;c++){var p=n[c];e.moveTo(p[0],p[1]),h[l]=p[l],e.lineTo(h[0],h[1])}},t}(Z.ZP),wn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new w.Z,n}return(0,a.ZT)(t,e),t.prototype.init=function(e,t){this._controller=new Sn.Z(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,n){var a=e.getData(),i=e.layoutInfo,r=this._mainGroup;"radial"===e.get("layout")?(r.x=i.x+i.width/2,r.y=i.y+i.height/2):(r.x=i.x,r.y=i.y),this._updateViewCoordSys(e,n),this._updateController(e,t,n);var o=this._data;a.diff(o).add((function(t){Mn(a,t)&&Dn(a,t,null,r,e)})).update((function(t,n){var i=o.getItemGraphicEl(n);Mn(a,t)?Dn(a,t,i,r,e):i&&Tn(o,n,i,r,e)})).remove((function(t){var n=o.getItemGraphicEl(t);n&&Tn(o,t,n,r,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&a.eachItemGraphicEl((function(t,a){t.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:a})}))})),this._data=a},t.prototype._updateViewCoordSys=function(e,t){var n=e.getData(),a=[];n.each((function(e){var t=n.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||a.push([+t.x,+t.y])}));var i=[],r=[];mn.zk(a,i,r);var o=this._min,s=this._max;r[0]-i[0]===0&&(i[0]=o?o[0]:i[0]-1,r[0]=s?s[0]:r[0]+1),r[1]-i[1]===0&&(i[1]=o?o[1]:i[1]-1,r[1]=s?s[1]:r[1]+1);var l=e.coordinateSystem=new vn.Z;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1]),l.setCenter(e.get("center"),t),l.setZoom(e.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=i,this._max=r},t.prototype._updateController=function(e,t,n){var a=this,i=this._controller,r=this._controllerHost,o=this.group;i.setPointerChecker((function(t,a,i){var r=o.getBoundingRect();return r.applyTransform(o.transform),r.contain(a,i)&&!(0,bn.l)(t,n,e)})),i.enable(e.get("roam")),r.zoomLimit=e.get("scaleLimit"),r.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){xn.e(r,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){xn.H(r,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),a._updateNodeAndLinkScale(e),n.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),n=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(n)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,a=t.scaleX||1;return((t.getZoom()-1)*n+1)/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(X.Z);function Mn(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function Dn(e,t,n,a,r){var o=!n,s=e.tree.getNodeByDataIndex(t),l=s.getModel(),u=s.getVisual("style").fill,d=!1===s.isExpand&&0!==s.children.length?u:"#fff",h=e.tree.root,c=s.parentNode===h?s:s.parentNode||s,p=e.getItemGraphicEl(c.dataIndex),g=c.getLayout(),f=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:g,y=s.getLayout();o?((n=new L.Z(e,t,null,{symbolInnerColor:d,useNameLabel:!0})).x=f.x,n.y=f.y):n.updateData(e,t,null,{symbolInnerColor:d,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=y.rawX,n.__radialRawY=y.rawY,a.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,k.D(n,{x:y.x,y:y.y},r);var m=n.getSymbolPath();if("radial"===r.get("layout")){var v=h.children[0],x=v.getLayout(),S=v.children.length,b=void 0,_=void 0;if(y.x===x.x&&!0===s.isExpand&&v.children.length){var I={x:(v.children[0].getLayout().x+v.children[S-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[S-1].getLayout().y)/2};(b=Math.atan2(I.y-x.y,I.x-x.x))<0&&(b=2*Math.PI+b),(_=I.x<x.x)&&(b-=Math.PI)}else(b=Math.atan2(y.y-x.y,y.x-x.x))<0&&(b=2*Math.PI+b),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(_=y.x<x.x)&&(b-=Math.PI):(_=y.x>x.x)||(b-=Math.PI);var w=_?"left":"right",M=l.getModel("label"),D=M.get("rotate"),A=D*(Math.PI/180),T=m.getTextContent();T&&(m.setTextConfig({position:M.get("position")||w,rotation:null==D?-b:A,origin:"center"}),T.setStyle("verticalAlign","middle"))}var C=l.get(["emphasis","focus"]),N="relative"===C?i.WW(s.getAncestorsIndices(),s.getDescendantIndices()):"ancestor"===C?s.getAncestorsIndices():"descendant"===C?s.getDescendantIndices():null;N&&((0,ae.A)(n).focus=N),function(e,t,n,a,r,o,s,l){var u=t.getModel(),d=e.get("edgeShape"),h=e.get("layout"),c=e.getOrient(),p=e.get(["lineStyle","curveness"]),g=e.get("edgeForkPosition"),f=u.getModel("lineStyle").getLineStyle(),y=a.__edge;if("curve"===d)t.parentNode&&t.parentNode!==n&&(y||(y=a.__edge=new on.Z({shape:Cn(h,c,p,r,r)})),k.D(y,{shape:Cn(h,c,p,o,s)},e));else if("polyline"===d)if("orthogonal"===h){if(t!==n&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var m=t.children,v=[],x=0;x<m.length;x++){var S=m[x].getLayout();v.push([S.x,S.y])}y||(y=a.__edge=new In({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:c,forkPosition:g}})),k.D(y,{shape:{parentPoint:[s.x,s.y],childPoints:v}},e)}}else 0;y&&("polyline"!==d||t.isExpand)&&(y.useStyle(i.ce({strokeNoScale:!0,fill:null},f)),(0,ee.WO)(y,u,"lineStyle"),(0,ee.MA)(y),l.add(y))}(r,s,h,n,f,g,y,a),n.__edge&&(n.onHoverStateChange=function(t){if("blur"!==t){var a=s.parentNode&&e.getItemGraphicEl(s.parentNode.dataIndex);a&&a.hoverState===ee.CX||(0,ee.Gl)(n.__edge,t)}})}function An(e,t,n,a,i){var r=Ln(t.tree.root,e),o=r.source,s=r.sourceLayout,l=t.getItemGraphicEl(e.dataIndex);if(l){var u=t.getItemGraphicEl(o.dataIndex).__edge,d=l.__edge||(!1===o.isExpand||1===o.children.length?u:void 0),h=a.get("edgeShape"),c=a.get("layout"),p=a.get("orient"),g=a.get(["lineStyle","curveness"]);d&&("curve"===h?k.bX(d,{shape:Cn(c,p,g,s,s),style:{opacity:0}},a,{cb:function(){n.remove(d)},removeOpt:i}):"polyline"===h&&"orthogonal"===a.get("layout")&&k.bX(d,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},a,{cb:function(){n.remove(d)},removeOpt:i}))}}function Ln(e,t){for(var n,a=t.parentNode===e?t:t.parentNode||t;null==(n=a.getLayout());)a=a.parentNode===e?a:a.parentNode||a;return{source:a,sourceLayout:n}}function Tn(e,t,n,a,i){var r=e.tree.getNodeByDataIndex(t),o=Ln(e.tree.root,r).sourceLayout,s={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};k.bX(n,{x:o.x+1,y:o.y+1},i,{cb:function(){a.remove(n),e.setItemGraphicEl(t,null)},removeOpt:s}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:s}),r.children.forEach((function(t){An(t,e,a,i,s)})),An(r,e,a,i,s)}function Cn(e,t,n,a,i){var r,o,s,l,u,d,h,c;if("radial"===e){u=a.rawX,h=a.rawY,d=i.rawX,c=i.rawY;var p=dn(u,h),g=dn(u,h+(c-h)*n),f=dn(d,c+(h-c)*n),y=dn(d,c);return{x1:p.x||0,y1:p.y||0,x2:y.x||0,y2:y.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:f.x||0,cpy2:f.y||0}}return u=a.x,h=a.y,d=i.x,c=i.y,"LR"!==t&&"RL"!==t||(r=u+(d-u)*n,o=h,s=d+(u-d)*n,l=c),"TB"!==t&&"BT"!==t||(r=u,o=h+(c-h)*n,s=d,l=c+(h-c)*n),{x1:u,y1:h,x2:d,y2:c,cpx1:r,cpy1:o,cpx2:s,cpy2:l}}const Nn=wn;var Pn=(0,d.Yf)();function kn(e,t){if(Pn(a=this).mainData===a){var n=(0,i.l7)({},Pn(this).datas);n[this.dataType]=t,On(t,n,e)}else Gn(t,this.dataType,Pn(this).mainData,e);var a;return t}function En(e,t){return e.struct&&e.struct.update(),t}function Zn(e,t){return(0,i.S6)(Pn(t).datas,(function(n,a){n!==t&&Gn(n.cloneShallow(),a,t,e)})),t}function Rn(e){var t=Pn(this).mainData;return null==e||null==t?t:Pn(t).datas[e]}function Vn(){var e=Pn(this).mainData;return null==e?[{data:e}]:(0,i.UI)((0,i.XP)(Pn(e).datas),(function(t){return{type:t,data:Pn(e).datas[t]}}))}function On(e,t,n){Pn(e).datas={},(0,i.S6)(t,(function(t,a){Gn(t,a,e,n)}))}function Gn(e,t,n,a){Pn(n).datas[t]=e,Pn(e).mainData=n,e.dataType=t,a.struct&&(e[a.structAttr]=a.struct,a.struct[a.datasAttr[t]]=e),e.getLinkedData=Rn,e.getLinkedDataAll=Vn}const zn=function(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,On(t,n,e),(0,i.S6)(n,(function(n){(0,i.S6)(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,(0,i.WA)(kn,e))}))})),t.wrapMethod("cloneShallow",(0,i.WA)(Zn,e)),(0,i.S6)(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,(0,i.WA)(En,e))})),(0,i.hu)(n[t.dataType]===t)};var Bn=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,n){i.mf(e)&&(n=t,t=e,e=null),e=e||{},i.HD(e)&&(e={order:e});var a,r=e.order||"preorder",o=this[e.attr||"children"];"preorder"===r&&(a=t.call(n,this));for(var s=0;!a&&s<o.length;s++)o[s].eachNode(e,t,n);"postorder"===r&&t.call(n,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var a=this.children[n];a.updateDepthAndHeight(e+1),a.height>t&&(t=a.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,a=n.length;t<a;t++){var i=n[t].getNodeById(e);if(i)return i}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,a=n.length;t<a;t++){var i=n[t].contains(e);if(i)return i}},e.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}();const Wn=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,a=t.length;n<a;n++)t[n].dataIndex=-1;for(n=0,a=e.count();n<a;n++)t[e.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,a){var o=new e(n),s=[],l=1;!function e(t,n){var a=t.value;l=Math.max(l,i.kJ(a)?a.length:1),s.push(t);var r=new Bn((0,d.U5)(t.name,""),o);n?function(e,t){var n=t.children;if(e.parentNode===t)return;n.push(e),e.parentNode=t}(r,n):o.root=r,o._nodes.push(r);var u=t.children;if(u)for(var h=0;h<u.length;h++)e(u[h],r)}(t),o.root.updateDepthAndHeight(0);var u=p(s,{coordDimensions:["value"],dimensionsCount:l}).dimensions,h=new r.Z(u,n);return h.initData(s),a&&a(h),zn({mainData:h,struct:o,structAttr:"tree"}),o.update(),o},e}();var Fn=n(170);function Hn(e,t,n){if(e&&i.cq(t,e.type)>=0){var a=n.getData().tree.root,r=e.targetNode;if(i.HD(r)&&(r=a.getNodeById(r)),r&&a.contains(r))return{node:r};var o=e.targetNodeId;if(null!=o&&(r=a.getNodeById(o)))return{node:r}}}function Un(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function Xn(e,t){var n=Un(e);return i.cq(n,t)>=0}function Yn(e,t){for(var n=[];e;){var a=e.dataIndex;n.push({name:e.name,dataIndex:a,value:t.getRawValue(a)}),e=e.parentNode}return n.reverse(),n}var jn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},n=e.leaves||{},a=new Fn.Z(n,this,this.ecModel),i=Wn.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=i.getNodeByDataIndex(t);return n&&n.children.length&&n.isExpand||(e.parentModel=a),e}))}));var r=0;i.eachNode("preorder",(function(e){e.depth>r&&(r=e.depth)}));var o=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:r;return i.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=o})),i.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,n){for(var a=this.getData().tree,i=a.root.children[0],r=a.getNodeByDataIndex(e),o=r.getValue(),s=r.name;r&&r!==i;)s=r.parentNode.name+"."+s,r=r.parentNode;return(0,Ht.TX)("nameValue",{name:s,value:o,noValue:isNaN(o)||null==o})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=Yn(a,this),n.collapsed=!a.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(_.Z);const Jn=jn;function qn(e,t){for(var n,a=[e];n=a.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var r=i.length-1;r>=0;r--)a.push(i[r])}}function Kn(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var n=hn(e,t);e.layoutInfo=n;var a=e.get("layout"),i=0,r=0,o=null;"radial"===a?(i=2*Math.PI,r=Math.min(n.height,n.width)/2,o=un((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(i=n.width,r=n.height,o=un());var s=e.getData().tree.root,l=s.children[0];if(l){!function(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,a,i=[t];n=i.pop();)if(a=n.children,n.isExpand&&a.length)for(var r=a.length-1;r>=0;r--){var o=a[r];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},i.push(o)}}(s),function(e,t,n){for(var a,i=[e],r=[];a=i.pop();)if(r.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)i.push(o[s])}for(;a=r.pop();)t(a,n)}(l,sn,o),s.hierNode.modifier=-l.hierNode.prelim,qn(l,ln);var u=l,d=l,h=l;qn(l,(function(e){var t=e.getLayout().x;t<u.getLayout().x&&(u=e),t>d.getLayout().x&&(d=e),e.depth>h.depth&&(h=e)}));var c=u===d?1:o(u,d)/2,p=c-u.getLayout().x,g=0,f=0,y=0,m=0;if("radial"===a)g=i/(d.getLayout().x+c+p),f=r/(h.depth-1||1),qn(l,(function(e){y=(e.getLayout().x+p)*g,m=(e.depth-1)*f;var t=dn(y,m);e.setLayout({x:t.x,y:t.y,rawX:y,rawY:m},!0)}));else{var v=e.getOrient();"RL"===v||"LR"===v?(f=r/(d.getLayout().x+c+p),g=i/(h.depth-1||1),qn(l,(function(e){m=(e.getLayout().x+p)*f,y="LR"===v?(e.depth-1)*g:i-(e.depth-1)*g,e.setLayout({x:y,y:m},!0)}))):"TB"!==v&&"BT"!==v||(g=i/(d.getLayout().x+c+p),f=r/(h.depth-1||1),qn(l,(function(e){y=(e.getLayout().x+p)*g,m="TB"===v?(e.depth-1)*f:r-(e.depth-1)*f,e.setLayout({x:y,y:m},!0)})))}}}(e,t)}))}function Qn(e){e.eachSeriesByType("tree",(function(e){var t=e.getData();t.tree.eachNode((function(e){var n=e.getModel().getModel("itemStyle").getItemStyle(),a=t.ensureUniqueItemVisual(e.dataIndex,"style");(0,i.l7)(a,n)}))}))}var $n=n(9314);function ea(e){e.registerChartView(Nn),e.registerSeriesModel(Jn),e.registerLayout(Kn),e.registerVisual(Qn),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=e.dataIndex,a=t.getData().tree.getNodeByDataIndex(n);a.isExpand=!a.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t,n){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var a=t.coordinateSystem,i=(0,$n.A)(a,e,void 0,n);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))}(e)}var ta=["treemapZoomToNode","treemapRender","treemapMove"];var na=n(4252);function aa(e){var t=e.getData().tree,n={};t.eachNode((function(t){for(var a=t;a&&a.depth>1;)a=a.parentNode;var i=(0,na.i)(e.ecModel,a.name||a.dataIndex+"",n);t.setVisual("decal",i)}))}var ia=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};ra(n);var a=e.levels||[],r=this.designatedVisualItemStyle={},o=new Fn.Z({itemStyle:r},this,t);a=e.levels=function(e,t){var n,a,r=(0,d.kF)(t.get("color")),o=(0,d.kF)(t.get(["aria","decal","decals"]));if(!r)return;e=e||[],i.S6(e,(function(e){var t=new Fn.Z(e),i=t.get("color"),r=t.get("decal");(t.get(["itemStyle","color"])||i&&"none"!==i)&&(n=!0),(t.get(["itemStyle","decal"])||r&&"none"!==r)&&(a=!0)}));var s=e[0]||(e[0]={});n||(s.color=r.slice());!a&&o&&(s.decal=o.slice());return e}(a,t);var s=i.UI(a||[],(function(e){return new Fn.Z(e,o,t)}),this),l=Wn.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=l.getNodeByDataIndex(t),a=n?s[n.depth]:null;return e.parentModel=a||o,e}))}));return l.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,n){var a=this.getData(),i=this.getRawValue(e),r=a.getName(e);return(0,Ht.TX)("nameValue",{name:r,value:i})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=Yn(a,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},i.l7(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=i.kW(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){aa(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(_.Z);function ra(e){var t=0;i.S6(e.children,(function(e){ra(e);var n=e.value;i.kJ(n)&&(n=n[0]),t+=n}));var n=e.value;i.kJ(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),i.kJ(e.value)?e.value[0]=n:e.value=n}const oa=ia;var sa=n(6023),la=function(){function e(e){this.group=new w.Z,e.add(this.group)}return e.prototype.render=function(e,t,n,a){var i=e.getModel("breadcrumb"),r=this.group;if(r.removeAll(),i.get("show")&&n){var o=i.getModel("itemStyle"),s=i.getModel("emphasis"),l=o.getModel("textStyle"),u=s.getModel(["itemStyle","textStyle"]),d={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,d,l),this._renderContent(e,d,o,s,l,u,a),rt.p$(r,d.pos,d.box)}},e.prototype._prepare=function(e,t,n){for(var a=e;a;a=a.parentNode){var i=(0,d.U5)(a.getModel().get("name"),""),r=n.getTextRect(i),o=Math.max(r.width+16,t.emptyItemWidth);t.totalWidth+=o+8,t.renderList.push({node:a,text:i,width:o})}},e.prototype._renderContent=function(e,t,n,a,r,o,s){for(var l=0,u=t.emptyItemWidth,d=e.get(["breadcrumb","height"]),h=rt.lq(t.pos,t.box),c=t.totalWidth,p=t.renderList,g=a.getModel("itemStyle").getItemStyle(),f=p.length-1;f>=0;f--){var y=p[f],m=y.node,v=y.width,x=y.text;c>h.width&&(c-=v-u,v=u,x=null);var S=new Bt.Z({shape:{points:ua(l,0,v,d,f===p.length-1,0===f)},style:(0,i.ce)(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new E.ZP({style:(0,te.Lr)(r,{text:x})}),textConfig:{position:"inside"},z2:1e4*ee.zr,onclick:(0,i.WA)(s,m)});S.disableLabelAnimation=!0,S.getTextContent().ensureState("emphasis").style=(0,te.Lr)(o,{text:x}),S.ensureState("emphasis").style=g,(0,ee.k5)(S,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(S),da(S,e,m),l+=v+8}},e.prototype.remove=function(){this.group.removeAll()},e}();function ua(e,t,n,a,i,r){var o=[[i?e:e-5,t],[e+n,t],[e+n,t+a],[i?e:e-5,t+a]];return!r&&o.splice(2,0,[e+n+5,t+a/2]),!i&&o.push([e,t+a/2]),o}function da(e,t,n){(0,ae.A)(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&Yn(n,t)}}const ha=la;var ca=n(8229),pa=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,n,a,i){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:a,easing:i}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},a=0,i=this._storage.length;a<i;a++){var r=this._storage[a];r.el.animateTo(r.target,{duration:r.duration,delay:r.delay,easing:r.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();var ga=n(6601),fa=n(5582),ya=w.Z,ma=Y.Z,va="label",xa="upperLabel",Sa=10*ee.zr,ba=2*ee.zr,_a=3*ee.zr,Ia=(0,ga.Z)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),wa=function(e){var t=Ia(e);return t.stroke=t.fill=t.lineWidth=null,t},Ma=(0,d.Yf)(),Da=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n,a){var r=t.findComponents({mainType:"series",subType:"treemap",query:a});if(!((0,i.cq)(r,e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var o=Hn(a,["treemapZoomToNode","treemapRootToNode"],e),s=a&&a.type,l=e.layoutInfo,u=!this._oldTree,d=this._storage,h="treemapRootToNode"===s&&o&&d?{rootNodeGroup:d.nodeGroup[o.node.getRawIndex()],direction:a.direction}:null,c=this._giveContainerGroup(l),p=e.get("animation"),g=this._doRender(c,e,h);!p||u||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?g.renderFinally():this._doAnimation(c,g,e,h),this._resetController(n),this._renderBreadcrumb(e,n,o)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new ya,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,n){var a=t.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},l=this._storage,u=[];function h(e,a,r,h){return function(e,t,n,a,r,o,s,l,u,h){if(!s)return;var c=s.getLayout(),p=e.getData(),g=s.getModel();if(p.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var f=c.width,y=c.height,m=c.borderWidth,v=c.invisible,x=s.getRawIndex(),S=l&&l.getRawIndex(),b=s.viewChildren,_=c.upperHeight,I=b&&b.length,M=g.getModel("itemStyle"),D=g.getModel(["emphasis","itemStyle"]),A=g.getModel(["blur","itemStyle"]),L=g.getModel(["select","itemStyle"]),T=M.get("borderRadius")||0,C=F("nodeGroup",ya);if(!C)return;if(u.add(C),C.x=c.x||0,C.y=c.y||0,C.markRedraw(),Ma(C).nodeWidth=f,Ma(C).nodeHeight=y,c.isAboveViewRoot)return C;var N=F("background",ma,h,ba);N&&O(C,N,I&&c.upperLabelHeight);var P=g.getModel("emphasis"),k=P.get("focus"),E=P.get("blurScope"),Z=P.get("disabled"),R="ancestor"===k?s.getAncestorsIndices():"descendant"===k?s.getDescendantIndices():k;if(I)(0,ee.Av)(C)&&(0,ee.Nj)(C,!1),N&&((0,ee.Nj)(N,!Z),p.setItemGraphicEl(s.dataIndex,N),(0,ee.Ib)(N,R,E));else{var V=F("content",ma,h,_a);V&&G(C,V),N.disableMorphing=!0,N&&(0,ee.Av)(N)&&(0,ee.Nj)(N,!1),(0,ee.Nj)(C,!Z),p.setItemGraphicEl(s.dataIndex,C),(0,ee.Ib)(C,R,E)}return C;function O(t,n,a){var i=(0,ae.A)(n);if(i.dataIndex=s.dataIndex,i.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:f,height:y,r:T}),v)z(n);else{n.invisible=!1;var r=s.getVisual("style"),o=r.stroke,l=wa(M);l.fill=o;var u=Ia(D);u.fill=D.get("borderColor");var d=Ia(A);d.fill=A.get("borderColor");var h=Ia(L);if(h.fill=L.get("borderColor"),a){var c=f-2*m;B(n,o,r.opacity,{x:m,y:0,width:c,height:_})}else n.removeTextContent();n.setStyle(l),n.ensureState("emphasis").style=u,n.ensureState("blur").style=d,n.ensureState("select").style=h,(0,ee.MA)(n)}t.add(n)}function G(t,n){var a=(0,ae.A)(n);a.dataIndex=s.dataIndex,a.seriesIndex=e.seriesIndex;var i=Math.max(f-2*m,0),r=Math.max(y-2*m,0);if(n.culling=!0,n.setShape({x:m,y:m,width:i,height:r,r:T}),v)z(n);else{n.invisible=!1;var o=s.getVisual("style"),l=o.fill,u=wa(M);u.fill=l,u.decal=o.decal;var d=Ia(D),h=Ia(A),c=Ia(L);B(n,l,o.opacity,null),n.setStyle(u),n.ensureState("emphasis").style=d,n.ensureState("blur").style=h,n.ensureState("select").style=c,(0,ee.MA)(n)}t.add(n)}function z(e){!e.invisible&&o.push(e)}function B(t,n,a,r){var o=g.getModel(r?xa:va),l=(0,d.U5)(g.get("name"),null),u=o.getShallow("show");(0,te.ni)(t,(0,te.k3)(g,r?xa:va),{defaultText:u?l:null,inheritColor:n,defaultOpacity:a,labelFetcher:e,labelDataIndex:s.dataIndex});var h=t.getTextContent();if(h){var p=h.style,f=(0,i.MY)(p.padding||0);r&&(t.setTextConfig({layoutRect:r}),h.disableLabelLayout=!0),h.beforeUpdate=function(){var e=Math.max((r?r.width:t.shape.width)-f[1]-f[3],0),n=Math.max((r?r.height:t.shape.height)-f[0]-f[2],0);p.width===e&&p.height===n||h.setStyle({width:e,height:n})},p.truncateMinChar=2,p.lineOverflow="truncate",W(p,r,c);var y=h.getState("emphasis");W(y?y.style:null,r,c)}}function W(t,n,a){var i=t?t.text:null;if(!n&&a.isLeafRoot&&null!=i){var r=e.get("drillDownIcon",!0);t.text=r?r+" "+i:i}}function F(e,a,i,o){var s=null!=S&&n[e][S],l=r[e];return s?(n[e][S]=null,H(l,s)):v||((s=new a)instanceof fa.ZP&&(s.z2=function(e,t){return e*Sa+t}(i,o)),U(l,s)),t[e][x]=s}function H(e,t){var n=e[x]={};t instanceof ya?(n.oldX=t.x,n.oldY=t.y):n.oldShape=(0,i.l7)({},t.shape)}function U(e,t){var n=e[x]={},i=s.parentNode,o=t instanceof w.Z;if(i&&(!a||"drillDown"===a.direction)){var l=0,u=0,d=r.background[i.getRawIndex()];!a&&d&&d.oldShape&&(l=d.oldShape.width,u=d.oldShape.height),o?(n.oldX=0,n.oldY=u):n.oldShape={x:l,y:u,width:0,height:0}}n.fadein=!o}}(t,s,l,n,o,u,e,a,r,h)}!function e(t,n,a,r,o){r?(n=t,(0,i.S6)(t,(function(e,t){!e.isRemoved()&&l(t,t)}))):new sa.Z(n,t,s,s).add(l).update(l).remove((0,i.WA)(l,null)).execute();function s(e){return e.getId()}function l(i,s){var l=null!=i?t[i]:null,u=null!=s?n[s]:null,d=h(l,u,a,o);d&&e(l&&l.viewChildren||[],u&&u.viewChildren||[],d,r,o+1)}}(a.root?[a.root]:[],r&&r.root?[r.root]:[],e,a===r||!r,0);var c=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&(0,i.S6)(e,(function(e,n){var a=t[n];(0,i.S6)(e,(function(e){e&&(a.push(e),Ma(e).willDelete=!0)}))})),t}(l);return this._oldTree=a,this._storage=s,{lastsForAnimation:o,willDeleteEls:c,renderFinally:function(){(0,i.S6)(c,(function(e){(0,i.S6)(e,(function(e){e.parent&&e.parent.remove(e)}))})),(0,i.S6)(u,(function(e){e.invisible=!0,e.dirty()}))}}},t.prototype._doAnimation=function(e,t,n,a){var r=n.get("animationDurationUpdate"),o=n.get("animationEasing"),s=((0,i.mf)(r)?0:r)||0,l=((0,i.mf)(o)?null:o)||"cubicOut",u=new pa;(0,i.S6)(t.willDeleteEls,(function(e,t){(0,i.S6)(e,(function(e,n){if(!e.invisible){var i,r=e.parent,o=Ma(r);if(a&&"drillDown"===a.direction)i=r===a.rootNodeGroup?{shape:{x:0,y:0,width:o.nodeWidth,height:o.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,h=0;o.willDelete||(d=o.nodeWidth/2,h=o.nodeHeight/2),i="nodeGroup"===t?{x:d,y:h,style:{opacity:0}}:{shape:{x:d,y:h,width:0,height:0},style:{opacity:0}}}i&&u.add(e,i,s,0,l)}}))})),(0,i.S6)(this._storage,(function(e,n){(0,i.S6)(e,(function(e,a){var r=t.lastsForAnimation[n][a],o={};r&&(e instanceof w.Z?null!=r.oldX&&(o.x=e.x,o.y=e.y,e.x=r.oldX,e.y=r.oldY):(r.oldShape&&(o.shape=(0,i.l7)({},e.shape),e.setShape(r.oldShape)),r.fadein?(e.setStyle("opacity",0),o.style={opacity:1}):1!==e.style.opacity&&(o.style={opacity:1})),u.add(e,o,s,0,l))}))}),this),this._state="animating",u.finished((0,i.ak)((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller;t||((t=this._controller=new Sn.Z(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",(0,i.ak)(this._onPan,this)),t.on("zoom",(0,i.ak)(this._onZoom,this)));var n=new Ct.Z(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,a){return n.contain(t,a)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){var a=this.seriesModel.getData().tree.root;if(!a)return;var i=a.getLayout();if(!i)return;var r=new Ct.Z(i.x,i.y,i.width,i.height),o=this.seriesModel.layoutInfo;t-=o.x,n-=o.y;var s=ca.Ue();ca.Iu(s,s,[-t,-n]),ca.bA(s,s,[e.scale,e.scale]),ca.Iu(s,s,[t,n]),r.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var n=t.seriesModel.get("nodeClick",!0);if(n){var a=t.findTarget(e.offsetX,e.offsetY);if(a){var i=a.node;if(i.getLayout().isLeafRoot)t._rootToNode(a);else if("zoomToNode"===n)t._zoomToNode(a);else if("link"===n){var r=i.hostTree.data.getItemModel(i.dataIndex),o=r.get("link",!0),s=r.get("target",!0)||"blank";o&&(0,ie.MI)(o,s)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,n){var a=this;n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new ha(this.group))).render(e,t,n.node,(function(t){"animating"!==a._state&&(Xn(e.getViewRoot(),t)?a._rootToNode({node:t}):a._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(a){var i=this._storage.background[a.getRawIndex()];if(i){var r=i.transformCoordToLocal(e,t),o=i.shape;if(!(o.x<=r[0]&&r[0]<=o.x+o.width&&o.y<=r[1]&&r[1]<=o.y+o.height))return!1;n={node:a,offsetX:r[0],offsetY:r[1]}}}),this),n},t.type="treemap",t}(X.Z);const Aa=Da;var La=n(941),Ta=(0,d.Yf)();const Ca={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||Na(t,{},e.getViewRoot().getAncestors(),e)}};function Na(e,t,n,a){var r=e.getModel(),o=e.getLayout(),s=e.hostTree.data;if(o&&!o.invisible&&o.isInView){var l,u=r.getModel("itemStyle"),d=function(e,t,n){var a=(0,i.l7)({},t),r=n.designatedVisualItemStyle;return(0,i.S6)(["color","colorAlpha","colorSaturation"],(function(n){r[n]=t[n];var i=e.get(n);r[n]=null,null!=i&&(a[n]=i)})),a}(u,t,a),h=s.ensureUniqueItemVisual(e.dataIndex,"style"),c=u.get("borderColor"),p=u.get("borderColorSaturation");null!=p&&(c=function(e,t){return null!=t?(0,re.ox)(t,null,null,e):null}(p,l=Pa(d))),h.stroke=c;var g=e.viewChildren;if(g&&g.length){var f=function(e,t,n,a,i,r){if(!r||!r.length)return;var o=Ea(t,"color")||null!=i.color&&"none"!==i.color&&(Ea(t,"colorAlpha")||Ea(t,"colorSaturation"));if(!o)return;var s=t.get("visualMin"),l=t.get("visualMax"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var d=t.get("colorMappingBy"),h={type:o.name,dataExtent:u,visual:o.range};"color"!==h.type||"index"!==d&&"id"!==d?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var c=new La.Z(h);return Ta(c).drColorMappingBy=d,c}(0,r,o,0,d,g);(0,i.S6)(g,(function(e,t){if(e.depth>=n.length||e===n[e.depth]){var o=function(e,t,n,a,r,o){var s=(0,i.l7)({},t);if(r){var l=r.type,u="color"===l&&Ta(r).drColorMappingBy,d="index"===u?a:"id"===u?o.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));s[l]=r.mapValueToVisual(d)}return s}(r,d,e,t,f,a);Na(e,o,n,a)}}))}else l=Pa(d),h.fill=l}}function Pa(e){var t=ka(e,"color");if(t){var n=ka(e,"colorAlpha"),a=ka(e,"colorSaturation");return a&&(t=(0,re.ox)(t,null,null,a)),n&&(t=(0,re.m8)(t,n)),t}}function ka(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function Ea(e,t){var n=e.get(t);return(0,i.kJ)(n)&&n.length?{name:t,range:n}:null}var Za=Math.max,Ra=Math.min,Va=i.Jv,Oa=i.S6,Ga=["itemStyle","borderWidth"],za=["itemStyle","gapWidth"],Ba=["upperLabel","show"],Wa=["upperLabel","height"];const Fa={seriesType:"treemap",reset:function(e,t,n,a){var r=n.getWidth(),o=n.getHeight(),s=e.option,l=rt.ME(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=s.size||[],d=(0,J.GM)(Va(l.width,u[0]),r),h=(0,J.GM)(Va(l.height,u[1]),o),c=a&&a.type,p=Hn(a,["treemapZoomToNode","treemapRootToNode"],e),g="treemapRender"===c||"treemapMove"===c?a.rootRect:null,f=e.getViewRoot(),y=Un(f);if("treemapMove"!==c){var m="treemapZoomToNode"===c?function(e,t,n,a,i){var r,o=(t||{}).node,s=[a,i];if(!o||o===n)return s;var l=a*i,u=l*e.option.zoomToNodeRatio;for(;r=o.parentNode;){for(var d=0,h=r.children,c=0,p=h.length;c<p;c++)d+=h[c].getValue();var g=o.getValue();if(0===g)return s;u*=d/g;var f=r.getModel(),y=f.get(Ga);(u+=4*y*y+(3*y+Math.max(y,ja(f)))*Math.pow(u,.5))>J.YM&&(u=J.YM),o=r}u<l&&(u=l);var m=Math.pow(u/l,.5);return[a*m,i*m]}(e,p,f,d,h):g?[g.width,g.height]:[d,h],v=s.sort;v&&"asc"!==v&&"desc"!==v&&(v="desc");var x={squareRatio:s.squareRatio,sort:v,leafDepth:s.leafDepth};f.hostTree.clearLayouts();var S={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};f.setLayout(S),Ha(f,x,!1,0),S=f.getLayout(),Oa(y,(function(e,t){var n=(y[t+1]||f).getValue();e.setLayout(i.l7({dataExtent:[n,n],borderWidth:0,upperHeight:0},S))}))}var b=e.getData().tree.root;b.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var a={x:0,y:0};if(!n)return a;var i=n.node,r=i.getLayout();if(!r)return a;var o=[r.width/2,r.height/2],s=i;for(;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}(l,g,p),!0),e.setLayoutInfo(l),Ya(b,new Ct.Z(-l.x,-l.y,r,o),y,f,0)}};function Ha(e,t,n,a){var r,o;if(!e.isRemoved()){var s=e.getLayout();r=s.width,o=s.height;var l=e.getModel(),u=l.get(Ga),d=l.get(za)/2,h=ja(l),c=Math.max(u,h),p=u-d,g=c-d;e.setLayout({borderWidth:u,upperHeight:c,upperLabelHeight:h},!0);var f=(r=Za(r-2*p,0))*(o=Za(o-p-g,0)),y=function(e,t,n,a,r,o){var s=e.children||[],l=a.sort;"asc"!==l&&"desc"!==l&&(l=null);var u=null!=a.leafDepth&&a.leafDepth<=o;if(r&&!u)return e.viewChildren=[];s=i.hX(s,(function(e){return!e.isRemoved()})),function(e,t){t&&e.sort((function(e,n){var a="asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===a?"asc"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:a}))}(s,l);var d=function(e,t,n){for(var a=0,i=0,r=t.length;i<r;i++)a+=t[i].getValue();var o,s=e.get("visualDimension");t&&t.length?"value"===s&&n?(o=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&o.reverse()):(o=[1/0,-1/0],Oa(t,(function(e){var t=e.getValue(s);t<o[0]&&(o[0]=t),t>o[1]&&(o[1]=t)}))):o=[NaN,NaN];return{sum:a,dataExtent:o}}(t,s,l);if(0===d.sum)return e.viewChildren=[];if(d.sum=function(e,t,n,a,i){if(!a)return n;for(var r=e.get("visibleMin"),o=i.length,s=o,l=o-1;l>=0;l--){var u=i["asc"===a?o-l-1:l].getValue();u/n*t<r&&(s=l,n-=u)}return"asc"===a?i.splice(0,o-s):i.splice(s,o-s),n}(t,n,d.sum,l,s),0===d.sum)return e.viewChildren=[];for(var h=0,c=s.length;h<c;h++){var p=s[h].getValue()/d.sum*n;s[h].setLayout({area:p})}u&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0);return e.viewChildren=s,e.setLayout({dataExtent:d.dataExtent},!0),s}(e,l,f,t,n,a);if(y.length){var m={x:p,y:g,width:r,height:o},v=Ra(r,o),x=1/0,S=[];S.area=0;for(var b=0,_=y.length;b<_;){var I=y[b];S.push(I),S.area+=I.getLayout().area;var w=Ua(S,v,t.squareRatio);w<=x?(b++,x=w):(S.area-=S.pop().getLayout().area,Xa(S,v,m,d,!1),v=Ra(m.width,m.height),S.length=S.area=0,x=1/0)}if(S.length&&Xa(S,v,m,d,!0),!n){var M=l.get("childrenVisibleMin");null!=M&&f<M&&(n=!0)}for(b=0,_=y.length;b<_;b++)Ha(y[b],t,n,a+1)}}}function Ua(e,t,n){for(var a=0,i=1/0,r=0,o=void 0,s=e.length;r<s;r++)(o=e[r].getLayout().area)&&(o<i&&(i=o),o>a&&(a=o));var l=e.area*e.area,u=t*t*n;return l?Za(u*a/l,l/(u*i)):1/0}function Xa(e,t,n,a,i){var r=t===n.width?0:1,o=1-r,s=["x","y"],l=["width","height"],u=n[s[r]],d=t?e.area/t:0;(i||d>n[l[o]])&&(d=n[l[o]]);for(var h=0,c=e.length;h<c;h++){var p=e[h],g={},f=d?p.getLayout().area/d:0,y=g[l[o]]=Za(d-2*a,0),m=n[s[r]]+n[l[r]]-u,v=h===c-1||m<f?m:f,x=g[l[r]]=Za(v-2*a,0);g[s[o]]=n[s[o]]+Ra(a,y/2),g[s[r]]=u+Ra(a,x/2),u+=v,p.setLayout(g,!0)}n[s[o]]+=d,n[l[o]]-=d}function Ya(e,t,n,a,i){var r=e.getLayout(),o=n[i],s=o&&o===e;if(!(o&&!s||i===n.length&&e!==a)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(r),isAboveViewRoot:s},!0);var l=new Ct.Z(t.x-r.x,t.y-r.y,t.width,t.height);Oa(e.viewChildren||[],(function(e){Ya(e,l,n,a,i+1)}))}}function ja(e){return e.get(Ba)?e.get(Wa):0}function Ja(e){e.registerSeriesModel(oa),e.registerChartView(Aa),e.registerVisual(Ca),e.registerLayout(Fa),function(e){for(var t=0;t<ta.length;t++)e.registerAction({type:ta[t],update:"updateView"},i.ZT);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,n){var a=Hn(e,["treemapZoomToNode","treemapRootToNode"],t);if(a){var i=t.getViewRoot();i&&(e.direction=Xn(i,a.node)?"rollUp":"drillDown"),t.resetViewRoot(a.node)}}))}))}(e)}function qa(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),a=e.getGraph().data,r=n.mapArray(n.getName);a.filterSelf((function(e){var n=a.getItemModel(e).getShallow("category");if(null!=n){(0,i.hj)(n)&&(n=r[n]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(n))return!1}return!0}))}))}function Ka(e){var t={};e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),a=e.getData(),r={};n.each((function(a){var i=n.getName(a);r["ec-"+i]=a;var o=n.getItemModel(a),s=o.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(i,t)),n.setItemVisual(a,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var d=o.getShallow(l[u],!0);null!=d&&n.setItemVisual(a,l[u],d)}})),n.count()&&a.each((function(e){var t=a.getItemModel(e).getShallow("category");if(null!=t){(0,i.HD)(t)&&(t=r["ec-"+t]);var o=n.getItemVisual(t,"style"),s=a.ensureUniqueItemVisual(e,"style");(0,i.l7)(s,o);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++)a.setItemVisual(e,l[u],n.getItemVisual(t,l[u]))}}))}))}function Qa(e){return e instanceof Array||(e=[e,e]),e}function $a(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),a=Qa(e.get("edgeSymbol")),r=Qa(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",a&&a[0]),n.setVisual("toSymbol",a&&a[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var a=n.getItemModel(e),r=t.getEdgeByIndex(e),o=Qa(a.getShallow("symbol",!0)),s=Qa(a.getShallow("symbolSize",!0)),l=a.getModel("lineStyle").getLineStyle(),u=n.ensureUniqueItemVisual(e,"style");switch((0,i.l7)(u,l),u.stroke){case"source":var d=r.node1.getVisual("style");u.stroke=d&&d.fill;break;case"target":d=r.node2.getVisual("style");u.stroke=d&&d.fill}o[0]&&r.setVisual("fromSymbol",o[0]),o[1]&&r.setVisual("toSymbol",o[1]),s[0]&&r.setVisual("fromSymbolSize",s[0]),s[1]&&r.setVisual("toSymbolSize",s[1])}))}))}var ei=n(4534),ti="--\x3e",ni=function(e){return e.get("autoCurveness")||null},ai=function(e,t){var n=ni(e),a=20,r=[];if(i.hj(n))a=n;else if(i.kJ(n))return void(e.__curvenessList=n);t>a&&(a=t);var o=a%2?a+2:a+3;r=[];for(var s=0;s<o;s++)r.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=r},ii=function(e,t,n){var a=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[n.uid,a,i].join(ti)},ri=function(e){var t=e.split(ti);return[t[0],t[2],t[1]].join(ti)},oi=function(e,t){var n=ii(e.node1,e.node2,t);return t.__edgeMap[n]},si=function(e,t){return li(ii(e.node1,e.node2,t),t)+li(ii(e.node2,e.node1,t),t)},li=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function ui(e,t,n,a){var r=ni(t),o=i.kJ(r);if(!r)return null;var s=oi(e,t);if(!s)return null;for(var l=-1,u=0;u<s.length;u++)if(s[u]===n){l=u;break}var d=si(e,t);ai(t,d),e.lineStyle=e.lineStyle||{};var h=ii(e.node1,e.node2,t),c=t.__curvenessList,p=o||d%2?0:1;if(s.isForward)return c[p+l];var g=ri(h),f=li(g,t),y=c[l+f+p];return a?o?r&&0===r[0]?(f+p)%2?y:-y:((f%2?0:1)+p)%2?y:-y:(f+p)%2?y:-y:c[l+f+p]}function di(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),hi(n,e)}}function hi(e,t){e.eachEdge((function(e,n){var a=i.R1(e.getModel().get(["lineStyle","curveness"]),-ui(e,t,n,!0),0),r=ei.d9(e.node1.getLayout()),o=ei.d9(e.node2.getLayout()),s=[r,o];+a&&s.push([(r[0]+o[0])/2-(r[1]-o[1])*a,(r[1]+o[1])/2-(o[0]-r[0])*a]),e.setLayout(s)}))}function ci(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var a=e.getData(),r=[];(0,i.S6)(n.dimensions,(function(e){r=r.concat(a.mapDimensionsAll(e))}));for(var o=0;o<a.count();o++){for(var s=[],l=!1,u=0;u<r.length;u++){var d=a.get(r[u],o);isNaN(d)||(l=!0),s.push(d)}l?a.setItemLayout(o,n.dataToPoint(s)):a.setItemLayout(o,[NaN,NaN])}hi(a.graph,e)}else t&&"none"!==t||di(e)}))}function pi(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,a=t.scaleX;return((t.getZoom()-1)*n+1)/a}function gi(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var fi=Math.PI,yi=[];function mi(e,t,n,a){var r=e.coordinateSystem;if(!r||"view"===r.type){var o=r.getBoundingRect(),s=e.getData(),l=s.graph,u=o.width/2+o.x,d=o.height/2+o.y,h=Math.min(o.width,o.height)/2,c=s.count();if(s.setLayout({cx:u,cy:d}),c){if(n){var p=r.pointToData(a),g=p[0],f=p[1],y=[g-u,f-d];ei.Fv(y,y),ei.bA(y,y,h),n.setLayout([u+y[0],d+y[1]],!0),xi(n,e.get(["circular","rotateLabel"]),u,d)}vi[t](e,l,s,h,u,d,c),l.eachEdge((function(t,n){var a,r=i.R1(t.getModel().get(["lineStyle","curveness"]),ui(t,e,n),0),o=ei.d9(t.node1.getLayout()),s=ei.d9(t.node2.getLayout()),l=(o[0]+s[0])/2,h=(o[1]+s[1])/2;+r&&(a=[u*(r*=3)+l*(1-r),d*r+h*(1-r)]),t.setLayout([o,s,a])}))}}}var vi={value:function(e,t,n,a,i,r,o){var s=0,l=n.getSum("value"),u=2*Math.PI/(l||o);t.eachNode((function(e){var t=e.getValue("value"),n=u*(l?t:1)/2;s+=n,e.setLayout([a*Math.cos(s)+i,a*Math.sin(s)+r]),s+=n}))},symbolSize:function(e,t,n,a,i,r,o){var s=0;yi.length=o;var l=pi(e);t.eachNode((function(e){var t=gi(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var n=Math.asin(t/2/a);isNaN(n)&&(n=fi/2),yi[e.dataIndex]=n,s+=2*n}));var u=(2*fi-s)/o/2,d=0;t.eachNode((function(e){var t=u+yi[e.dataIndex];d+=t,(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([a*Math.cos(d)+i,a*Math.sin(d)+r]),d+=t}))}};function xi(e,t,n,a){var r=e.getGraphicEl();if(r){var o=e.getModel().get(["label","rotate"])||0,s=r.getSymbolPath();if(t){var l=e.getLayout(),u=Math.atan2(l[1]-a,l[0]-n);u<0&&(u=2*Math.PI+u);var d=l[0]<n;d&&(u-=Math.PI);var h=d?"left":"right";s.setTextConfig({rotation:-u,position:h,origin:"center"});var c=s.ensureState("emphasis");i.l7(c.textConfig||(c.textConfig={}),{position:h})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function Si(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&mi(e,"symbolSize")}))}var bi=ei.od;function _i(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var n=e.preservedPoints||{},a=e.getGraph(),r=a.data,o=a.edgeData,s=e.getModel("force"),l=s.get("initLayout");e.preservedPoints?r.each((function(e){var t=r.getId(e);r.setItemLayout(e,n[t]||[NaN,NaN])})):l&&"none"!==l?"circular"===l&&mi(e,"value"):di(e);var u=r.getDataExtent("value"),d=o.getDataExtent("value"),h=s.get("repulsion"),c=s.get("edgeLength"),p=i.kJ(h)?h:[h,h],g=i.kJ(c)?c:[c,c];g=[g[1],g[0]];var f=r.mapArray("value",(function(e,t){var n=r.getItemLayout(t),a=(0,J.NU)(e,u,p);return isNaN(a)&&(a=(p[0]+p[1])/2),{w:a,rep:a,fixed:r.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),y=o.mapArray("value",(function(t,n){var r=a.getEdgeByIndex(n),o=(0,J.NU)(t,d,g);isNaN(o)&&(o=(g[0]+g[1])/2);var s=r.getModel(),l=i.R1(r.getModel().get(["lineStyle","curveness"]),-ui(r,e,n,!0),0);return{n1:f[r.node1.dataIndex],n2:f[r.node2.dataIndex],d:o,curveness:l,ignoreForceLayout:s.get("ignoreForceLayout")}})),m=t.getBoundingRect(),v=function(e,t,n){for(var a=e,i=t,r=n.rect,o=r.width,s=r.height,l=[r.x+o/2,r.y+s/2],u=null==n.gravity?.1:n.gravity,d=0;d<a.length;d++){var h=a[d];h.p||(h.p=ei.Ue(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=ei.d9(h.p),h.edges=null}var c,p,g=null==n.friction?.6:n.friction,f=g;return{warmUp:function(){f=.8*g},setFixed:function(e){a[e].fixed=!0},setUnfixed:function(e){a[e].fixed=!1},beforeStep:function(e){c=e},afterStep:function(e){p=e},step:function(e){c&&c(a,i);for(var t=[],n=a.length,r=0;r<i.length;r++){var o=i[r];if(!o.ignoreForceLayout){var s=o.n1,d=o.n2;ei.lu(t,d.p,s.p);var h=ei.Zh(t)-o.d,g=d.w/(s.w+d.w);isNaN(g)&&(g=0),ei.Fv(t,t),!s.fixed&&bi(s.p,s.p,t,g*h*f),!d.fixed&&bi(d.p,d.p,t,-(1-g)*h*f)}}for(r=0;r<n;r++)(x=a[r]).fixed||(ei.lu(t,l,x.p),bi(x.p,x.p,t,u*f));for(r=0;r<n;r++){s=a[r];for(var y=r+1;y<n;y++){d=a[y],ei.lu(t,d.p,s.p),0===(h=ei.Zh(t))&&(ei.t8(t,Math.random()-.5,Math.random()-.5),h=1);var m=(s.rep+d.rep)/h/h;!s.fixed&&bi(s.pp,s.pp,t,m),!d.fixed&&bi(d.pp,d.pp,t,-m)}}var v=[];for(r=0;r<n;r++){var x;(x=a[r]).fixed||(ei.lu(v,x.p,x.pp),bi(x.p,x.p,v,f),ei.JG(x.pp,x.p))}var S=(f*=.992)<.01;p&&p(a,i,S),e&&e(S)}}}(f,y,{rect:m,gravity:s.get("gravity"),friction:s.get("friction")});v.beforeStep((function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].fixed&&ei.JG(e[n].p,a.getNodeByIndex(n).getLayout())})),v.afterStep((function(e,t,i){for(var o=0,s=e.length;o<s;o++)e[o].fixed||a.getNodeByIndex(o).setLayout(e[o].p),n[r.getId(o)]=e[o].p;for(o=0,s=t.length;o<s;o++){var l=t[o],u=a.getEdgeByIndex(o),d=l.n1.p,h=l.n2.p,c=u.getLayout();(c=c?c.slice():[])[0]=c[0]||[],c[1]=c[1]||[],ei.JG(c[0],d),ei.JG(c[1],h),+l.curveness&&(c[2]=[(d[0]+h[0])/2-(d[1]-h[1])*l.curveness,(d[1]+h[1])/2-(h[0]-d[0])*l.curveness]),u.setLayout(c)}})),e.forceLayout=v,e.preservedPoints=n,v.step()}else e.forceLayout=null}))}function Ii(e,t){var n=[];return e.eachSeriesByType("graph",(function(e){var a=e.get("coordinateSystem");if(!a||"view"===a){var r=e.getData(),o=r.mapArray((function(e){var t=r.getItemModel(e);return[+t.get("x"),+t.get("y")]})),s=[],l=[];mn.zk(o,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),d=function(e,t,n){var a=(0,i.l7)(e.getBoxLayoutParams(),{aspect:n});return(0,rt.ME)(a,{width:t.getWidth(),height:t.getHeight()})}(e,t,u);isNaN(u)&&(s=[d.x,d.y],l=[d.x+d.width,d.y+d.height]);var h=l[0]-s[0],c=l[1]-s[1],p=d.width,g=d.height,f=e.coordinateSystem=new vn.Z;f.zoomLimit=e.get("scaleLimit"),f.setBoundingRect(s[0],s[1],h,c),f.setViewRect(d.x,d.y,p,g),f.setCenter(e.get("center"),t),f.setZoom(e.get("zoom")),n.push(f)}})),n}var wi=n(8793),Mi=[],Di=[],Ai=[],Li=V.Zm,Ti=ei.WU,Ci=Math.abs;function Ni(e,t,n){for(var a,i=e[0],r=e[1],o=e[2],s=1/0,l=n*n,u=.1,d=.1;d<=.9;d+=.1){Mi[0]=Li(i[0],r[0],o[0],d),Mi[1]=Li(i[1],r[1],o[1],d),(p=Ci(Ti(Mi,t)-l))<s&&(s=p,a=d)}for(var h=0;h<32;h++){var c=a+u;Di[0]=Li(i[0],r[0],o[0],a),Di[1]=Li(i[1],r[1],o[1],a),Ai[0]=Li(i[0],r[0],o[0],c),Ai[1]=Li(i[1],r[1],o[1],c);var p=Ti(Di,t)-l;if(Ci(p)<.01)break;var g=Ti(Ai,t)-l;u/=2,p<0?g>=0?a+=u:a-=u:g>=0?a-=u:a+=u}return a}function Pi(e,t){var n=[],a=V.Lx,i=[[],[],[]],r=[[],[]],o=[];t/=2,e.eachEdge((function(e,s){var l=e.getLayout(),u=e.getVisual("fromSymbol"),d=e.getVisual("toSymbol");l.__original||(l.__original=[ei.d9(l[0]),ei.d9(l[1])],l[2]&&l.__original.push(ei.d9(l[2])));var h=l.__original;if(null!=l[2]){if(ei.JG(i[0],h[0]),ei.JG(i[1],h[2]),ei.JG(i[2],h[1]),u&&"none"!==u){var c=gi(e.node1),p=Ni(i,h[0],c*t);a(i[0][0],i[1][0],i[2][0],p,n),i[0][0]=n[3],i[1][0]=n[4],a(i[0][1],i[1][1],i[2][1],p,n),i[0][1]=n[3],i[1][1]=n[4]}if(d&&"none"!==d){c=gi(e.node2),p=Ni(i,h[1],c*t);a(i[0][0],i[1][0],i[2][0],p,n),i[1][0]=n[1],i[2][0]=n[2],a(i[0][1],i[1][1],i[2][1],p,n),i[1][1]=n[1],i[2][1]=n[2]}ei.JG(l[0],i[0]),ei.JG(l[1],i[2]),ei.JG(l[2],i[1])}else{if(ei.JG(r[0],h[0]),ei.JG(r[1],h[1]),ei.lu(o,r[1],r[0]),ei.Fv(o,o),u&&"none"!==u){c=gi(e.node1);ei.od(r[0],r[0],o,c*t)}if(d&&"none"!==d){c=gi(e.node2);ei.od(r[1],r[1],o,-c*t)}ei.JG(l[0],r[0]),ei.JG(l[1],r[1])}}))}function ki(e){return"view"===e.type}var Ei=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.init=function(e,t){var n=new A.Z,a=new wi.Z,i=this.group;this._controller=new Sn.Z(t.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(a.group),this._symbolDraw=n,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(e,t,n){var a=this,i=e.coordinateSystem;this._model=e;var r=this._symbolDraw,o=this._lineDraw,s=this.group;if(ki(i)){var l={x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY};this._firstRender?s.attr(l):k.D(s,l,e)}Pi(e.getGraph(),pi(e));var u=e.getData();r.updateData(u);var d=e.getEdgeData();o.updateData(d),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var h=e.forceLayout,c=e.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,c);var p=e.get("layout");u.graph.eachNode((function(t){var n=t.dataIndex,i=t.getGraphicEl(),r=t.getModel();if(i){i.off("drag").off("dragend");var o=r.get("draggable");o&&i.on("drag",(function(r){switch(p){case"force":h.warmUp(),!a._layouting&&a._startForceLayoutIteration(h,c),h.setFixed(n),u.setItemLayout(n,[i.x,i.y]);break;case"circular":u.setItemLayout(n,[i.x,i.y]),t.setLayout({fixed:!0},!0),mi(e,"symbolSize",t,[r.offsetX,r.offsetY]),a.updateLayout(e);break;default:u.setItemLayout(n,[i.x,i.y]),hi(e.getGraph(),e),a.updateLayout(e)}})).on("dragend",(function(){h&&h.setUnfixed(n)})),i.setDraggable(o,!!r.get("cursor")),"adjacency"===r.get(["emphasis","focus"])&&((0,ae.A)(i).focus=t.getAdjacentDataIndices())}})),u.graph.eachEdge((function(e){var t=e.getGraphicEl(),n=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===n&&((0,ae.A)(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var g="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),f=u.getLayout("cx"),y=u.getLayout("cy");u.graph.eachNode((function(e){xi(e,g,f,y)})),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var n=this;!function a(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(a,16):a())}))}()},t.prototype._updateController=function(e,t,n){var a=this,i=this._controller,r=this._controllerHost,o=this.group;i.setPointerChecker((function(t,a,i){var r=o.getBoundingRect();return r.applyTransform(o.transform),r.contain(a,i)&&!(0,bn.l)(t,n,e)})),ki(e.coordinateSystem)?(i.enable(e.get("roam")),r.zoomLimit=e.get("scaleLimit"),r.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){xn.e(r,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){xn.H(r,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),a._updateNodeAndLinkScale(),Pi(e.getGraph(),pi(e)),a._lineDraw.updateLayout(),n.updateLabelLayout()}))):i.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=pi(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(n)}))},t.prototype.updateLayout=function(e){Pi(e.getGraph(),pi(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(X.Z);const Zi=Ei;function Ri(e){return"_EC_"+e}var Vi=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var n=this._nodesMap;if(!n[Ri(e)]){var a=new Oi(e,t);return a.hostGraph=this,this.nodes.push(a),n[Ri(e)]=a,a}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[Ri(e)]},e.prototype.addEdge=function(e,t,n){var a=this._nodesMap,r=this._edgesMap;if(i.hj(e)&&(e=this.nodes[e]),i.hj(t)&&(t=this.nodes[t]),e instanceof Oi||(e=a[Ri(e)]),t instanceof Oi||(t=a[Ri(t)]),e&&t){var o=e.id+"-"+t.id,s=new Gi(e,t,n);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),r[o]=s,s}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof Oi&&(e=e.id),t instanceof Oi&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var n=this.nodes,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&e.call(t,n[i],i)},e.prototype.eachEdge=function(e,t){for(var n=this.edges,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(t,n[i],i)},e.prototype.breadthFirstTraverse=function(e,t,n,a){if(t instanceof Oi||(t=this._nodesMap[Ri(t)]),t){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!e.call(a,t,null))for(var o=[t];o.length;){var s=o.shift(),l=s[i];for(r=0;r<l.length;r++){var u=l[r],d=u.node1===s?u.node2:u.node1;if(!d.__visited){if(e.call(a,d,s))return;o.push(d),d.__visited=!0}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,a=this.edges,i=0,r=n.length;i<r;i++)n[i].dataIndex=-1;for(i=0,r=e.count();i<r;i++)n[e.getRawIndex(i)].dataIndex=i;t.filterSelf((function(e){var n=a[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(i=0,r=a.length;i<r;i++)a[i].dataIndex=-1;for(i=0,r=t.count();i<r;i++)a[t.getRawIndex(i)].dataIndex=i},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,a=this.edges,i=0;i<n.length;i++)t.addNode(n[i].id,n[i].dataIndex);for(i=0;i<a.length;i++){var r=a[i];t.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return t},e}(),Oi=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},e.prototype.getTrajectoryDataIndices=function(){for(var e=i.kW(),t=i.kW(),n=0;n<this.edges.length;n++){var a=this.edges[n];if(!(a.dataIndex<0)){e.set(a.dataIndex,!0);for(var r=[a.node1],o=[a.node2],s=0;s<r.length;){var l=r[s];s++,t.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)e.set(l.inEdges[u].dataIndex,!0),r.push(l.inEdges[u].node1)}for(s=0;s<o.length;){var d=o[s];s++,t.set(d.dataIndex,!0);for(u=0;u<d.outEdges.length;u++)e.set(d.outEdges[u].dataIndex,!0),o.push(d.outEdges[u].node2)}}}return{edge:e.keys(),node:t.keys()}},e}(),Gi=function(){function e(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}return e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var e=i.kW(),t=i.kW();e.set(this.dataIndex,!0);for(var n=[this.node1],a=[this.node2],r=0;r<n.length;){var o=n[r];r++,t.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)e.set(o.inEdges[s].dataIndex,!0),n.push(o.inEdges[s].node1)}for(r=0;r<a.length;){var l=a[r];r++,t.set(l.dataIndex,!0);for(s=0;s<l.outEdges.length;s++)e.set(l.outEdges[s].dataIndex,!0),a.push(l.outEdges[s].node2)}return{edge:e.keys(),node:t.keys()}},e}();function zi(e,t){return{getValue:function(n){var a=this[e][t];return a.getStore().get(a.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,a){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,a)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,a){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,a)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}i.jB(Oi,zi("hostGraph","data")),i.jB(Gi,zi("hostGraph","edgeData"));const Bi=Vi;function Wi(e,t,n,a,o){for(var s=new Bi(a),l=0;l<e.length;l++)s.addNode(i.Jv(e[l].id,e[l].name,l),l);var u=[],h=[],c=0;for(l=0;l<t.length;l++){var g=t[l],f=g.source,m=g.target;s.addEdge(f,m,c)&&(h.push(g),u.push(i.Jv((0,d.U5)(g.id,null),f+" > "+m)),c++)}var v,x=n.get("coordinateSystem");if("cartesian2d"===x||"polar"===x)v=b(e,n);else{var S=y.Z.get(x),_=S&&S.dimensions||[];i.cq(_,"value")<0&&_.concat(["value"]);var I=p(e,{coordDimensions:_,encodeDefine:n.getEncode()}).dimensions;(v=new r.Z(I,n)).initData(e)}var w=new r.Z(["value"],n);return w.initData(h,u),o&&o(v,w),zn({mainData:v,struct:s,structAttr:"graph",datas:{node:v,edge:w},datasAttr:{node:"data",edge:"edgeData"}}),s.update(),s}var Fi=n(6477),Hi=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,a.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function a(){return n._categoriesData}this.legendVisualProvider=new wt(a,a),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,d.Cc)(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var n,a=e.edges||e.links||[],r=e.data||e.nodes||[],o=this;if(r&&a){ni(n=this)&&(n.__curvenessList=[],n.__edgeMap={},ai(n));var s=Wi(r,a,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e){var t=o._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var n=Fn.Z.prototype.getModel;function a(e,t){var a=n.call(this,e,t);return a.resolveParentPath=i,a}function i(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=i,e.getModel=a,e}))}));return i.S6(s.edges,(function(e){!function(e,t,n,a){if(ni(n)){var i=ii(e,t,n),r=n.__edgeMap,o=r[ri(i)];r[i]&&!o?r[i].isForward=!0:o&&r[i]&&(o.isForward=!0,r[i].isForward=!1),r[i]=r[i]||[],r[i].push(a)}}(e.node1,e.node2,this,e.dataIndex)}),this),s.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if("edge"===n){var a=this.getData(),i=this.getDataParams(e,n),r=a.graph.getEdgeByIndex(e),o=a.getName(r.node1.dataIndex),s=a.getName(r.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),(0,Ht.TX)("nameValue",{name:l.join(" > "),value:i.value,noValue:null==i.value})}return(0,Fi.w)({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=i.UI(this.option.categories||[],(function(e){return null!=e.value?e:i.l7({value:0},e)})),t=new r.Z(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(_.Z);const Ui=Hi;var Xi={type:"graphRoam",event:"graphRoam",update:"none"};function Yi(e){e.registerChartView(Zi),e.registerSeriesModel(Ui),e.registerProcessor(qa),e.registerVisual(Ka),e.registerVisual($a),e.registerLayout(ci),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,Si),e.registerLayout(_i),e.registerCoordinateSystem("graphView",{dimensions:vn.Z.dimensions,create:Ii}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},i.ZT),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},i.ZT),e.registerAction(Xi,(function(e,t,n){t.eachComponent({mainType:"series",query:e},(function(t){var a=t.coordinateSystem,i=(0,$n.A)(a,e,void 0,n);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))}var ji=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0};const Ji=function(e){function t(t){var n=e.call(this,t)||this;return n.type="pointer",n}return(0,a.ZT)(t,e),t.prototype.getDefaultShape=function(){return new ji},t.prototype.buildPath=function(e,t){var n=Math.cos,a=Math.sin,i=t.r,r=t.width,o=t.angle,s=t.x-n(o)*r*(r>=i/3?1:2),l=t.y-a(o)*r*(r>=i/3?1:2);o=t.angle-Math.PI/2,e.moveTo(s,l),e.lineTo(t.x+n(o)*r,t.y+a(o)*r),e.lineTo(t.x+n(t.angle)*i,t.y+a(t.angle)*i),e.lineTo(t.x-n(o)*r,t.y-a(o)*r),e.lineTo(s,l)},t}(Z.ZP);var qi=n(2026);function Ki(e,t){var n=null==e?"":e+"";return t&&((0,i.HD)(t)?n=t.replace("{value}",n):(0,i.mf)(t)&&(n=t(e))),n}var Qi=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]),i=function(e,t){var n=e.get("center"),a=t.getWidth(),i=t.getHeight(),r=Math.min(a,i);return{cx:(0,J.GM)(n[0],t.getWidth()),cy:(0,J.GM)(n[1],t.getHeight()),r:(0,J.GM)(e.get("radius"),r/2)}}(e,n);this._renderMain(e,t,n,a,i),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,n,a,r){var o=this.group,s=e.get("clockwise"),l=-e.get("startAngle")/180*Math.PI,u=-e.get("endAngle")/180*Math.PI,d=e.getModel("axisLine"),h=d.get("roundCap")?ke:j.C,c=d.get("show"),p=d.getModel("lineStyle"),g=p.get("width"),f=[l,u];(0,R.L)(f,!s);for(var y=(u=f[1])-(l=f[0]),m=l,v=[],x=0;c&&x<a.length;x++){var S=new h({shape:{startAngle:m,endAngle:u=l+y*Math.min(Math.max(a[x][0],0),1),cx:r.cx,cy:r.cy,clockwise:s,r0:r.r-g,r:r.r},silent:!0});S.setStyle({fill:a[x][1]}),S.setStyle(p.getLineStyle(["color","width"])),v.push(S),m=u}v.reverse(),(0,i.S6)(v,(function(e){return o.add(e)}));var b=function(e){if(e<=0)return a[0][1];var t;for(t=0;t<a.length;t++)if(a[t][0]>=e&&(0===t?0:a[t-1][0])<e)return a[t][1];return a[t-1][1]};this._renderTicks(e,t,n,b,r,l,u,s,g),this._renderTitleAndDetail(e,t,n,b,r),this._renderAnchor(e,r),this._renderPointer(e,t,n,b,r,l,u,s,g)},t.prototype._renderTicks=function(e,t,n,a,r,o,s,l,u){for(var d,h,c=this.group,p=r.cx,g=r.cy,f=r.r,y=+e.get("min"),m=+e.get("max"),v=e.getModel("splitLine"),x=e.getModel("axisTick"),S=e.getModel("axisLabel"),b=e.get("splitNumber"),_=x.get("splitNumber"),I=(0,J.GM)(v.get("length"),f),w=(0,J.GM)(x.get("length"),f),M=o,D=(s-o)/b,A=D/_,L=v.getModel("lineStyle").getLineStyle(),T=x.getModel("lineStyle").getLineStyle(),C=v.get("distance"),N=0;N<=b;N++){if(d=Math.cos(M),h=Math.sin(M),v.get("show")){var P=C?C+u:u,k=new qi.Z({shape:{x1:d*(f-P)+p,y1:h*(f-P)+g,x2:d*(f-I-P)+p,y2:h*(f-I-P)+g},style:L,silent:!0});"auto"===L.stroke&&k.setStyle({stroke:a(N/b)}),c.add(k)}if(S.get("show")){P=S.get("distance")+C;var Z=Ki((0,J.NM)(N/b*(m-y)+y),S.get("formatter")),R=a(N/b),V=d*(f-I-P)+p,O=h*(f-I-P)+g,G=S.get("rotate"),z=0;"radial"===G?(z=-M+2*Math.PI)>Math.PI/2&&(z+=Math.PI):"tangential"===G?z=-M-Math.PI/2:(0,i.hj)(G)&&(z=G*Math.PI/180),0===z?c.add(new E.ZP({style:(0,te.Lr)(S,{text:Z,x:V,y:O,verticalAlign:h<-.8?"top":h>.8?"bottom":"middle",align:d<-.4?"left":d>.4?"right":"center"},{inheritColor:R}),silent:!0})):c.add(new E.ZP({style:(0,te.Lr)(S,{text:Z,x:V,y:O,verticalAlign:"middle",align:"center"},{inheritColor:R}),silent:!0,originX:V,originY:O,rotation:z}))}if(x.get("show")&&N!==b){P=(P=x.get("distance"))?P+u:u;for(var B=0;B<=_;B++){d=Math.cos(M),h=Math.sin(M);var W=new qi.Z({shape:{x1:d*(f-P)+p,y1:h*(f-P)+g,x2:d*(f-w-P)+p,y2:h*(f-w-P)+g},silent:!0,style:T});"auto"===T.stroke&&W.setStyle({stroke:a((N+B/_)/b)}),c.add(W),M+=A}M-=A}else M+=D}},t.prototype._renderPointer=function(e,t,n,a,r,o,s,l,u){var d=this.group,h=this._data,c=this._progressEls,p=[],g=e.get(["pointer","show"]),f=e.getModel("progress"),y=f.get("show"),m=e.getData(),v=m.mapDimension("value"),x=+e.get("min"),S=+e.get("max"),b=[x,S],_=[o,s];function w(t,n){var a,i=m.getItemModel(t).getModel("pointer"),o=(0,J.GM)(i.get("width"),r.r),s=(0,J.GM)(i.get("length"),r.r),l=e.get(["pointer","icon"]),u=i.get("offsetCenter"),d=(0,J.GM)(u[0],r.r),h=(0,J.GM)(u[1],r.r),c=i.get("keepAspect");return(a=l?(0,I.th)(l,d-o/2,h-s,o,s,null,c):new Ji({shape:{angle:-Math.PI/2,width:o,r:s,x:d,y:h}})).rotation=-(n+Math.PI/2),a.x=r.cx,a.y=r.cy,a}function M(e,t){var n=f.get("roundCap")?ke:j.C,a=f.get("overlap"),i=a?f.get("width"):u/m.count(),s=a?r.r-i:r.r-(e+1)*i,d=a?r.r:r.r-e*i,h=new n({shape:{startAngle:o,endAngle:t,cx:r.cx,cy:r.cy,clockwise:l,r0:s,r:d}});return a&&(h.z2=S-m.get(v,e)%S),h}(y||g)&&(m.diff(h).add((function(t){var n=m.get(v,t);if(g){var a=w(t,o);k.KZ(a,{rotation:-((isNaN(+n)?_[0]:(0,J.NU)(n,b,_,!0))+Math.PI/2)},e),d.add(a),m.setItemGraphicEl(t,a)}if(y){var i=M(t,o),r=f.get("clip");k.KZ(i,{shape:{endAngle:(0,J.NU)(n,b,_,r)}},e),d.add(i),(0,ae.Q)(e.seriesIndex,m.dataType,t,i),p[t]=i}})).update((function(t,n){var a=m.get(v,t);if(g){var i=h.getItemGraphicEl(n),r=i?i.rotation:o,s=w(t,r);s.rotation=r,k.D(s,{rotation:-((isNaN(+a)?_[0]:(0,J.NU)(a,b,_,!0))+Math.PI/2)},e),d.add(s),m.setItemGraphicEl(t,s)}if(y){var l=c[n],u=M(t,l?l.shape.endAngle:o),x=f.get("clip");k.D(u,{shape:{endAngle:(0,J.NU)(a,b,_,x)}},e),d.add(u),(0,ae.Q)(e.seriesIndex,m.dataType,t,u),p[t]=u}})).execute(),m.each((function(e){var t=m.getItemModel(e),n=t.getModel("emphasis"),r=n.get("focus"),o=n.get("blurScope"),s=n.get("disabled");if(g){var l=m.getItemGraphicEl(e),u=m.getItemVisual(e,"style"),d=u.fill;if(l instanceof Wt.ZP){var h=l.style;l.useStyle((0,i.l7)({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},u))}else l.useStyle(u),"pointer"!==l.type&&l.setColor(d);l.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===l.style.fill&&l.setStyle("fill",a((0,J.NU)(m.get(v,e),b,[0,1],!0))),l.z2EmphasisLift=0,(0,ee.WO)(l,t),(0,ee.k5)(l,r,o,s)}if(y){var c=p[e];c.useStyle(m.getItemVisual(e,"style")),c.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),c.z2EmphasisLift=0,(0,ee.WO)(c,t),(0,ee.k5)(c,r,o,s)}})),this._progressEls=p)},t.prototype._renderAnchor=function(e,t){var n=e.getModel("anchor");if(n.get("show")){var a=n.get("size"),i=n.get("icon"),r=n.get("offsetCenter"),o=n.get("keepAspect"),s=(0,I.th)(i,t.cx-a/2+(0,J.GM)(r[0],t.r),t.cy-a/2+(0,J.GM)(r[1],t.r),a,a,null,o);s.z2=n.get("showAbove")?1:0,s.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(s)}},t.prototype._renderTitleAndDetail=function(e,t,n,a,i){var r=this,o=e.getData(),s=o.mapDimension("value"),l=+e.get("min"),u=+e.get("max"),d=new w.Z,h=[],c=[],p=e.isAnimationEnabled(),g=e.get(["pointer","showAbove"]);o.diff(this._data).add((function(e){h[e]=new E.ZP({silent:!0}),c[e]=new E.ZP({silent:!0})})).update((function(e,t){h[e]=r._titleEls[t],c[e]=r._detailEls[t]})).execute(),o.each((function(t){var n=o.getItemModel(t),r=o.get(s,t),f=new w.Z,y=a((0,J.NU)(r,[l,u],[0,1],!0)),m=n.getModel("title");if(m.get("show")){var v=m.get("offsetCenter"),x=i.cx+(0,J.GM)(v[0],i.r),S=i.cy+(0,J.GM)(v[1],i.r);(T=h[t]).attr({z2:g?0:2,style:(0,te.Lr)(m,{x:x,y:S,text:o.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:y})}),f.add(T)}var b=n.getModel("detail");if(b.get("show")){var _=b.get("offsetCenter"),I=i.cx+(0,J.GM)(_[0],i.r),M=i.cy+(0,J.GM)(_[1],i.r),D=(0,J.GM)(b.get("width"),i.r),A=(0,J.GM)(b.get("height"),i.r),L=e.get(["progress","show"])?o.getItemVisual(t,"style").fill:y,T=c[t],C=b.get("formatter");T.attr({z2:g?0:2,style:(0,te.Lr)(b,{x:I,y:M,text:Ki(r,C),width:isNaN(D)?null:D,height:isNaN(A)?null:A,align:"center",verticalAlign:"middle"},{inheritColor:L})}),(0,te.pe)(T,{normal:b},r,(function(e){return Ki(e,C)})),p&&(0,te.tD)(T,t,o,e,{getFormattedLabel:function(e,t,n,a,i,o){return Ki(o?o.interpolatedValue:r,C)}}),f.add(T)}d.add(f)})),this.group.add(d),this._titleEls=h,this._detailEls=c},t.type="gauge",t}(X.Z);const $i=Qi;const er=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){return It(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(_.Z);function tr(e){e.registerChartView($i),e.registerSeriesModel(er)}var nr=["itemStyle","opacity"],ar=function(e){function t(t,n){var a=e.call(this)||this,i=a,r=new ct.Z,o=new E.ZP;return i.setTextContent(o),a.setTextGuideLine(r),a.updateData(t,n,!0),a}return(0,a.ZT)(t,e),t.prototype.updateData=function(e,t,n){var a=this,i=e.hostModel,r=e.getItemModel(t),o=e.getItemLayout(t),s=r.getModel("emphasis"),l=r.get(nr);l=null==l?1:l,n||(0,k.Zi)(a),a.useStyle(e.getItemVisual(t,"style")),a.style.lineJoin="round",n?(a.setShape({points:o.points}),a.style.opacity=0,k.KZ(a,{style:{opacity:l}},i,t)):k.D(a,{style:{opacity:l},shape:{points:o.points}},i,t),(0,ee.WO)(a,r),this._updateLabel(e,t),(0,ee.k5)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e,t){var n=this,a=this.getTextGuideLine(),i=n.getTextContent(),r=e.hostModel,o=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"style"),u=l.fill;(0,te.ni)(i,(0,te.k3)(o),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:l.opacity,defaultText:e.getName(t)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),n.setTextConfig({local:!0,inside:!!s.inside,insideStroke:u,outsideFill:u});var d=s.linePoints;a.setShape({points:d}),n.textGuideLineConfig={anchor:d?new pt.Z(d[0][0],d[0][1]):null},k.D(i,{style:{x:s.x,y:s.y}},r,t),i.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),(0,gt.Iu)(n,(0,gt.$x)(o),{stroke:u})},t}(Bt.Z);const ir=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){var a=e.getData(),i=this._data,r=this.group;a.diff(i).add((function(e){var t=new ar(a,e);a.setItemGraphicEl(e,t),r.add(t)})).update((function(e,t){var n=i.getItemGraphicEl(t);n.updateData(a,e),r.add(n),a.setItemGraphicEl(e,n)})).remove((function(t){var n=i.getItemGraphicEl(t);k.XD(n,e,t)})).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(X.Z);var rr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new wt(i.ak(this.getData,this),i.ak(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return It(this,{coordDimensions:["value"],encodeDefaulter:i.WA(h.Ss,this)})},t.prototype._defaultLabelLine=function(e){(0,d.Cc)(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var n=this.getData(),a=e.prototype.getDataParams.call(this,t),i=n.mapDimension("value"),r=n.getSum(i);return a.percent=r?+(n.get(i,t)/r*100).toFixed(2):0,a.$vars.push("percent"),a},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(_.Z);const or=rr;function sr(e,t){e.eachSeriesByType("funnel",(function(e){var n=e.getData(),a=n.mapDimension("value"),r=e.get("sort"),o=function(e,t){return rt.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),s=e.get("orient"),l=o.width,u=o.height,d=function(e,t){for(var n=e.mapDimension("value"),a=e.mapArray(n,(function(e){return e})),r=[],o="ascending"===t,s=0,l=e.count();s<l;s++)r[s]=s;return(0,i.mf)(t)?r.sort(t):"none"!==t&&r.sort((function(e,t){return o?a[e]-a[t]:a[t]-a[e]})),r}(n,r),h=o.x,c=o.y,p="horizontal"===s?[(0,J.GM)(e.get("minSize"),u),(0,J.GM)(e.get("maxSize"),u)]:[(0,J.GM)(e.get("minSize"),l),(0,J.GM)(e.get("maxSize"),l)],g=n.getDataExtent(a),f=e.get("min"),y=e.get("max");null==f&&(f=Math.min(g[0],0)),null==y&&(y=g[1]);var m=e.get("funnelAlign"),v=e.get("gap"),x=(("horizontal"===s?l:u)-v*(n.count()-1))/n.count(),S=function(e,t){if("horizontal"===s){var i=n.get(a,e)||0,r=(0,J.NU)(i,[f,y],p,!0),o=void 0;switch(m){case"top":o=c;break;case"center":o=c+(u-r)/2;break;case"bottom":o=c+(u-r)}return[[t,o],[t,o+r]]}var d,g=n.get(a,e)||0,v=(0,J.NU)(g,[f,y],p,!0);switch(m){case"left":d=h;break;case"center":d=h+(l-v)/2;break;case"right":d=h+l-v}return[[d,t],[d+v,t]]};"ascending"===r&&(x=-x,v=-v,"horizontal"===s?h+=l:c+=u,d=d.reverse());for(var b=0;b<d.length;b++){var _=d[b],I=d[b+1],w=n.getItemModel(_);if("horizontal"===s){var M=w.get(["itemStyle","width"]);null==M?M=x:(M=(0,J.GM)(M,l),"ascending"===r&&(M=-M));var D=S(_,h),A=S(I,h+M);h+=M+v,n.setItemLayout(_,{points:D.concat(A.slice().reverse())})}else{var L=w.get(["itemStyle","height"]);null==L?L=x:(L=(0,J.GM)(L,u),"ascending"===r&&(L=-L));D=S(_,c),A=S(I,c+L);c+=L+v,n.setItemLayout(_,{points:D.concat(A.slice().reverse())})}}!function(e){var t=e.hostModel.get("orient");e.each((function(n){var a,i,r,o,s=e.getItemModel(n),l=s.getModel("label").get("position"),u=s.getModel("labelLine"),d=e.getItemLayout(n),h=d.points,c="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(c)"insideLeft"===l?(i=(h[0][0]+h[3][0])/2+5,r=(h[0][1]+h[3][1])/2,a="left"):"insideRight"===l?(i=(h[1][0]+h[2][0])/2-5,r=(h[1][1]+h[2][1])/2,a="right"):(i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,r=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,a="center"),o=[[i,r],[i,r]];else{var p=void 0,g=void 0,f=void 0,y=void 0,m=u.get("length");"left"===l?(p=(h[3][0]+h[0][0])/2,g=(h[3][1]+h[0][1])/2,i=(f=p-m)-5,a="right"):"right"===l?(p=(h[1][0]+h[2][0])/2,g=(h[1][1]+h[2][1])/2,i=(f=p+m)+5,a="left"):"top"===l?(p=(h[3][0]+h[0][0])/2,r=(y=(g=(h[3][1]+h[0][1])/2)-m)-5,a="center"):"bottom"===l?(p=(h[1][0]+h[2][0])/2,r=(y=(g=(h[1][1]+h[2][1])/2)+m)+5,a="center"):"rightTop"===l?(p="horizontal"===t?h[3][0]:h[1][0],g="horizontal"===t?h[3][1]:h[1][1],"horizontal"===t?(r=(y=g-m)-5,a="center"):(i=(f=p+m)+5,a="top")):"rightBottom"===l?(p=h[2][0],g=h[2][1],"horizontal"===t?(r=(y=g+m)+5,a="center"):(i=(f=p+m)+5,a="bottom")):"leftTop"===l?(p=h[0][0],g="horizontal"===t?h[0][1]:h[1][1],"horizontal"===t?(r=(y=g-m)-5,a="center"):(i=(f=p-m)-5,a="right")):"leftBottom"===l?(p="horizontal"===t?h[1][0]:h[3][0],g="horizontal"===t?h[1][1]:h[2][1],"horizontal"===t?(r=(y=g+m)+5,a="center"):(i=(f=p-m)-5,a="right")):(p=(h[1][0]+h[2][0])/2,g=(h[1][1]+h[2][1])/2,"horizontal"===t?(r=(y=g+m)+5,a="center"):(i=(f=p+m)+5,a="left")),"horizontal"===t?i=f=p:r=y=g,o=[[p,g],[f,y]]}d.label={linePoints:o,x:i,y:r,verticalAlign:"middle",textAlign:a,inside:c}}))}(n)}))}function lr(e){e.registerChartView(ir),e.registerSeriesModel(or),e.registerLayout(sr),e.registerProcessor(ht("funnel"))}var ur=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new w.Z,n._initialized=!1,n}return(0,a.ZT)(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,n,a){this._progressiveEls=null;var i=this._dataGroup,r=e.getData(),o=this._data,s=e.coordinateSystem,l=s.dimensions,u=cr(e);if(r.diff(o).add((function(e){var t=hr(r,i,e,l,s);pr(t,r,e,u)})).update((function(t,n){var a=o.getItemGraphicEl(n),i=dr(r,t,l,s);r.setItemGraphicEl(t,a),k.D(a,{shape:{points:i}},e,t),(0,k.Zi)(a),pr(a,r,t,u)})).remove((function(e){var t=o.getItemGraphicEl(e);i.remove(t)})).execute(),!this._initialized){this._initialized=!0;var d=function(e,t,n){var a=e.model,i=e.getRect(),r=new Y.Z({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o="horizontal"===a.get("layout")?"width":"height";return r.setShape(o,0),k.KZ(r,{shape:{width:i.width,height:i.height}},t,n),r}(s,e,(function(){setTimeout((function(){i.removeClipPath()}))}));i.setClipPath(d)}this._data=r},t.prototype.incrementalPrepareRender=function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,n){for(var a=t.getData(),i=t.coordinateSystem,r=i.dimensions,o=cr(t),s=this._progressiveEls=[],l=e.start;l<e.end;l++){var u=hr(a,this._dataGroup,l,r,i);u.incremental=!0,pr(u,a,l,o),s.push(u)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(X.Z);function dr(e,t,n,a){for(var i,r=[],o=0;o<n.length;o++){var s=n[o],l=e.get(e.mapDimension(s),t);i=l,("category"===a.getAxis(s).type?null==i:null==i||isNaN(i))||r.push(a.dataToPoint(l,s))}return r}function hr(e,t,n,a,i){var r=dr(e,n,a,i),o=new ct.Z({shape:{points:r},z2:10});return t.add(o),e.setItemGraphicEl(n,o),o}function cr(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),t=(0,J.FK)(t),(0,i.Bu)(t)&&(t=0),{smooth:t}}function pr(e,t,n,a){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",a.smooth);var i=t.getItemModel(n),r=i.getModel("emphasis");(0,ee.WO)(e,i,"lineStyle"),(0,ee.k5)(e,r.get("focus"),r.get("blurScope"),r.get("disabled"))}const gr=ur;function fr(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var n={};return(0,i.S6)(t.dimensions,(function(e){var t=+e.replace("dim","");n[e]=t})),n}}const yr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){return b(null,this,{useEncodeDefaulter:(0,i.ak)(fr,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,n=this.getData(),a=[];return t.eachActiveState(n,(function(t,i){e===t&&a.push(n.getRawIndex(i))})),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(_.Z);var mr=["lineStyle","opacity"];const vr={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,a={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){n.eachActiveState(t,(function(e,n){var i=a[e];if("normal"===e&&t.hasItemOption){var r=t.getItemModel(n).get(mr,!0);null!=r&&(i=r)}t.ensureUniqueItemVisual(n,"style").opacity=i}),e.start,e.end)}}}};var xr=n(6324);function Sr(e){(0,Lt.D)(xr.N),e.registerChartView(gr),e.registerSeriesModel(yr),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,vr)}var br=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},_r=function(e){function t(t){return e.call(this,t)||this}return(0,a.ZT)(t,e),t.prototype.getDefaultShape=function(){return new br},t.prototype.buildPath=function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},t.prototype.highlight=function(){(0,ee.fD)(this)},t.prototype.downplay=function(){(0,ee.Mh)(this)},t}(Z.ZP),Ir=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){var a=this,r=e.getGraph(),o=this.group,s=e.layoutInfo,l=s.width,u=s.height,d=e.getData(),h=e.getData("edge"),c=e.get("orient");this._model=e,o.removeAll(),o.x=s.x,o.y=s.y,r.eachEdge((function(t){var n=new _r,a=(0,ae.A)(n);a.dataIndex=t.dataIndex,a.seriesIndex=e.seriesIndex,a.dataType="edge";var r,s,d,p,g,f,y,m,v=t.getModel(),x=v.getModel("lineStyle"),S=x.get("curveness"),b=t.node1.getLayout(),_=t.node1.getModel(),I=_.get("localX"),w=_.get("localY"),M=t.node2.getLayout(),D=t.node2.getModel(),A=D.get("localX"),L=D.get("localY"),T=t.getLayout();n.shape.extent=Math.max(1,T.dy),n.shape.orient=c,"vertical"===c?(r=(null!=I?I*l:b.x)+T.sy,s=(null!=w?w*u:b.y)+b.dy,d=(null!=A?A*l:M.x)+T.ty,g=r,f=s*(1-S)+(p=null!=L?L*u:M.y)*S,y=d,m=s*S+p*(1-S)):(r=(null!=I?I*l:b.x)+b.dx,s=(null!=w?w*u:b.y)+T.sy,g=r*(1-S)+(d=null!=A?A*l:M.x)*S,f=s,y=r*S+d*(1-S),m=p=(null!=L?L*u:M.y)+T.ty),n.setShape({x1:r,y1:s,x2:d,y2:p,cpx1:g,cpy1:f,cpx2:y,cpy2:m}),n.useStyle(x.getItemStyle()),wr(n.style,c,t);var C=""+v.get("value"),N=(0,te.k3)(v,"edgeLabel");(0,te.ni)(n,N,{labelFetcher:{getFormattedLabel:function(t,n,a,r,o,s){return e.getFormattedLabel(t,n,"edge",r,(0,i.R1)(o,N.normal&&N.normal.get("formatter"),C),s)}},labelDataIndex:t.dataIndex,defaultText:C}),n.setTextConfig({position:"inside"});var P=v.getModel("emphasis");(0,ee.WO)(n,v,"lineStyle",(function(e){var n=e.getItemStyle();return wr(n,c,t),n})),o.add(n),h.setItemGraphicEl(t.dataIndex,n);var k=P.get("focus");(0,ee.k5)(n,"adjacency"===k?t.getAdjacentDataIndices():"trajectory"===k?t.getTrajectoryDataIndices():k,P.get("blurScope"),P.get("disabled"))})),r.eachNode((function(t){var n=t.getLayout(),a=t.getModel(),i=a.get("localX"),r=a.get("localY"),s=a.getModel("emphasis"),h=new Y.Z({shape:{x:null!=i?i*l:n.x,y:null!=r?r*u:n.y,width:n.dx,height:n.dy},style:a.getModel("itemStyle").getItemStyle(),z2:10});(0,te.ni)(h,(0,te.k3)(a),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(t,n,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id}),h.disableLabelAnimation=!0,h.setStyle("fill",t.getVisual("color")),h.setStyle("decal",t.getVisual("style").decal),(0,ee.WO)(h,a),o.add(h),d.setItemGraphicEl(t.dataIndex,h),(0,ae.A)(h).dataType="node";var c=s.get("focus");(0,ee.k5)(h,"adjacency"===c?t.getAdjacentDataIndices():"trajectory"===c?t.getTrajectoryDataIndices():c,s.get("blurScope"),s.get("disabled"))})),d.eachItemGraphicEl((function(t,i){d.getItemModel(i).get("draggable")&&(t.drift=function(t,r){a._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=r,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:d.getRawIndex(i),localX:this.shape.x/l,localY:this.shape.y/u})},t.ondragend=function(){a._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&o.setClipPath(function(e,t,n){var a=new Y.Z({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return k.KZ(a,{shape:{width:e.width+20}},t,n),a}(o.getBoundingRect(),e,(function(){o.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(X.Z);function wr(e,t,n){switch(e.fill){case"source":e.fill=n.node1.getVisual("color"),e.decal=n.node1.getVisual("style").decal;break;case"target":e.fill=n.node2.getVisual("color"),e.decal=n.node2.getVisual("style").decal;break;case"gradient":var a=n.node1.getVisual("color"),r=n.node2.getVisual("color");(0,i.HD)(a)&&(0,i.HD)(r)&&(e.fill=new P.Z(0,0,+("horizontal"===t),+("vertical"===t),[{color:a,offset:0},{color:r,offset:1}]))}}const Mr=Ir;var Dr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){var n=e.edges||e.links,a=e.data||e.nodes,i=e.levels;this.levelModels=[];for(var r=this.levelModels,o=0;o<i.length;o++)null!=i[o].depth&&i[o].depth>=0&&(r[i[o].depth]=new Fn.Z(i[o],this,t));if(a&&n){var s=Wi(a,n,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,a=n.getData().getItemLayout(t);if(a){var i=a.depth,r=n.levelModels[i];r&&(e.parentModel=r)}return e})),t.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,a=n.getGraph().getEdgeByIndex(t).node1.getLayout();if(a){var i=a.depth,r=n.levelModels[i];r&&(e.parentModel=r)}return e}))}));return s.data}},t.prototype.setNodePosition=function(e,t){var n=(this.option.data||this.option.nodes)[e];n.localX=t[0],n.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,n){function a(e){return isNaN(e)||null==e}if("edge"===n){var i=this.getDataParams(e,n),r=i.data,o=i.value,s=r.source+" -- "+r.target;return(0,Ht.TX)("nameValue",{name:s,value:o,noValue:a(o)})}var l=this.getGraph().getNodeByIndex(e).getLayout().value,u=this.getDataParams(e,n).data.name;return(0,Ht.TX)("nameValue",{name:null!=u?u+"":null,value:l,noValue:a(l)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,n){var a=e.prototype.getDataParams.call(this,t,n);if(null==a.value&&"node"===n){var i=this.getGraph().getNodeByIndex(t).getLayout().value;a.value=i}return a},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(_.Z);const Ar=Dr;function Lr(e,t){e.eachSeriesByType("sankey",(function(e){var n=e.get("nodeWidth"),a=e.get("nodeGap"),r=function(e,t){return rt.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=r;var o=r.width,s=r.height,l=e.getGraph(),u=l.nodes,h=l.edges;!function(e){i.S6(e,(function(e){var t=Or(e.outEdges,Vr),n=Or(e.inEdges,Vr),a=e.getValue()||0,i=Math.max(t,n,a);e.setLayout({value:i},!0)}))}(u),function(e,t,n,a,r,o,s,l,u){(function(e,t,n,a,r,o,s){for(var l=[],u=[],d=[],h=[],c=0,p=0;p<t.length;p++)l[p]=1;for(p=0;p<e.length;p++)u[p]=e[p].inEdges.length,0===u[p]&&d.push(e[p]);var g=-1;for(;d.length;){for(var f=0;f<d.length;f++){var y=d[f],m=y.hostGraph.data.getRawDataItem(y.dataIndex),v=null!=m.depth&&m.depth>=0;v&&m.depth>g&&(g=m.depth),y.setLayout({depth:v?m.depth:c},!0),"vertical"===o?y.setLayout({dy:n},!0):y.setLayout({dx:n},!0);for(var x=0;x<y.outEdges.length;x++){var S=y.outEdges[x];l[t.indexOf(S)]=0;var b=S.node2;0===--u[e.indexOf(b)]&&h.indexOf(b)<0&&h.push(b)}}++c,d=h,h=[]}for(p=0;p<l.length;p++)if(1===l[p])throw new Error("Sankey is a DAG, the original data has cycle!");var _=g>c-1?g:c-1;s&&"left"!==s&&function(e,t,n,a){if("right"===t){for(var r=[],o=e,s=0;o.length;){for(var l=0;l<o.length;l++){var u=o[l];u.setLayout({skNodeHeight:s},!0);for(var d=0;d<u.inEdges.length;d++){var h=u.inEdges[d];r.indexOf(h.node1)<0&&r.push(h.node1)}}o=r,r=[],++s}i.S6(e,(function(e){Tr(e)||e.setLayout({depth:Math.max(0,a-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&function(e,t){i.S6(e,(function(e){Tr(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}(e,a)}(e,s,0,_);var I="vertical"===o?(r-n)/_:(a-n)/_;!function(e,t,n){i.S6(e,(function(e){var a=e.getLayout().depth*t;"vertical"===n?e.setLayout({y:a},!0):e.setLayout({x:a},!0)}))}(e,I,o)})(e,t,n,r,o,l,u),function(e,t,n,a,r,o,s){var l=function(e,t){var n=[],a="vertical"===t?"y":"x",r=(0,d.pv)(e,(function(e){return e.getLayout()[a]}));return r.keys.sort((function(e,t){return e-t})),i.S6(r.keys,(function(e){n.push(r.buckets.get(e))})),n}(e,s);(function(e,t,n,a,r,o){var s=1/0;i.S6(e,(function(e){var t=e.length,l=0;i.S6(e,(function(e){l+=e.getLayout().value}));var u="vertical"===o?(a-(t-1)*r)/l:(n-(t-1)*r)/l;u<s&&(s=u)})),i.S6(e,(function(e){i.S6(e,(function(e,t){var n=e.getLayout().value*s;"vertical"===o?(e.setLayout({x:t},!0),e.setLayout({dx:n},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:n},!0))}))})),i.S6(t,(function(e){var t=+e.getValue()*s;e.setLayout({dy:t},!0)}))})(l,t,n,a,r,s),Cr(l,r,n,a,s);for(var u=1;o>0;o--)Nr(l,u*=.99,s),Cr(l,r,n,a,s),Gr(l,u,s),Cr(l,r,n,a,s)}(e,t,o,r,a,s,l),function(e,t){var n="vertical"===t?"x":"y";i.S6(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[n]-t.node2.getLayout()[n]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[n]-t.node1.getLayout()[n]}))})),i.S6(e,(function(e){var t=0,n=0;i.S6(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),i.S6(e.inEdges,(function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy}))}))}(e,l)}(u,h,n,a,o,s,0!==i.hX(u,(function(e){return 0===e.getLayout().value})).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))}))}function Tr(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function Cr(e,t,n,a,r){var o="vertical"===r?"x":"y";i.S6(e,(function(e){var i,s,l;e.sort((function(e,t){return e.getLayout()[o]-t.getLayout()[o]}));for(var u=0,d=e.length,h="vertical"===r?"dx":"dy",c=0;c<d;c++)(l=u-(s=e[c]).getLayout()[o])>0&&(i=s.getLayout()[o]+l,"vertical"===r?s.setLayout({x:i},!0):s.setLayout({y:i},!0)),u=s.getLayout()[o]+s.getLayout()[h]+t;if((l=u-t-("vertical"===r?a:n))>0){i=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:i},!0):s.setLayout({y:i},!0),u=i;for(c=d-2;c>=0;--c)(l=(s=e[c]).getLayout()[o]+s.getLayout()[h]+t-u)>0&&(i=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:i},!0):s.setLayout({y:i},!0)),u=s.getLayout()[o]}}))}function Nr(e,t,n){i.S6(e.slice().reverse(),(function(e){i.S6(e,(function(e){if(e.outEdges.length){var a=Or(e.outEdges,Pr,n)/Or(e.outEdges,Vr);if(isNaN(a)){var i=e.outEdges.length;a=i?Or(e.outEdges,kr,n)/i:0}if("vertical"===n){var r=e.getLayout().x+(a-Rr(e,n))*t;e.setLayout({x:r},!0)}else{var o=e.getLayout().y+(a-Rr(e,n))*t;e.setLayout({y:o},!0)}}}))}))}function Pr(e,t){return Rr(e.node2,t)*e.getValue()}function kr(e,t){return Rr(e.node2,t)}function Er(e,t){return Rr(e.node1,t)*e.getValue()}function Zr(e,t){return Rr(e.node1,t)}function Rr(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function Vr(e){return e.getValue()}function Or(e,t,n){for(var a=0,i=e.length,r=-1;++r<i;){var o=+t(e[r],n);isNaN(o)||(a+=o)}return a}function Gr(e,t,n){i.S6(e,(function(e){i.S6(e,(function(e){if(e.inEdges.length){var a=Or(e.inEdges,Er,n)/Or(e.inEdges,Vr);if(isNaN(a)){var i=e.inEdges.length;a=i?Or(e.inEdges,Zr,n)/i:0}if("vertical"===n){var r=e.getLayout().x+(a-Rr(e,n))*t;e.setLayout({x:r},!0)}else{var o=e.getLayout().y+(a-Rr(e,n))*t;e.setLayout({y:o},!0)}}}))}))}function zr(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph(),n=t.nodes,a=t.edges;if(n.length){var r=1/0,o=-1/0;i.S6(n,(function(e){var t=e.getLayout().value;t<r&&(r=t),t>o&&(o=t)})),i.S6(n,(function(t){var n=new La.Z({type:"color",mappingMethod:"linear",dataExtent:[r,o],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),a=t.getModel().get(["itemStyle","color"]);null!=a?(t.setVisual("color",a),t.setVisual("style",{fill:a})):(t.setVisual("color",n),t.setVisual("style",{fill:n}))}))}a.length&&i.S6(a,(function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)}))}))}function Br(e){e.registerChartView(Mr),e.registerSeriesModel(Ar),e.registerLayout(Lr),e.registerVisual(zr),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))}var Wr=function(){function e(){}return e.prototype.getInitialData=function(e,t){var n,a,r=t.getComponent("xAxis",this.get("xAxisIndex")),o=t.getComponent("yAxis",this.get("yAxisIndex")),s=r.get("type"),l=o.get("type");"category"===s?(e.layout="horizontal",n=r.getOrdinalMeta(),a=!0):"category"===l?(e.layout="vertical",n=o.getOrdinalMeta(),a=!0):e.layout=e.layout||"horizontal";var u=["x","y"],d="horizontal"===e.layout?0:1,c=this._baseAxisDim=u[d],p=u[1-d],g=[r,o],y=g[d].get("type"),m=g[1-d].get("type"),v=e.data;if(v&&a){var x=[];i.S6(v,(function(e,t){var n;i.kJ(e)?(n=e.slice(),e.unshift(t)):i.kJ(e.value)?((n=i.l7({},e)).value=n.value.slice(),e.value.unshift(t)):n=e,x.push(n)})),e.data=x}var S=this.defaultValueDimensions,b=[{name:c,type:(0,f.T)(y),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:p,type:(0,f.T)(m),dimsDef:S.slice()}];return It(this,{coordDimensions:b,dimensionsCount:S.length+1,encodeDefaulter:i.WA(h.pY,b,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),Fr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return(0,a.ZT)(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(_.Z);(0,i.jB)(Fr,Wr,!0);const Hr=Fr;var Ur=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){var a=e.getData(),i=this.group,r=this._data;this._data||i.removeAll();var o="horizontal"===e.get("layout")?1:0;a.diff(r).add((function(e){if(a.hasValue(e)){var t=jr(a.getItemLayout(e),a,e,o,!0);a.setItemGraphicEl(e,t),i.add(t)}})).update((function(e,t){var n=r.getItemGraphicEl(t);if(a.hasValue(e)){var s=a.getItemLayout(e);n?((0,k.Zi)(n),Jr(s,n,a,e)):n=jr(s,a,e,o),i.add(n),a.setItemGraphicEl(e,n)}else i.remove(n)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&i.remove(t)})).execute(),this._data=a},t.prototype.remove=function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(e){e&&t.remove(e)}))},t.type="boxplot",t}(X.Z),Xr=function(){},Yr=function(e){function t(t){var n=e.call(this,t)||this;return n.type="boxplotBoxPath",n}return(0,a.ZT)(t,e),t.prototype.getDefaultShape=function(){return new Xr},t.prototype.buildPath=function(e,t){var n=t.points,a=0;for(e.moveTo(n[a][0],n[a][1]),a++;a<4;a++)e.lineTo(n[a][0],n[a][1]);for(e.closePath();a<n.length;a++)e.moveTo(n[a][0],n[a][1]),a++,e.lineTo(n[a][0],n[a][1])},t}(Z.ZP);function jr(e,t,n,a,i){var r=e.ends,o=new Yr({shape:{points:i?qr(r,a,e):r}});return Jr(e,o,t,n,i),o}function Jr(e,t,n,a,i){var r=n.hostModel;(0,Te[i?"initProps":"updateProps"])(t,{shape:{points:e.ends}},r,a),t.useStyle(n.getItemVisual(a,"style")),t.style.strokeNoScale=!0,t.z2=100;var o=n.getItemModel(a),s=o.getModel("emphasis");(0,ee.WO)(t,o),(0,ee.k5)(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function qr(e,t,n){return i.UI(e,(function(e){return(e=e.slice())[t]=n.initBaseline,e}))}const Kr=Ur;var Qr=i.S6;function $r(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType("boxplot",(function(e){var a=e.getBaseAxis(),r=i.cq(n,a);r<0&&(r=n.length,n[r]=a,t[r]={axis:a,seriesModels:[]}),t[r].seriesModels.push(e)})),t}(e);Qr(t,(function(e){var t=e.seriesModels;t.length&&(!function(e){var t,n=e.axis,a=e.seriesModels,r=a.length,o=e.boxWidthList=[],s=e.boxOffsetList=[],l=[];if("category"===n.type)t=n.getBandWidth();else{var u=0;Qr(a,(function(e){u=Math.max(u,e.getData().count())}));var d=n.getExtent();t=Math.abs(d[1]-d[0])/u}Qr(a,(function(e){var n=e.get("boxWidth");i.kJ(n)||(n=[n,n]),l.push([(0,J.GM)(n[0],t)||0,(0,J.GM)(n[1],t)||0])}));var h=.8*t-2,c=h/r*.3,p=(h-c*(r-1))/r,g=p/2-h/2;Qr(a,(function(e,t){s.push(g),g+=c+p,o.push(Math.min(Math.max(p,l[t][0]),l[t][1]))}))}(e),Qr(t,(function(t,n){!function(e,t,n){var a=e.coordinateSystem,i=e.getData(),r=n/2,o="horizontal"===e.get("layout")?0:1,s=1-o,l=["x","y"],u=i.mapDimension(l[o]),d=i.mapDimensionsAll(l[s]);if(null==u||d.length<5)return;for(var h=0;h<i.count();h++){var c=i.get(u,h),p=x(c,d[2],h),g=x(c,d[0],h),f=x(c,d[1],h),y=x(c,d[3],h),m=x(c,d[4],h),v=[];S(v,f,!1),S(v,y,!0),v.push(g,f,m,y),b(v,g),b(v,m),b(v,p),i.setItemLayout(h,{initBaseline:p[s],ends:v})}function x(e,n,r){var l,u=i.get(n,r),d=[];return d[o]=e,d[s]=u,isNaN(e)||isNaN(u)?l=[NaN,NaN]:(l=a.dataToPoint(d))[o]+=t,l}function S(e,t,n){var a=t.slice(),i=t.slice();a[o]+=r,i[o]-=r,n?e.push(a,i):e.push(i,a)}function b(e,t){var n=t.slice(),a=t.slice();n[o]-=r,a[o]+=r,e.push(n,a)}}(t,e.boxOffsetList[n],e.boxWidthList[n])})))}))}var eo=n(938),to={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==o.XD){0,(0,eo._y)("")}var n=function(e,t){for(var n=[],a=[],r=(t=t||{}).boundIQR,o="none"===r||0===r,s=0;s<e.length;s++){var l=(0,J.dt)(e[s].slice()),u=(0,J.VR)(l,.25),d=(0,J.VR)(l,.5),h=(0,J.VR)(l,.75),c=l[0],p=l[l.length-1],g=(null==r?1.5:r)*(h-u),f=o?c:Math.max(c,u-g),y=o?p:Math.min(p,h+g),m=t.itemNameFormatter,v=(0,i.mf)(m)?m({value:s}):(0,i.HD)(m)?m.replace("{value}",s+""):s+"";n.push([v,f,u,d,h,y]);for(var x=0;x<l.length;x++){var S=l[x];if(S<f||S>y){var b=[v,S];a.push(b)}}}return{boxData:n,outliers:a}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};function no(e){e.registerSeriesModel(Hr),e.registerChartView(Kr),e.registerLayout($r),e.registerTransform(to)}var ao=["color","borderColor"],io=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,n,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){Te.traverseElements(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),n=this._data,a=this.group,i=t.getLayout("isSimpleBox"),r=e.get("clip",!0),o=e.coordinateSystem,s=o.getArea&&o.getArea();this._data||a.removeAll(),t.diff(n).add((function(n){if(t.hasValue(n)){var o=t.getItemLayout(n);if(r&&lo(s,o))return;var l=so(o,n,!0);k.KZ(l,{shape:{points:o.ends}},e,n),uo(l,t,n,i),a.add(l),t.setItemGraphicEl(n,l)}})).update((function(o,l){var u=n.getItemGraphicEl(l);if(t.hasValue(o)){var d=t.getItemLayout(o);r&&lo(s,d)?a.remove(u):(u?(k.D(u,{shape:{points:d.ends}},e,o),(0,k.Zi)(u)):u=so(d,o),uo(u,t,o,i),a.add(u),t.setItemGraphicEl(o,u))}else a.remove(u)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&a.remove(t)})).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),go(e,this.group);var t=e.get("clip",!0)?Q(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){for(var n,a=t.getData(),i=a.getLayout("isSimpleBox");null!=(n=e.next());){var r=so(a.getItemLayout(n),n);uo(r,a,n,i),r.incremental=!0,this.group.add(r),this._progressiveEls.push(r)}},t.prototype._incrementalRenderLarge=function(e,t){go(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(X.Z),ro=function(){},oo=function(e){function t(t){var n=e.call(this,t)||this;return n.type="normalCandlestickBox",n}return(0,a.ZT)(t,e),t.prototype.getDefaultShape=function(){return new ro},t.prototype.buildPath=function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(Z.ZP);function so(e,t,n){var a=e.ends;return new oo({shape:{points:n?ho(a,e):a},z2:100})}function lo(e,t){for(var n=!0,a=0;a<t.ends.length;a++)if(e.contain(t.ends[a][0],t.ends[a][1])){n=!1;break}return n}function uo(e,t,n,a){var i=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=a,(0,ee.WO)(e,i)}function ho(e,t){return i.UI(e,(function(e){return(e=e.slice())[1]=t.initBaseline,e}))}var co=function(){},po=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeCandlestickBox",n}return(0,a.ZT)(t,e),t.prototype.getDefaultShape=function(){return new co},t.prototype.buildPath=function(e,t){for(var n=t.points,a=0;a<n.length;)if(this.__sign===n[a++]){var i=n[a++];e.moveTo(i,n[a++]),e.lineTo(i,n[a++])}else a+=3},t}(Z.ZP);function go(e,t,n,a){var i=e.getData(),r=i.getLayout("largePoints"),o=new po({shape:{points:r},__sign:1,ignoreCoarsePointer:!0});t.add(o);var s=new po({shape:{points:r},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new po({shape:{points:r},__sign:0,ignoreCoarsePointer:!0});t.add(l),fo(1,o,e,i),fo(-1,s,e,i),fo(0,l,e,i),a&&(o.incremental=!0,s.incremental=!0),n&&n.push(o,s)}function fo(e,t,n,a){var i=n.get(["itemStyle",e>0?"borderColor":"borderColor0"])||n.get(["itemStyle",e>0?"color":"color0"]);0===e&&(i=n.get(["itemStyle","borderColorDoji"]));var r=n.getModel("itemStyle").getItemStyle(ao);t.useStyle(r),t.style.fill=null,t.style.stroke=i}const yo=io;var mo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return(0,a.ZT)(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,n){var a=t.getItemLayout(e);return a&&n.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(_.Z);(0,i.jB)(mo,Wr,!0);const vo=mo;function xo(e){e&&i.kJ(e.series)&&i.S6(e.series,(function(e){i.Kn(e)&&"k"===e.type&&(e.type="candlestick")}))}var So=["itemStyle","borderColor"],bo=["itemStyle","borderColor0"],_o=["itemStyle","borderColorDoji"],Io=["itemStyle","color"],wo=["itemStyle","color0"],Mo={seriesType:"candlestick",plan:(0,ve.Z)(),performRawSeries:!0,reset:function(e,t){function n(e,t){return t.get(e>0?Io:wo)}function a(e,t){return t.get(0===e?_o:e>0?So:bo)}if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var r;null!=(r=e.next());){var o=t.getItemModel(r),s=t.getItemLayout(r).sign,l=o.getItemStyle();l.fill=n(s,o),l.stroke=a(s,o)||l.fill;var u=t.ensureUniqueItemVisual(r,"style");(0,i.l7)(u,l)}}}}};const Do=Mo;function Ao(e,t,n,a,i,r){return n>a?-1:n<a?1:r?0:t>0?e.get(i,t-1)<=a?1:-1:1}const Lo={seriesType:"candlestick",plan:(0,ve.Z)(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),a=function(e,t){var n,a=e.getBaseAxis(),r="category"===a.type?a.getBandWidth():(n=a.getExtent(),Math.abs(n[1]-n[0])/t.count()),o=(0,J.GM)((0,i.pD)(e.get("barMaxWidth"),r),r),s=(0,J.GM)((0,i.pD)(e.get("barMinWidth"),1),r),l=e.get("barWidth");return null!=l?(0,J.GM)(l,r):Math.max(Math.min(r/2,o),s)}(e,n),r=["x","y"],o=n.getDimensionIndex(n.mapDimension(r[0])),s=(0,i.UI)(n.mapDimensionsAll(r[1]),n.getDimensionIndex,n),l=s[0],u=s[1],d=s[2],h=s[3];if(n.setLayout({candleWidth:a,isSimpleBox:a<=1.3}),!(o<0||s.length<4))return{progress:e.pipelineContext.large?function(n,a){var i,r,s=(0,N.o)(4*n.count),c=0,p=[],g=[],f=a.getStore(),y=!!e.get(["itemStyle","borderColorDoji"]);for(;null!=(r=n.next());){var m=f.get(o,r),v=f.get(l,r),x=f.get(u,r),S=f.get(d,r),b=f.get(h,r);isNaN(m)||isNaN(S)||isNaN(b)?(s[c++]=NaN,c+=3):(s[c++]=Ao(f,r,v,x,u,y),p[0]=m,p[1]=S,i=t.dataToPoint(p,null,g),s[c++]=i?i[0]:NaN,s[c++]=i?i[1]:NaN,p[1]=b,i=t.dataToPoint(p,null,g),s[c++]=i?i[1]:NaN)}a.setLayout("largePoints",s)}:function(e,n){var i,r=n.getStore();for(;null!=(i=e.next());){var s=r.get(o,i),c=r.get(l,i),p=r.get(u,i),g=r.get(d,i),f=r.get(h,i),y=Math.min(c,p),m=Math.max(c,p),v=w(y,s),x=w(m,s),S=w(g,s),b=w(f,s),_=[];M(_,x,0),M(_,v,1),_.push(A(b),A(x),A(S),A(v));var I=!!n.getItemModel(i).get(["itemStyle","borderColorDoji"]);n.setItemLayout(i,{sign:Ao(r,i,c,p,u,I),initBaseline:c>p?x[1]:v[1],ends:_,brushRect:D(g,f,s)})}function w(e,n){var a=[];return a[0]=n,a[1]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(a)}function M(e,t,n){var i=t.slice(),r=t.slice();i[0]=(0,Te.subPixelOptimize)(i[0]+a/2,1,!1),r[0]=(0,Te.subPixelOptimize)(r[0]-a/2,1,!0),n?e.push(i,r):e.push(r,i)}function D(e,t,n){var i=w(e,n),r=w(t,n);return i[0]-=a/2,r[0]-=a/2,{x:i[0],y:i[1],width:a,height:r[1]-i[1]}}function A(e){return e[0]=(0,Te.subPixelOptimize)(e[0],1),e}}}}};function To(e){e.registerChartView(yo),e.registerSeriesModel(vo),e.registerPreprocessor(xo),e.registerVisual(Do),e.registerLayout(Lo)}function Co(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})}))}const No=function(e){function t(t,n){var a=e.call(this)||this,i=new L.Z(t,n),r=new w.Z;return a.add(i),a.add(r),a.updateData(t,n),a}return(0,a.ZT)(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,a=e.rippleNumber,i=this.childAt(1),r=0;r<a;r++){var o=(0,I.th)(t,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-r/a*e.period+e.effectOffset;o.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(s).start(),o.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),i.add(o)}Co(i,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],i=0;i<a.length;i++){var r=a[i];if(t[r]!==e[r])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}Co(n,e)},t.prototype.highlight=function(){(0,ee.fD)(this)},t.prototype.downplay=function(){(0,ee.Mh)(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var n=this,a=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),r=e.getItemModel(t),o=e.getItemVisual(t,"symbol"),s=(0,I.zp)(e.getItemVisual(t,"symbolSize")),l=e.getItemVisual(t,"style"),u=l&&l.fill,d=r.getModel("emphasis");i.setScale(s),i.traverse((function(e){e.setStyle("fill",u)}));var h=(0,I.Cq)(e.getItemVisual(t,"symbolOffset"),s);h&&(i.x=h[0],i.y=h[1]);var c=e.getItemVisual(t,"symbolRotate");i.rotation=(c||0)*Math.PI/180||0;var p={};p.showEffectOn=a.get("showEffectOn"),p.rippleScale=r.get(["rippleEffect","scale"]),p.brushType=r.get(["rippleEffect","brushType"]),p.period=1e3*r.get(["rippleEffect","period"]),p.effectOffset=t/e.count(),p.z=a.getShallow("z")||0,p.zlevel=a.getShallow("zlevel")||0,p.symbolType=o,p.color=u,p.rippleEffectColor=r.get(["rippleEffect","color"]),p.rippleNumber=r.get(["rippleEffect","number"]),"render"===p.showEffectOn?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==p.showEffectOn&&n.startEffectAnimation(p):"normal"===e&&"render"!==p.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=p,(0,ee.k5)(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(w.Z);const Po=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.init=function(){this._symbolDraw=new A.Z(No)},t.prototype.render=function(e,t,n){var a=e.getData(),i=this._symbolDraw;i.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(i.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype.updateTransform=function(e,t,n){var a=e.getData();this.group.dirty();var i=xe("").reset(e,t,n);i.progress&&i.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=ca.d9(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(X.Z);const ko=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){return b(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(_.Z);function Eo(e){e.registerChartView(Po),e.registerSeriesModel(ko),e.registerLayout(xe("effectScatter"))}var Zo=n(3220),Ro=function(e){function t(t,n,a){var i=e.call(this)||this;return i.add(i.createLine(t,n,a)),i._updateEffectSymbol(t,n),i}return(0,a.ZT)(t,e),t.prototype.createLine=function(e,t,n){return new Zo.Z(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),a=n.get("symbolSize"),r=n.get("symbol");i.kJ(a)||(a=[a,a]);var o=e.getItemVisual(t,"style"),s=n.get("color")||o&&o.stroke,l=this.childAt(1);this._symbolType!==r&&(this.remove(l),(l=(0,I.th)(r,-.5,-.5,1,1,s)).z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",s),l.setStyle(n.getItemStyle(["color"])),l.scaleX=a[0],l.scaleY=a[1],l.setColor(s),this._symbolType=r,this._symbolScale=a,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,n){var a=this.childAt(1);if(a){var r=e.getItemLayout(n),o=1e3*t.get("period"),s=t.get("loop"),l=t.get("roundTrip"),u=t.get("constantSpeed"),d=i.Jv(t.get("delay"),(function(t){return t/e.count()*o/3}));if(a.ignore=!0,this._updateAnimationPoints(a,r),u>0&&(o=this._getLineLength(a)/u*1e3),o!==this._period||s!==this._loop||l!==this._roundTrip){a.stopAnimation();var h=void 0;h=i.mf(d)?d(n):d,a.__t>0&&(h=-o*a.__t),this._animateSymbol(a,o,h,s,l)}this._period=o,this._loop=s,this._roundTrip=l}},t.prototype._animateSymbol=function(e,t,n,a,i){if(t>0){e.__t=0;var r=this,o=e.animate("",a).when(i?2*t:t,{__t:i?2:1}).delay(n).during((function(){r._updateSymbolPosition(e)}));a||o.done((function(){r.remove(e)})),o.start()}},t.prototype._getLineLength=function(e){return ei.TK(e.__p1,e.__cp1)+ei.TK(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,a=e.__cp1,i=e.__t<1?e.__t:2-e.__t,r=[e.x,e.y],o=r.slice(),s=V.Zm,l=V.AZ;r[0]=s(t[0],a[0],n[0],i),r[1]=s(t[1],a[1],n[1],i);var u=e.__t<1?l(t[0],a[0],n[0],i):l(n[0],a[0],t[0],1-i),d=e.__t<1?l(t[1],a[1],n[1],i):l(n[1],a[1],t[1],1-i);e.rotation=-Math.atan2(d,u)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*ei.TK(o,r),1===i&&(r[0]=o[0]+(r[0]-o[0])/2,r[1]=o[1]+(r[1]-o[1])/2)):1===e.__lastT?e.scaleY=2*ei.TK(t,r):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=r[0],e.y=r[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},t}(w.Z);const Vo=Ro;var Oo=function(e){function t(t,n,a){var i=e.call(this)||this;return i._createPolyline(t,n,a),i}return(0,a.ZT)(t,e),t.prototype._createPolyline=function(e,t,n){var a=e.getItemLayout(t),i=new ct.Z({shape:{points:a}});this.add(i),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var a=e.hostModel,i=this.childAt(0),r={shape:{points:e.getItemLayout(t)}};k.D(i,r,a,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var a=this.childAt(0),i=e.getItemModel(t),r=n&&n.emphasisLineStyle,o=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var u=i.getModel("emphasis");r=u.getModel("lineStyle").getLineStyle(),l=u.get("disabled"),o=u.get("focus"),s=u.get("blurScope")}a.useStyle(e.getItemVisual(t,"style")),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=r,(0,ee.k5)(this,o,s,l)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},t}(w.Z);const Go=Oo;const zo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return(0,a.ZT)(t,e),t.prototype.createLine=function(e,t,n){return new Go(e,t,n)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],a=0,i=1;i<t.length;i++){var r=t[i-1],o=t[i];a+=ei.TK(r,o),n.push(a)}if(0!==a){for(i=0;i<n.length;i++)n[i]/=a;this._offsets=n,this._length=a}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t<1?e.__t:2-e.__t,n=this._points,a=this._offsets,i=n.length;if(a){var r,o=this._lastFrame;if(t<this._lastFramePercent){for(r=Math.min(o+1,i-1);r>=0&&!(a[r]<=t);r--);r=Math.min(r,i-2)}else{for(r=o;r<i&&!(a[r]>t);r++);r=Math.min(r-1,i-2)}var s=(t-a[r])/(a[r+1]-a[r]),l=n[r],u=n[r+1];e.x=l[0]*(1-s)+s*u[0],e.y=l[1]*(1-s)+s*u[1];var d=e.__t<1?u[0]-l[0]:l[0]-u[0],h=e.__t<1?u[1]-l[1]:l[1]-u[1];e.rotation=-Math.atan2(h,d)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=t,e.ignore=!1}},t}(Vo);var Bo=n(6715),Wo=n(5473),Fo=function(){this.polyline=!1,this.curveness=0,this.segs=[]},Ho=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,a.ZT)(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Fo},t.prototype.buildPath=function(e,t){var n,a=t.segs,i=t.curveness;if(t.polyline)for(n=this._off;n<a.length;){var r=a[n++];if(r>0){e.moveTo(a[n++],a[n++]);for(var o=1;o<r;o++)e.lineTo(a[n++],a[n++])}}else for(n=this._off;n<a.length;){var s=a[n++],l=a[n++],u=a[n++],d=a[n++];if(e.moveTo(s,l),i>0){var h=(s+u)/2-(l-d)*i,c=(l+d)/2-(u-s)*i;e.quadraticCurveTo(h,c,u,d)}else e.lineTo(u,d)}this.incremental&&(this._off=n,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var n=this.shape,a=n.segs,i=n.curveness,r=this.style.lineWidth;if(n.polyline)for(var o=0,s=0;s<a.length;){var l=a[s++];if(l>0)for(var u=a[s++],d=a[s++],h=1;h<l;h++){var c=a[s++],p=a[s++];if(Bo.m(u,d,c,p,r,e,t))return o}o++}else for(o=0,s=0;s<a.length;){u=a[s++],d=a[s++],c=a[s++],p=a[s++];if(i>0){var g=(u+c)/2-(d-p)*i,f=(d+p)/2-(c-u)*i;if(Wo.m(u,d,g,f,c,p,r,e,t))return o}else if(Bo.m(u,d,c,p,r,e,t))return o;o++}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),a=this.getBoundingRect();return e=n[0],t=n[1],a.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape.segs,n=1/0,a=1/0,i=-1/0,r=-1/0,o=0;o<t.length;){var s=t[o++],l=t[o++];n=Math.min(s,n),i=Math.max(s,i),a=Math.min(l,a),r=Math.max(l,r)}e=this._rect=new Ct.Z(n,a,i,r)}return e},t}(Z.ZP);const Uo=function(){function e(){this.group=new w.Z}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],a=t.getLayout("linesPoints"),i=n&&n.shape.segs;if(i&&i.length<2e4){var r=i.length,o=new Float32Array(r+a.length);o.set(i),o.set(a,r),n.setShape({segs:o})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:a}),this._setCommon(s,t),s.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Ho({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,n){var a=t.hostModel;e.setShape({polyline:a.get("polyline"),curveness:a.get(["lineStyle","curveness"])}),e.useStyle(a.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var i=t.getVisual("style");i&&i.stroke&&e.setStyle("stroke",i.stroke),e.setStyle("fill",null);var r=(0,ae.A)(e);r.seriesIndex=a.seriesIndex,e.on("mousemove",(function(t){r.dataIndex=null;var n=e.hoverDataIdx;n>0&&(r.dataIndex=n+e.__startIndex)}))},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();const Xo={seriesType:"lines",plan:(0,ve.Z)(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get("polyline"),a=e.pipelineContext.large;return{progress:function(i,r){var o=[];if(a){var s=void 0,l=i.end-i.start;if(n){for(var u=0,d=i.start;d<i.end;d++)u+=e.getLineCoordsCount(d);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var h=0,c=[];for(d=i.start;d<i.end;d++){var p=e.getLineCoords(d,o);n&&(s[h++]=p);for(var g=0;g<p;g++)c=t.dataToPoint(o[g],!1,c),s[h++]=c[0],s[h++]=c[1]}r.setLayout("linesPoints",s)}else for(d=i.start;d<i.end;d++){var f=r.getItemModel(d),y=(p=e.getLineCoords(d,o),[]);if(n)for(var m=0;m<p;m++)y.push(t.dataToPoint(o[m]));else{y[0]=t.dataToPoint(o[0]),y[1]=t.dataToPoint(o[1]);var v=f.get(["lineStyle","curveness"]);+v&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*v,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*v])}r.setItemLayout(d,y)}}}}}};const Yo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){var a=e.getData(),i=this._updateLineDraw(a,e),r=e.get("zlevel"),o=e.get(["effect","trailLength"]),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(r).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&o>0&&(l||s.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})),i.updateData(a);var u=e.get("clip",!0)&&Q(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=r,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var a=e.getData();this._updateLineDraw(a,e).incrementalPrepareUpdate(a),this._clearLayer(n),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,n){var a=e.getData(),i=e.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var r=Xo.reset(e,t,n);r.progress&&r.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(n)},t.prototype._updateLineDraw=function(e,t){var n=this._lineDraw,a=this._showEffect(t),i=!!t.get("polyline"),r=t.pipelineContext.large;return n&&a===this._hasEffet&&i===this._isPolyline&&r===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=r?new Uo:new wi.Z(i?a?zo:Go:a?Vo:Zo.Z),this._hasEffet=a,this._isPolyline=i,this._isLargeDraw=r),this.group.add(n.group),n},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(X.Z);var jo="undefined"===typeof Uint32Array?Array:Uint32Array,Jo="undefined"===typeof Float64Array?Array:Float64Array;function qo(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=(0,i.UI)(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),(0,i.Jn)([t,e[0],e[1]])})))}const Ko=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return(0,a.ZT)(t,e),t.prototype.init=function(t){t.data=t.data||[],qo(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(qo(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=(0,i.WW)(this._flatCoords,t.flatCoords),this._flatCoordsOffset=(0,i.WW)(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],a=this._flatCoordsOffset[2*e+1],i=0;i<a;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[n+2*i],t[i][1]=this._flatCoords[n+2*i+1];return a}var r=this._getCoordsFromItemModel(e);for(i=0;i<r.length;i++)t[i]=t[i]||[],t[i][0]=r[i][0],t[i][1]=r[i][1];return r.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),(0,i.hj)(e[0])){for(var n=e.length,a=new jo(n),r=new Jo(n),o=0,s=0,l=0,u=0;u<n;){l++;var d=e[u++];a[s++]=o+t,a[s++]=d;for(var h=0;h<d;h++){var c=e[u++],p=e[u++];r[o++]=c,r[o++]=p}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,s),flatCoords:r,count:l}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var n=new r.Z(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,a,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var r=e.value;return null!=r?r instanceof Array?r[i]:r:void 0})),n},t.prototype.formatTooltip=function(e,t,n){var a=this.getData().getItemModel(e),i=a.get("name");if(i)return i;var r=a.get("fromName"),o=a.get("toName"),s=[];return null!=r&&s.push(r),null!=o&&s.push(o),(0,Ht.TX)("nameValue",{name:s.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(_.Z);function Qo(e){return e instanceof Array||(e=[e,e]),e}const $o={seriesType:"lines",reset:function(e){var t=Qo(e.get("symbol")),n=Qo(e.get("symbolSize")),a=e.getData();return a.setVisual("fromSymbol",t&&t[0]),a.setVisual("toSymbol",t&&t[1]),a.setVisual("fromSymbolSize",n&&n[0]),a.setVisual("toSymbolSize",n&&n[1]),{dataEach:a.hasItemOption?function(e,t){var n=e.getItemModel(t),a=Qo(n.getShallow("symbol",!0)),i=Qo(n.getShallow("symbolSize",!0));a[0]&&e.setItemVisual(t,"fromSymbol",a[0]),a[1]&&e.setItemVisual(t,"toSymbol",a[1]),i[0]&&e.setItemVisual(t,"fromSymbolSize",i[0]),i[1]&&e.setItemVisual(t,"toSymbolSize",i[1])}:null}}};function es(e){e.registerChartView(Yo),e.registerSeriesModel(Ko),e.registerLayout(Xo),e.registerVisual($o)}var ts=n(7679),ns=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=ts.qW.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,n,a,i,r){var o=this._getBrush(),s=this._getGradient(i,"inRange"),l=this._getGradient(i,"outOfRange"),u=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),c=e.length;d.width=t,d.height=n;for(var p=0;p<c;++p){var g=e[p],f=g[0],y=g[1],m=a(g[2]);h.globalAlpha=m,h.drawImage(o,f-u,y-u)}if(!d.width||!d.height)return d;for(var v=h.getImageData(0,0,d.width,d.height),x=v.data,S=0,b=x.length,_=this.minOpacity,I=this.maxOpacity-_;S<b;){m=x[S+3]/256;var w=4*Math.floor(255*m);if(m>0){var M=r(m)?s:l;m>0&&(m=m*I+_),x[S++]=M[w],x[S++]=M[w+1],x[S++]=M[w+2],x[S++]=M[w+3]*m*256}else S+=4}return h.putImageData(v,0,0),d},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=ts.qW.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var a=e.getContext("2d");return a.clearRect(0,0,n,n),a.shadowOffsetX=n,a.shadowBlur=this.blurSize,a.shadowColor="#000",a.beginPath(),a.arc(-t,t,this.pointSize,0,2*Math.PI,!0),a.closePath(),a.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,a=n[t]||(n[t]=new Uint8ClampedArray(1024)),i=[0,0,0,0],r=0,o=0;o<256;o++)e[t](o/255,!0,i),a[r++]=i[0],a[r++]=i[1],a[r++]=i[2],a[r++]=i[3];return a},e}();const as=ns;function is(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}const rs=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){var a;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(n){n===e&&(a=t)}))})),this._progressiveEls=null,this.group.removeAll();var i=e.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):is(i)&&this._renderOnGeo(i,e,a,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,a){var i=t.coordinateSystem;i&&(is(i)?this.render(t,n,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Te.traverseElements(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,a,i){var r,o,s,l,u=e.coordinateSystem,d=(0,$.H)(u,"cartesian2d");if(d){var h=u.getAxis("x"),c=u.getAxis("y");0,r=h.getBandWidth()+.5,o=c.getBandWidth()+.5,s=h.scale.getExtent(),l=c.scale.getExtent()}for(var p=this.group,g=e.getData(),f=e.getModel(["emphasis","itemStyle"]).getItemStyle(),y=e.getModel(["blur","itemStyle"]).getItemStyle(),m=e.getModel(["select","itemStyle"]).getItemStyle(),v=e.get(["itemStyle","borderRadius"]),x=(0,te.k3)(e),S=e.getModel("emphasis"),b=S.get("focus"),_=S.get("blurScope"),I=S.get("disabled"),w=d?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],M=n;M<a;M++){var D=void 0,A=g.getItemVisual(M,"style");if(d){var L=g.get(w[0],M),T=g.get(w[1],M);if(isNaN(g.get(w[2],M))||isNaN(L)||isNaN(T)||L<s[0]||L>s[1]||T<l[0]||T>l[1])continue;var C=u.dataToPoint([L,T]);D=new Y.Z({shape:{x:C[0]-r/2,y:C[1]-o/2,width:r,height:o},style:A})}else{if(isNaN(g.get(w[1],M)))continue;D=new Y.Z({z2:1,shape:u.dataToRect([g.get(w[0],M)]).contentShape,style:A})}if(g.hasItemOption){var N=g.getItemModel(M),P=N.getModel("emphasis");f=P.getModel("itemStyle").getItemStyle(),y=N.getModel(["blur","itemStyle"]).getItemStyle(),m=N.getModel(["select","itemStyle"]).getItemStyle(),v=N.get(["itemStyle","borderRadius"]),b=P.get("focus"),_=P.get("blurScope"),I=P.get("disabled"),x=(0,te.k3)(N)}D.shape.r=v;var k=e.getRawValue(M),E="-";k&&null!=k[2]&&(E=k[2]+""),(0,te.ni)(D,x,{labelFetcher:e,labelDataIndex:M,defaultOpacity:A.opacity,defaultText:E}),D.ensureState("emphasis").style=f,D.ensureState("blur").style=y,D.ensureState("select").style=m,(0,ee.k5)(D,b,_,I),D.incremental=i,i&&(D.states.emphasis.hoverLayer=!0),p.add(D),g.setItemGraphicEl(M,D),this._progressiveEls&&this._progressiveEls.push(D)}},t.prototype._renderOnGeo=function(e,t,n,a){var r=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new as;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),d=e.getRoamTransform();u.applyTransform(d);var h=Math.max(u.x,0),c=Math.max(u.y,0),p=Math.min(u.width+u.x,a.getWidth()),g=Math.min(u.height+u.y,a.getHeight()),f=p-h,y=g-c,m=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],v=s.mapArray(m,(function(t,n,a){var i=e.dataToPoint([t,n]);return i[0]-=h,i[1]-=c,i.push(a),i})),x=n.getExtent(),S="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(x,n.option.range):function(e,t,n){var a=e[1]-e[0],r=(t=i.UI(t,(function(t){return{interval:[(t.interval[0]-e[0])/a,(t.interval[1]-e[0])/a]}}))).length,o=0;return function(e){var a;for(a=o;a<r;a++)if((i=t[a].interval)[0]<=e&&e<=i[1]){o=a;break}if(a===r)for(a=o-1;a>=0;a--){var i;if((i=t[a].interval)[0]<=e&&e<=i[1]){o=a;break}}return a>=0&&a<r&&n[a]}}(x,n.getPieceList(),n.option.selected);l.update(v,f,y,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},S);var b=new Wt.ZP({style:{width:f,height:y,x:h,y:c,image:l.canvas},silent:!0});this.group.add(b)},t.type="heatmap",t}(X.Z);const os=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){return b(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=y.Z.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(_.Z);function ss(e){e.registerChartView(rs),e.registerSeriesModel(os)}var ls=["itemStyle","borderWidth"],us=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],ds=new jt.Z;function hs(e,t,n,a){var r=e.getItemLayout(t),o=n.get("symbolRepeat"),s=n.get("symbolClip"),l=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,d=n.get("symbolPatternSize")||2,h=n.isAnimationEnabled(),c={dataIndex:t,layout:r,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:s,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:d,rotation:u,animationModel:h?n:null,hoverScale:h&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function(e,t,n,a,r){var o,s=a.valueDim,l=e.get("symbolBoundingData"),u=a.coordSys.getOtherAxis(a.coordSys.getBaseAxis()),d=u.toGlobalCoord(u.dataToCoord(0)),h=1-+(n[s.wh]<=0);if(i.kJ(l)){var c=[cs(u,l[0])-d,cs(u,l[1])-d];c[1]<c[0]&&c.reverse(),o=c[h]}else o=null!=l?cs(u,l)-d:t?a.coordSysExtent[s.index][h]-d:n[s.wh];r.boundingLength=o,t&&(r.repeatCutLength=n[s.wh]);r.pxSign=o>0?1:-1}(n,o,r,a,c),function(e,t,n,a,r,o,s,l,u,d){var h,c=u.valueDim,p=u.categoryDim,g=Math.abs(n[p.wh]),f=e.getItemVisual(t,"symbolSize");h=i.kJ(f)?f.slice():null==f?["100%","100%"]:[f,f];h[p.index]=(0,J.GM)(h[p.index],g),h[c.index]=(0,J.GM)(h[c.index],a?g:Math.abs(o)),d.symbolSize=h;var y=d.symbolScale=[h[0]/l,h[1]/l];y[c.index]*=(u.isHorizontal?-1:1)*s}(e,t,r,o,0,c.boundingLength,c.pxSign,d,a,c),function(e,t,n,a,i){var r=e.get(ls)||0;r&&(ds.attr({scaleX:t[0],scaleY:t[1],rotation:n}),ds.updateTransform(),r/=ds.getLineScale(),r*=t[a.valueDim.index]);i.valueLineWidth=r||0}(n,c.symbolScale,u,a,c);var p=c.symbolSize,g=(0,I.Cq)(n.get("symbolOffset"),p);return function(e,t,n,a,r,o,s,l,u,d,h,c){var p=h.categoryDim,g=h.valueDim,f=c.pxSign,y=Math.max(t[g.index]+l,0),m=y;if(a){var v=Math.abs(u),x=i.Jv(e.get("symbolMargin"),"15%")+"",S=!1;x.lastIndexOf("!")===x.length-1&&(S=!0,x=x.slice(0,x.length-1));var b=(0,J.GM)(x,t[g.index]),_=Math.max(y+2*b,0),I=S?0:2*b,w=(0,J.kE)(a),M=w?a:As((v+I)/_);_=y+2*(b=(v-M*y)/2/(S?M:Math.max(M-1,1))),I=S?0:2*b,w||"fixed"===a||(M=d?As((Math.abs(d)+I)/_):0),m=M*_-I,c.repeatTimes=M,c.symbolMargin=b}var D=f*(m/2),A=c.pathPosition=[];A[p.index]=n[p.wh]/2,A[g.index]="start"===s?D:"end"===s?u-D:u/2,o&&(A[0]+=o[0],A[1]+=o[1]);var L=c.bundlePosition=[];L[p.index]=n[p.xy],L[g.index]=n[g.xy];var T=c.barRectShape=i.l7({},n);T[g.wh]=f*Math.max(Math.abs(n[g.wh]),Math.abs(A[g.index]+D)),T[p.wh]=n[p.wh];var C=c.clipShape={};C[p.xy]=-n[p.xy],C[p.wh]=h.ecSize[p.wh],C[g.xy]=0,C[g.wh]=n[g.wh]}(n,p,r,o,0,g,l,c.valueLineWidth,c.boundingLength,c.repeatCutLength,a,c),c}function cs(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function ps(e){var t=e.symbolPatternSize,n=(0,I.th)(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function gs(e,t,n,a){var i=e.__pictorialBundle,r=n.symbolSize,o=n.valueLineWidth,s=n.pathPosition,l=t.valueDim,u=n.repeatTimes||0,d=0,h=r[t.valueDim.index]+o+2*n.symbolMargin;for(ws(e,(function(e){e.__pictorialAnimationIndex=d,e.__pictorialRepeatTimes=u,d<u?Ms(e,null,g(d),n,a):Ms(e,null,{scaleX:0,scaleY:0},n,a,(function(){i.remove(e)})),d++}));d<u;d++){var c=ps(n);c.__pictorialAnimationIndex=d,c.__pictorialRepeatTimes=u,i.add(c);var p=g(d);Ms(c,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},n,a)}function g(e){var t=s.slice(),a=n.pxSign,i=e;return("start"===n.symbolRepeatDirection?a>0:a<0)&&(i=u-1-e),t[l.index]=h*(i-u/2+.5)+s[l.index],{x:t[0],y:t[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function fs(e,t,n,a){var i=e.__pictorialBundle,r=e.__pictorialMainPath;r?Ms(r,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,a):(r=e.__pictorialMainPath=ps(n),i.add(r),Ms(r,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,a))}function ys(e,t,n){var a=i.l7({},t.barRectShape),r=e.__pictorialBarRect;r?Ms(r,null,{shape:a},t,n):((r=e.__pictorialBarRect=new Y.Z({z2:2,shape:a,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(r))}function ms(e,t,n,a){if(n.symbolClip){var r=e.__pictorialClipPath,o=i.l7({},n.clipShape),s=t.valueDim,l=n.animationModel,u=n.dataIndex;if(r)k.D(r,{shape:o},l,u);else{o[s.wh]=0,r=new Y.Z({shape:o}),e.__pictorialBundle.setClipPath(r),e.__pictorialClipPath=r;var d={};d[s.wh]=n.clipShape[s.wh],Te[a?"updateProps":"initProps"](r,{shape:d},l,u)}}}function vs(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=xs,n.isAnimationEnabled=Ss,n}function xs(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function Ss(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function bs(e,t,n,a){var i=new w.Z,r=new w.Z;return i.add(r),i.__pictorialBundle=r,r.x=n.bundlePosition[0],r.y=n.bundlePosition[1],n.symbolRepeat?gs(i,t,n):fs(i,0,n),ys(i,n,a),ms(i,t,n,a),i.__pictorialShapeStr=Is(e,n),i.__pictorialSymbolMeta=n,i}function _s(e,t,n,a){var r=a.__pictorialBarRect;r&&r.removeTextContent();var o=[];ws(a,(function(e){o.push(e)})),a.__pictorialMainPath&&o.push(a.__pictorialMainPath),a.__pictorialClipPath&&(n=null),i.S6(o,(function(e){k.bX(e,{scaleX:0,scaleY:0},n,t,(function(){a.parent&&a.parent.remove(a)}))})),e.setItemGraphicEl(t,null)}function Is(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function ws(e,t,n){i.S6(e.__pictorialBundle.children(),(function(a){a!==e.__pictorialBarRect&&t.call(n,a)}))}function Ms(e,t,n,a,i,r){t&&e.attr(t),a.symbolClip&&!i?n&&e.attr(n):n&&Te[i?"updateProps":"initProps"](e,n,a.animationModel,a.dataIndex,r)}function Ds(e,t,n){var a=n.dataIndex,r=n.itemModel,o=r.getModel("emphasis"),s=o.getModel("itemStyle").getItemStyle(),l=r.getModel(["blur","itemStyle"]).getItemStyle(),u=r.getModel(["select","itemStyle"]).getItemStyle(),d=r.getShallow("cursor"),h=o.get("focus"),c=o.get("blurScope"),p=o.get("scale");ws(e,(function(e){if(e instanceof Wt.ZP){var t=e.style;e.useStyle(i.l7({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},n.style))}else e.useStyle(n.style);var a=e.ensureState("emphasis");a.style=s,p&&(a.scaleX=1.1*e.scaleX,a.scaleY=1.1*e.scaleY),e.ensureState("blur").style=l,e.ensureState("select").style=u,d&&(e.cursor=d),e.z2=n.z2}));var g=t.valueDim.posDesc[+(n.boundingLength>0)],f=e.__pictorialBarRect;f.ignoreClip=!0,(0,te.ni)(f,(0,te.k3)(r),{labelFetcher:t.seriesModel,labelDataIndex:a,defaultText:(0,ne.H)(t.seriesModel.getData(),a),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:g}),(0,ee.k5)(e,h,c,o.get("disabled"))}function As(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}const Ls=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){var a=this.group,i=e.getData(),r=this._data,o=e.coordinateSystem,s=o.getBaseAxis().isHorizontal(),l=o.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:o,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:us[+s],categoryDim:us[1-+s]};i.diff(r).add((function(e){if(i.hasValue(e)){var t=vs(i,e),n=hs(i,e,t,u),r=bs(i,u,n);i.setItemGraphicEl(e,r),a.add(r),Ds(r,u,n)}})).update((function(e,t){var n=r.getItemGraphicEl(t);if(i.hasValue(e)){var o=vs(i,e),s=hs(i,e,o,u),l=Is(i,s);n&&l!==n.__pictorialShapeStr&&(a.remove(n),i.setItemGraphicEl(e,null),n=null),n?function(e,t,n){var a=n.animationModel,i=n.dataIndex,r=e.__pictorialBundle;k.D(r,{x:n.bundlePosition[0],y:n.bundlePosition[1]},a,i),n.symbolRepeat?gs(e,t,n,!0):fs(e,t,n,!0);ys(e,n,!0),ms(e,t,n,!0)}(n,u,s):n=bs(i,u,s,!0),i.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=s,a.add(n),Ds(n,u,s)}else a.remove(n)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&_s(r,e,t.__pictorialSymbolMeta.animationModel,t)})).execute();var d=e.get("clip",!0)?Q(e.coordinateSystem,!1,e):null;return d?a.setClipPath(d):a.removeClipPath(),this._data=i,this.group},t.prototype.remove=function(e,t){var n=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl((function(t){_s(a,(0,ae.A)(t).dataIndex,e,t)})):n.removeAll()},t.type="pictorialBar",t}(X.Z);const Ts=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=(0,Ae.ZL)(De.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(De);function Cs(e){e.registerChartView(Ls),e.registerSeriesModel(Ts),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,(0,i.WA)(we.bK,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,we.Bk)("pictorialBar"))}var Ns=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n){var a=e.getData(),r=this,o=this.group,s=e.getLayerSeries(),l=a.getLayout("layoutInfo"),u=l.rect,d=l.boundaryGap;function h(e){return e.name}o.x=0,o.y=u.y+d[0];var c=new sa.Z(this._layersSeries||[],s,h,h),p=[];function g(t,n,i){var l=r._layers;if("remove"!==t){for(var u,d,h=[],c=[],g=s[n].indices,f=0;f<g.length;f++){var y=a.getItemLayout(g[f]),m=y.x,v=y.y0,x=y.y;h.push(m,v),c.push(m,v+x),u=a.getItemVisual(g[f],"style")}var S=a.getItemLayout(g[0]),b=e.getModel("label").get("margin"),_=e.getModel("emphasis");if("add"===t){var I=p[n]=new w.Z;d=new U({shape:{points:h,stackedOnPoints:c,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),I.add(d),o.add(I),e.isAnimationEnabled()&&d.setClipPath(function(e,t,n){var a=new Y.Z({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return k.KZ(a,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,n),a}(d.getBoundingRect(),e,(function(){d.removeClipPath()})))}else{I=l[i];d=I.childAt(0),o.add(I),p[n]=I,k.D(d,{shape:{points:h,stackedOnPoints:c}},e),(0,k.Zi)(d)}(0,te.ni)(d,(0,te.k3)(e),{labelDataIndex:g[f-1],defaultText:a.getName(g[f-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),d.setTextConfig({position:null,local:!0});var M=d.getTextContent();M&&(M.x=S.x-b,M.y=S.y0+S.y/2),d.useStyle(u),a.setItemGraphicEl(n,d),(0,ee.WO)(d,e),(0,ee.k5)(d,_.get("focus"),_.get("blurScope"),_.get("disabled"))}else o.remove(l[n])}c.add((0,i.ak)(g,this,"add")).update((0,i.ak)(g,this,"update")).remove((0,i.ak)(g,this,"remove")).execute(),this._layersSeries=s,this._layers=p},t.type="themeRiver",t}(X.Z);const Ps=Ns;const ks=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new wt(i.ak(this.getData,this),i.ak(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,n={},a=(0,d.pv)(e,(function(e){return n.hasOwnProperty(e[0]+"")||(n[e[0]+""]=-1),e[2]})),i=[];a.buckets.each((function(e,t){i.push({name:t,dataList:e})}));for(var r=i.length,o=0;o<r;++o){for(var s=i[o].name,l=0;l<i[o].dataList.length;++l){var u=i[o].dataList[l][0]+"";n[u]=o}for(var u in n)n.hasOwnProperty(u)&&n[u]!==o&&(n[u]=o,e[t]=[u,0,s],t++)}return e},t.prototype.getInitialData=function(e,t){for(var n=this.getReferringComponents("singleAxis",d.C6).models[0].get("type"),a=i.hX(e.data,(function(e){return void 0!==e[2]})),o=this.fixData(a||[]),s=[],l=this.nameMap=i.kW(),u=0,h=0;h<o.length;++h)s.push(o[h][2]),l.get(o[h][2])||(l.set(o[h][2],u),u++);var c=p(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:(0,f.T)(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,g=new r.Z(c,this);return g.initData(o),g},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),n=[],a=0;a<t;++a)n[a]=a;var i=e.mapDimension("single"),r=(0,d.pv)(n,(function(t){return e.get("name",t)})),o=[];return r.buckets.each((function(t,n){t.sort((function(t,n){return e.get(i,t)-e.get(i,n)})),o.push({name:n,indices:t})})),o},t.prototype.getAxisTooltipData=function(e,t,n){i.kJ(e)||(e=e?[e]:[]);for(var a,r=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u=0;u<l;++u){for(var d=Number.MAX_VALUE,h=-1,c=o[u].indices.length,p=0;p<c;++p){var g=r.get(e[0],o[u].indices[p]),f=Math.abs(g-t);f<=d&&(a=g,d=f,h=o[u].indices[p])}s.push(h)}return{dataIndices:s,nestestValue:a}},t.prototype.formatTooltip=function(e,t,n){var a=this.getData(),i=a.getName(e),r=a.get(a.mapDimension("value"),e);return(0,Ht.TX)("nameValue",{name:i,value:r})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(_.Z);function Es(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),n=e.coordinateSystem,a={},i=n.getRect();a.rect=i;var r=e.get("boundaryGap"),o=n.getAxis();(a.boundaryGap=r,"horizontal"===o.orient)?(r[0]=J.GM(r[0],i.height),r[1]=J.GM(r[1],i.height),Zs(t,e,i.height-r[0]-r[1])):(r[0]=J.GM(r[0],i.width),r[1]=J.GM(r[1],i.width),Zs(t,e,i.width-r[0]-r[1]));t.setLayout("layoutInfo",a)}))}function Zs(e,t,n){if(e.count())for(var a,r=t.coordinateSystem,o=t.getLayerSeries(),s=e.mapDimension("single"),l=e.mapDimension("value"),u=i.UI(o,(function(t){return i.UI(t.indices,(function(t){var n=r.dataToPoint(e.get(s,t));return n[1]=e.get(l,t),n}))})),d=function(e){for(var t=e.length,n=e[0].length,a=[],i=[],r=0,o=0;o<n;++o){for(var s=0,l=0;l<t;++l)s+=e[l][o][1];s>r&&(r=s),a.push(s)}for(var u=0;u<n;++u)i[u]=(r-a[u])/2;r=0;for(var d=0;d<n;++d){var h=a[d]+i[d];h>r&&(r=h)}return{y0:i,max:r}}(u),h=d.y0,c=n/d.max,p=o.length,g=o[0].indices.length,f=0;f<g;++f){a=h[f]*c,e.setItemLayout(o[0].indices[f],{layerIndex:0,x:u[0][f][0],y0:a,y:u[0][f][1]*c});for(var y=1;y<p;++y)a+=u[y-1][f][1]*c,e.setItemLayout(o[y].indices[f],{layerIndex:y,x:u[y][f][0],y0:a,y:u[y][f][1]*c})}}function Rs(e){e.registerChartView(Ps),e.registerSeriesModel(ks),e.registerLayout(Es),e.registerProcessor(ht("themeRiver"))}var Vs=n(4489),Os=n(2881),Gs=function(e){function t(t,n,a,i){var r=e.call(this)||this;r.z2=2,r.textConfig={inside:!0},(0,ae.A)(r).seriesIndex=n.seriesIndex;var o=new E.ZP({z2:4,silent:t.getModel().get(["label","silent"])});return r.setTextContent(o),r.updateData(!0,t,n,a,i),r}return(0,a.ZT)(t,e),t.prototype.updateData=function(e,t,n,a,r){this.node=t,t.piece=this,n=n||this._seriesModel,a=a||this._ecModel;var o=this;(0,ae.A)(o).dataIndex=t.dataIndex;var s=t.getModel(),l=s.getModel("emphasis"),u=t.getLayout(),d=i.l7({},u);d.label=null;var h=t.getVisual("style");h.lineJoin="bevel";var c=t.getVisual("decal");c&&(h.decal=(0,Vs.I)(c,r));var p=Ve(s.getModel("itemStyle"),d,!0);i.l7(d,p),i.S6(ee.L1,(function(e){var t=o.ensureState(e),n=s.getModel([e,"itemStyle"]);t.style=n.getItemStyle();var a=Ve(n,d);a&&(t.shape=a)})),e?(o.setShape(d),o.shape.r=u.r0,k.KZ(o,{shape:{r:u.r}},n,t.dataIndex)):(k.D(o,{shape:d},n),(0,k.Zi)(o)),o.useStyle(h),this._updateLabel(n);var g=s.getShallow("cursor");g&&o.attr("cursor",g),this._seriesModel=n||this._seriesModel,this._ecModel=a||this._ecModel;var f=l.get("focus"),y="ancestor"===f?t.getAncestorsIndices():"descendant"===f?t.getDescendantIndices():f;(0,ee.k5)(this,y,l.get("blurScope"),l.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,n=this.node.getModel(),a=n.getModel("label"),r=this.node.getLayout(),o=r.endAngle-r.startAngle,s=(r.startAngle+r.endAngle)/2,l=Math.cos(s),u=Math.sin(s),d=this,h=d.getTextContent(),c=this.node.dataIndex,p=a.get("minAngle")/180*Math.PI,g=a.get("show")&&!(null!=p&&Math.abs(o)<p);function f(e,t){var n=e.get(t);return null==n?a.get(t):n}h.ignore=!g,i.S6(ee.qc,(function(a){var p="normal"===a?n.getModel("label"):n.getModel([a,"label"]),g="normal"===a,y=g?h:h.ensureState(a),m=e.getFormattedLabel(c,a);g&&(m=m||t.node.name),y.style=(0,te.Lr)(p,{},null,"normal"!==a,!0),m&&(y.style.text=m);var v=p.get("show");null==v||g||(y.ignore=!v);var x,S=f(p,"position"),b=g?d:d.states[a],_=b.style.fill;b.textConfig={outsideFill:"inherit"===p.get("color")?_:null,inside:"outside"!==S};var I=f(p,"distance")||0,w=f(p,"align"),M=f(p,"rotate"),D=.5*Math.PI,A=1.5*Math.PI,L=(0,Os.m)("tangential"===M?Math.PI/2-s:s),T=L>D&&!(0,J.mW)(L-D)&&L<A;"outside"===S?(x=r.r+I,w=T?"right":"left"):w&&"center"!==w?"left"===w?(x=r.r0+I,w=T?"right":"left"):"right"===w&&(x=r.r-I,w=T?"left":"right"):(x=o===2*Math.PI&&0===r.r0?0:(r.r+r.r0)/2,w="center"),y.style.align=w,y.style.verticalAlign=f(p,"verticalAlign")||"middle",y.x=x*l+r.cx,y.y=x*u+r.cy;var C=0;"radial"===M?C=(0,Os.m)(-s)+(T?Math.PI:0):"tangential"===M?C=(0,Os.m)(Math.PI/2-s)+(T?Math.PI:0):i.hj(M)&&(C=M*Math.PI/180),y.rotation=(0,Os.m)(C)})),h.dirtyStyle()},t}(j.C);const zs=Gs;var Bs="sunburstRootToNode",Ws="sunburstHighlight",Fs="sunburstUnhighlight";var Hs=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n,a){var r=this;this.seriesModel=e,this.api=n,this.ecModel=t;var o=e.getData(),s=o.tree.root,l=e.getViewRoot(),u=this.group,d=e.get("renderLabelForZeroData"),h=[];l.eachNode((function(e){h.push(e)}));var c=this._oldChildren||[];!function(a,r){if(0===a.length&&0===r.length)return;function l(e){return e.getId()}function h(i,l){!function(a,i){d||!a||a.getValue()||(a=null);if(a!==s&&i!==s)if(i&&i.piece)a?(i.piece.updateData(!1,a,e,t,n),o.setItemGraphicEl(a.dataIndex,i.piece)):function(e){if(!e)return;e.piece&&(u.remove(e.piece),e.piece=null)}(i);else if(a){var r=new zs(a,e,t,n);u.add(r),o.setItemGraphicEl(a.dataIndex,r)}}(null==i?null:a[i],null==l?null:r[l])}new sa.Z(r,a,l,l).add(h).update(h).remove(i.WA(h,null)).execute()}(h,c),function(a,i){i.depth>0?(r.virtualPiece?r.virtualPiece.updateData(!1,a,e,t,n):(r.virtualPiece=new zs(a,e,t,n),u.add(r.virtualPiece)),i.piece.off("click"),r.virtualPiece.on("click",(function(e){r._rootToNode(i.parentNode)}))):r.virtualPiece&&(u.remove(r.virtualPiece),r.virtualPiece=null)}(s,l),this._initEvents(),this._oldChildren=h},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var n=!1;e.seriesModel.getViewRoot().eachNode((function(a){if(!n&&a.piece&&a.piece===t.target){var i=a.getModel().get("nodeClick");if("rootToNode"===i)e._rootToNode(a);else if("link"===i){var r=a.getModel(),o=r.get("link");if(o){var s=r.get("target",!0)||"_blank";(0,ie.MI)(o,s)}}n=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Bs,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var a=e[0]-n.cx,i=e[1]-n.cy,r=Math.sqrt(a*a+i*i);return r<=n.r&&r>=n.r0}},t.type="sunburst",t}(X.Z);const Us=Hs;var Xs=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};Ys(n);var a=this._levelModels=i.UI(e.levels||[],(function(e){return new Fn.Z(e,this,t)}),this),r=Wn.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=r.getNodeByDataIndex(t),i=a[n.depth];return i&&(e.parentModel=i),e}))}));return r.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=Yn(a,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){aa(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(_.Z);function Ys(e){var t=0;i.S6(e.children,(function(e){Ys(e);var n=e.value;i.kJ(n)&&(n=n[0]),t+=n}));var n=e.value;i.kJ(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),i.kJ(e.value)?e.value[0]=n:e.value=n}const js=Xs;var Js=Math.PI/180;function qs(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.get("center"),a=e.get("radius");i.kJ(a)||(a=[0,a]),i.kJ(t)||(t=[t,t]);var r=n.getWidth(),o=n.getHeight(),s=Math.min(r,o),l=(0,J.GM)(t[0],r),u=(0,J.GM)(t[1],o),d=(0,J.GM)(a[0],s/2),h=(0,J.GM)(a[1],s/2),c=-e.get("startAngle")*Js,p=e.get("minAngle")*Js,g=e.getData().tree.root,f=e.getViewRoot(),y=f.depth,m=e.get("sort");null!=m&&Ks(f,m);var v=0;i.S6(f.children,(function(e){!isNaN(e.getValue())&&v++}));var x=f.getValue(),S=Math.PI/(x||v)*2,b=f.depth>0,_=f.height-(b?-1:1),I=(h-d)/(_||1),w=e.get("clockwise"),M=e.get("stillShowZeroSum"),D=w?1:-1,A=function(t,n){if(t){var a=n;if(t!==g){var r=t.getValue(),o=0===x&&M?S:r*S;o<p&&(o=p),a=n+D*o;var h=t.depth-y-(b?-1:1),c=d+I*h,f=d+I*(h+1),m=e.getLevelModel(t);if(m){var v=m.get("r0",!0),_=m.get("r",!0),L=m.get("radius",!0);null!=L&&(v=L[0],_=L[1]),null!=v&&(c=(0,J.GM)(v,s/2)),null!=_&&(f=(0,J.GM)(_,s/2))}t.setLayout({angle:o,startAngle:n,endAngle:a,clockwise:w,cx:l,cy:u,r0:c,r:f})}if(t.children&&t.children.length){var T=0;i.S6(t.children,(function(e){T+=A(e,n+T)}))}return a-n}};if(b){var L=d,T=d+I,C=2*Math.PI;g.setLayout({angle:C,startAngle:c,endAngle:c+C,clockwise:w,cx:l,cy:u,r0:L,r:T})}A(f,c)}))}function Ks(e,t){var n=e.children||[];e.children=function(e,t){if(i.mf(t)){var n=i.UI(e,(function(e,t){var n=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return n}},index:t}}));return n.sort((function(e,n){return t(e.params,n.params)})),i.UI(n,(function(t){return e[t.index]}))}var a="asc"===t;return e.sort((function(e,t){var n=(e.getValue()-t.getValue())*(a?1:-1);return 0===n?(e.dataIndex-t.dataIndex)*(a?-1:1):n}))}(n,t),n.length&&i.S6(e.children,(function(e){Ks(e,t)}))}function Qs(e){var t={};e.eachSeriesByType("sunburst",(function(e){var n=e.getData(),a=n.tree;a.eachNode((function(r){var o=r.getModel().getModel("itemStyle").getItemStyle();o.fill||(o.fill=function(e,n,a){for(var r=e;r&&r.depth>1;)r=r.parentNode;var o=n.getColorFromPalette(r.name||r.dataIndex+"",t);return e.depth>1&&(0,i.HD)(o)&&(o=(0,re.xb)(o,(e.depth-1)/(a-1)*.5)),o}(r,e,a.root.height));var s=n.ensureUniqueItemVisual(r.dataIndex,"style");(0,i.l7)(s,o)}))}))}function $s(e){e.registerChartView(Us),e.registerSeriesModel(js),e.registerLayout((0,i.WA)(qs,"sunburst")),e.registerProcessor((0,i.WA)(ht,"sunburst")),e.registerVisual(Qs),function(e){e.registerAction({type:Bs,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,n){var a=Hn(e,[Bs],t);if(a){var i=t.getViewRoot();i&&(e.direction=Xn(i,a.node)?"rollUp":"drillDown"),t.resetViewRoot(a.node)}}))})),e.registerAction({type:Ws,update:"none"},(function(e,t,n){e=(0,i.l7)({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t){var n=Hn(e,[Ws],t);n&&(e.dataIndex=n.node.dataIndex)})),n.dispatchAction((0,i.l7)(e,{type:"highlight"}))})),e.registerAction({type:Fs,update:"updateView"},(function(e,t,n){e=(0,i.l7)({},e),n.dispatchAction((0,i.l7)(e,{type:"downplay"}))}))}(e)}var el={color:"fill",borderColor:"stroke"},tl={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},nl=(0,d.Yf)();const al=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return b(null,this)},t.prototype.getDataParams=function(t,n,a){var i=e.prototype.getDataParams.call(this,t,n);return a&&(i.info=nl(a).info),i},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(_.Z);function il(e,t){return t=t||[0,0],i.UI(["x","y"],(function(n,a){var i=this.getAxis(n),r=t[a],o=e[a]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(r-o)-i.dataToCoord(r+o))}),this)}function rl(e,t){return t=t||[0,0],i.UI([0,1],(function(n){var a=t[n],i=e[n]/2,r=[],o=[];return r[n]=a-i,o[n]=a+i,r[1-n]=o[1-n]=t[1-n],Math.abs(this.dataToPoint(r)[n]-this.dataToPoint(o)[n])}),this)}function ol(e,t){var n=this.getAxis(),a=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(a-i)-n.dataToCoord(a+i))}function sl(e,t){return t=t||[0,0],i.UI(["Radius","Angle"],(function(n,a){var i=this["get"+n+"Axis"](),r=t[a],o=e[a]/2,s="category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(r-o)-i.dataToCoord(r+o));return"Angle"===n&&(s=s*Math.PI/180),s}),this)}var ll=n(7622),ul=n(9717),dl=n(2840),hl="emphasis",cl="normal",pl="blur",gl="select",fl=[cl,hl,pl,gl],yl={normal:["itemStyle"],emphasis:[hl,"itemStyle"],blur:[pl,"itemStyle"],select:[gl,"itemStyle"]},ml={normal:["label"],emphasis:[hl,"label"],blur:[pl,"label"],select:[gl,"label"]},vl=["x","y"],xl="e\0\0",Sl={normal:{},emphasis:{},blur:{},select:{}},bl={cartesian2d:function(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:i.ak(il,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:i.ak(rl,e)}}},single:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:(0,i.ak)(ol,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),a=t.getExtent();return a[0]>a[1]&&a.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:a[1],r0:a[0]},api:{coord:function(a){var i=t.dataToRadius(a[0]),r=n.dataToAngle(a[1]),o=e.coordToPoint([i,r]);return o.push(i,r*Math.PI/180),o},size:i.ak(sl,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)}}}}};function _l(e){return e instanceof Z.ZP}function Il(e){return e instanceof fa.ZP}const wl=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,n,a){this._progressiveEls=null;var i=this._data,r=e.getData(),o=this.group,s=Tl(e,r,t,n);i||o.removeAll(),r.diff(i).add((function(t){Nl(n,null,t,s(t,a),e,o,r)})).remove((function(t){var n=i.getItemGraphicEl(t);n&&(0,ul.O3)(n,nl(n).option,e)})).update((function(t,l){var u=i.getItemGraphicEl(l);Nl(n,u,t,s(t,a),e,o,r)})).execute();var l=e.get("clip",!0)?Q(e.coordinateSystem,!1,e):null;l?o.setClipPath(l):o.removeClipPath(),this._data=r},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,n,a,i){var r=t.getData(),o=Tl(t,r,n,a),s=this._progressiveEls=[];function l(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var u=e.start;u<e.end;u++){var d=Nl(null,null,u,o(u,i),t,this.group,r);d&&(d.traverse(l),s.push(d))}},t.prototype.eachRendered=function(e){Te.traverseElements(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,n,a){var i=t.element;if(null==i||n.name===i)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===i)return!0;return!1},t.type="custom",t}(X.Z);function Ml(e){var t,n=e.type;if("path"===n){var a=e.shape,i=null!=a.width&&null!=a.height?{x:a.x||0,y:a.y||0,width:a.width,height:a.height}:null,r=Bl(a);t=Te.makePath(r,null,i,a.layout||"center"),nl(t).customPathData=r}else if("image"===n)t=new Wt.ZP({}),nl(t).customImagePath=e.style.image;else if("text"===n)t=new E.ZP({});else if("group"===n)t=new w.Z;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var o=Te.getShapeClass(n);if(!o){0,(0,eo._y)("")}t=new o}return nl(t).customGraphicType=n,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function Dl(e,t,n,a,r,o,s){(0,dl.r)(t);var l=r&&r.normal.cfg;l&&t.setTextConfig(l),a&&null==a.transition&&(a.transition=vl);var u=a&&a.style;if(u){if("text"===t.type){var d=u;(0,i.RI)(d,"textFill")&&(d.fill=d.textFill),(0,i.RI)(d,"textStroke")&&(d.stroke=d.textStroke)}var h=void 0,c=_l(t)?u.decal:null;e&&c&&(c.dirty=!0,h=(0,Vs.I)(c,e)),u.__decalPattern=h}Il(t)&&(u&&(h=u.__decalPattern)&&(u.decal=h));(0,ul.Ob)(t,a,o,{dataIndex:n,isInit:s,clearStyle:!0}),(0,dl.t)(t,a.keyframeAnimation,o)}function Al(e,t,n,a,i){var r=t.isGroup?null:t,o=i&&i[e].cfg;if(r){var s=r.ensureState(e);if(!1===a){var l=r.getState(e);l&&(l.style=null)}else s.style=a||null;o&&(s.textConfig=o),(0,ee.MA)(r)}}function Ll(e,t,n){var a=n===cl,i=a?t:Zl(t,n),r=i?i.z2:null;null!=r&&((a?e:e.ensureState(n)).z2=r||0)}function Tl(e,t,n,a){var r=e.get("renderItem"),o=e.coordinateSystem,s={};o&&(s=o.prepareCustoms?o.prepareCustoms(o):bl[o.type](o));for(var l,u,d=(0,i.ce)({getWidth:a.getWidth,getHeight:a.getHeight,getZr:a.getZr,getDevicePixelRatio:a.getDevicePixelRatio,value:function(e,n){return null==n&&(n=l),t.getStore().get(t.getDimensionIndex(e||0),n)},style:function(n,a){0;null==a&&(a=l);var r=t.getItemVisual(a,"style"),o=r&&r.fill,s=r&&r.opacity,u=x(a,cl).getItemStyle();null!=o&&(u.fill=o),null!=s&&(u.opacity=s);var d={inheritColor:(0,i.HD)(o)?o:"#000"},h=S(a,cl),c=te.Lr(h,null,d,!1,!0);c.text=h.getShallow("show")?(0,i.pD)(e.getFormattedLabel(a,cl),(0,ne.H)(t,a)):null;var p=te.nC(h,d,!1);return _(n,u),u=(0,ll.n8)(u,c,p),n&&b(u,n),u.legacy=!0,u},ordinalRawValue:function(e,n){null==n&&(n=l),e=e||0;var a=t.getDimensionInfo(e);if(!a){var i=t.getDimensionIndex(e);return i>=0?t.getStore().get(i,n):void 0}var r=t.get(a.name,n),o=a&&a.ordinalMeta;return o?o.categories[r]:r},styleEmphasis:function(n,a){0;null==a&&(a=l);var r=x(a,hl).getItemStyle(),o=S(a,hl),s=te.Lr(o,null,null,!0,!0);s.text=o.getShallow("show")?(0,i.R1)(e.getFormattedLabel(a,hl),e.getFormattedLabel(a,cl),(0,ne.H)(t,a)):null;var u=te.nC(o,null,!0);return _(n,r),r=(0,ll.n8)(r,s,u),n&&b(r,n),r.legacy=!0,r},visual:function(e,n){if(null==n&&(n=l),(0,i.RI)(el,e)){var a=t.getItemVisual(n,"style");return a?a[el[e]]:null}if((0,i.RI)(tl,e))return t.getItemVisual(n,e)},barLayout:function(e){if("cartesian2d"===o.type){var t=o.getBaseAxis();return(0,we.Gk)((0,i.ce)({axis:t},e))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(e){return te.qT(e,n)}},s.api||{}),h={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:Cl(e.getData())},c={},p={},g={},f={},y=0;y<fl.length;y++){var m=fl[y];g[m]=e.getModel(yl[m]),f[m]=e.getModel(ml[m])}function v(e){return e===l?u||(u=t.getItemModel(e)):t.getItemModel(e)}function x(e,n){return t.hasItemOption?e===l?c[n]||(c[n]=v(e).getModel(yl[n])):v(e).getModel(yl[n]):g[n]}function S(e,n){return t.hasItemOption?e===l?p[n]||(p[n]=v(e).getModel(ml[n])):v(e).getModel(ml[n]):f[n]}return function(e,n){return l=e,u=null,c={},p={},r&&r((0,i.ce)({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:n?n.type:null},h),d)};function b(e,t){for(var n in t)(0,i.RI)(t,n)&&(e[n]=t[n])}function _(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function Cl(e){var t={};return(0,i.S6)(e.dimensions,(function(n){var a=e.getDimensionInfo(n);if(!a.isExtraCoord){var i=a.coordDim;(t[i]=t[i]||[])[a.coordDimIndex]=e.getDimensionIndex(n)}})),t}function Nl(e,t,n,a,i,r,o){if(a){var s=Pl(e,t,n,a,i,r);return s&&o.setItemGraphicEl(n,s),s&&(0,ee.k5)(s,a.focus,a.blurScope,a.emphasisDisabled),s}r.remove(t)}function Pl(e,t,n,a,r,o){var s=-1,l=t;t&&kl(t,a,r)&&(s=(0,i.cq)(o.childrenRef(),t),t=null);var u,d,h=!t,c=t;c?c.clearStates():(c=Ml(a),l&&(u=l,(d=c).copyTransform(u),Il(d)&&Il(u)&&(d.setStyle(u.style),d.z=u.z,d.z2=u.z2,d.zlevel=u.zlevel,d.invisible=u.invisible,d.ignore=u.ignore,_l(d)&&_l(u)&&d.setShape(u.shape)))),!1===a.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),Sl.normal.cfg=Sl.normal.conOpt=Sl.emphasis.cfg=Sl.emphasis.conOpt=Sl.blur.cfg=Sl.blur.conOpt=Sl.select.cfg=Sl.select.conOpt=null,Sl.isLegacy=!1,function(e,t,n,a,i,r){if(e.isGroup)return;El(n,null,r),El(n,hl,r);var o=r.normal.conOpt,s=r.emphasis.conOpt,l=r.blur.conOpt,u=r.select.conOpt;if(null!=o||null!=s||null!=u||null!=l){var d=e.getTextContent();if(!1===o)d&&e.removeTextContent();else{o=r.normal.conOpt=o||{type:"text"},d?d.clearStates():(d=Ml(o),e.setTextContent(d)),Dl(null,d,t,o,null,a,i);for(var h=o&&o.style,c=0;c<fl.length;c++){var p=fl[c];if(p!==cl){var g=r[p].conOpt;Al(p,d,0,Rl(o,g,p),null)}}h?d.dirty():d.markRedraw()}}}(c,n,a,r,h,Sl),function(e,t,n,a,i){var r=n.clipPath;if(!1===r)e&&e.getClipPath()&&e.removeClipPath();else if(r){var o=e.getClipPath();o&&kl(o,r,a)&&(o=null),o||(o=Ml(r),e.setClipPath(o)),Dl(null,o,t,r,null,a,i)}}(c,n,a,r,h),Dl(e,c,n,a,Sl,r,h),(0,i.RI)(a,"info")&&(nl(c).info=a.info);for(var p=0;p<fl.length;p++){var g=fl[p];if(g!==cl){var f=Zl(a,g);Al(g,c,0,Rl(a,f,g),Sl)}}return function(e,t,n){if(!e.isGroup){var a=e,i=n.currentZ,r=n.currentZLevel;a.z=i,a.zlevel=r;var o=t.z2;null!=o&&(a.z2=o||0);for(var s=0;s<fl.length;s++)Ll(a,t,fl[s])}}(c,a,r),"group"===a.type&&function(e,t,n,a,i){var r=a.children,o=r?r.length:0,s=a.$mergeChildren,l="byName"===s||a.diffChildrenByName,u=!1===s;if(!o&&!l&&!u)return;if(l)return d={api:e,oldChildren:t.children()||[],newChildren:r||[],dataIndex:n,seriesModel:i,group:t},void new sa.Z(d.oldChildren,d.newChildren,Ol,Ol,d).add(Gl).update(Gl).remove(zl).execute();var d;u&&t.removeAll();for(var h=0;h<o;h++){var c=r[h],p=t.childAt(h);c?(null==c.ignore&&(c.ignore=!1),Pl(e,p,n,c,i,t)):p.ignore=!0}for(var g=t.childCount()-1;g>=h;g--){var f=t.childAt(g);Vl(t,f,i)}}(e,c,n,a,r),s>=0?o.replaceAt(c,s):o.add(c),c}function kl(e,t,n){var a,r=nl(e),o=t.type,s=t.shape,l=t.style;return n.isUniversalTransitionEnabled()||null!=o&&o!==r.customGraphicType||"path"===o&&((a=s)&&((0,i.RI)(a,"pathData")||(0,i.RI)(a,"d")))&&Bl(s)!==r.customPathData||"image"===o&&(0,i.RI)(l,"image")&&l.image!==r.customImagePath}function El(e,t,n){var a=t?Zl(e,t):e,i=t?Rl(e,a,hl):e.style,r=e.type,o=a?a.textConfig:null,s=e.textContent,l=s?t?Zl(s,t):s:null;if(i&&(n.isLegacy||(0,ll.Sv)(i,r,!!o,!!l))){n.isLegacy=!0;var u=(0,ll.Tw)(i,r,!t);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var d=l;!d.type&&(d.type="text")}var h=t?n[t]:n.normal;h.cfg=o,h.conOpt=l}function Zl(e,t){return t?e?e[t]:null:e}function Rl(e,t,n){var a=t&&t.style;return null==a&&n===hl&&e&&(a=e.styleEmphasis),a}function Vl(e,t,n){t&&(0,ul.O3)(t,nl(e).option,n)}function Ol(e,t){var n=e&&e.name;return null!=n?n:xl+t}function Gl(e,t){var n=this.context,a=null!=e?n.newChildren[e]:null,i=null!=t?n.oldChildren[t]:null;Pl(n.api,i,n.dataIndex,a,n.seriesModel,n.group)}function zl(e){var t=this.context,n=t.oldChildren[e];n&&(0,ul.O3)(n,nl(n).option,t.seriesModel)}function Bl(e){return e&&(e.pathData||e.d)}function Wl(e){e.registerChartView(wl),e.registerSeriesModel(al)}},5522:(e,t,n)=>{n.d(t,{$x:()=>R,Iu:()=>Z,_A:()=>P,d:()=>L,qK:()=>N});var a=n(9079),i=n(2207),r=n(7632),o=n(3560),s=n(2881),l=n(4035),u=n(1223),d=n(8229),h=n(4534),c=n(7357),p=2*Math.PI,g=o.Z.CMD,f=["top","right","bottom","left"];function y(e,t,n,a,i){var r=n.width,o=n.height;switch(e){case"top":a.set(n.x+r/2,n.y-t),i.set(0,-1);break;case"bottom":a.set(n.x+r/2,n.y+o+t),i.set(0,1);break;case"left":a.set(n.x-t,n.y+o/2),i.set(-1,0);break;case"right":a.set(n.x+r+t,n.y+o/2),i.set(1,0)}}function m(e,t,n,a,i,r,o,l,u){o-=e,l-=t;var d=Math.sqrt(o*o+l*l),h=(o/=d)*n+e,c=(l/=d)*n+t;if(Math.abs(a-i)%p<1e-4)return u[0]=h,u[1]=c,d-n;if(r){var g=a;a=(0,s.m)(i),i=(0,s.m)(g)}else a=(0,s.m)(a),i=(0,s.m)(i);a>i&&(i+=p);var f=Math.atan2(l,o);if(f<0&&(f+=p),f>=a&&f<=i||f+p>=a&&f+p<=i)return u[0]=h,u[1]=c,d-n;var y=n*Math.cos(a)+e,m=n*Math.sin(a)+t,v=n*Math.cos(i)+e,x=n*Math.sin(i)+t,S=(y-o)*(y-o)+(m-l)*(m-l),b=(v-o)*(v-o)+(x-l)*(x-l);return S<b?(u[0]=y,u[1]=m,Math.sqrt(S)):(u[0]=v,u[1]=x,Math.sqrt(b))}function v(e,t,n,a,i,r,o,s){var l=i-e,u=r-t,d=n-e,h=a-t,c=Math.sqrt(d*d+h*h),p=(l*(d/=c)+u*(h/=c))/c;s&&(p=Math.min(Math.max(p,0),1)),p*=c;var g=o[0]=e+p*d,f=o[1]=t+p*h;return Math.sqrt((g-i)*(g-i)+(f-r)*(f-r))}function x(e,t,n,a,i,r,o){n<0&&(e+=n,n=-n),a<0&&(t+=a,a=-a);var s=e+n,l=t+a,u=o[0]=Math.min(Math.max(i,e),s),d=o[1]=Math.min(Math.max(r,t),l);return Math.sqrt((u-i)*(u-i)+(d-r)*(d-r))}var S=[];function b(e,t,n){var a=x(t.x,t.y,t.width,t.height,e.x,e.y,S);return n.set(S[0],S[1]),a}function _(e,t,n){for(var a,i,r=0,o=0,s=0,u=0,d=1/0,h=t.data,c=e.x,p=e.y,f=0;f<h.length;){var y=h[f++];1===f&&(s=r=h[f],u=o=h[f+1]);var b=d;switch(y){case g.M:r=s=h[f++],o=u=h[f++];break;case g.L:b=v(r,o,h[f],h[f+1],c,p,S,!0),r=h[f++],o=h[f++];break;case g.C:b=(0,l.t1)(r,o,h[f++],h[f++],h[f++],h[f++],h[f],h[f+1],c,p,S),r=h[f++],o=h[f++];break;case g.Q:b=(0,l.Wr)(r,o,h[f++],h[f++],h[f],h[f+1],c,p,S),r=h[f++],o=h[f++];break;case g.A:var _=h[f++],I=h[f++],w=h[f++],M=h[f++],D=h[f++],A=h[f++];f+=1;var L=!!(1-h[f++]);a=Math.cos(D)*w+_,i=Math.sin(D)*M+I,f<=1&&(s=a,u=i),b=m(_,I,M,D,D+A,L,(c-_)*M/w+_,p,S),r=Math.cos(D+A)*w+_,o=Math.sin(D+A)*M+I;break;case g.R:b=x(s=r=h[f++],u=o=h[f++],h[f++],h[f++],c,p,S);break;case g.Z:b=v(r,o,s,u,c,p,S,!0),r=s,o=u}b<d&&(d=b,n.set(S[0],S[1]))}return d}var I=new a.Z,w=new a.Z,M=new a.Z,D=new a.Z,A=new a.Z;function L(e,t){if(e){var n=e.getTextGuideLine(),r=e.getTextContent();if(r&&n){var o=e.textGuideLineConfig||{},s=[[0,0],[0,0],[0,0]],l=o.candidates||f,u=r.getBoundingRect().clone();u.applyTransform(r.getComputedTransform());var h=1/0,c=o.anchor,p=e.getComputedTransform(),g=p&&(0,d.U_)([],p),m=t.get("length2")||0;c&&M.copy(c);for(var v=0;v<l.length;v++){y(l[v],0,u,I,D),a.Z.scaleAndAdd(w,I,D,m),w.transform(g);var x=e.getBoundingRect(),S=c?c.distance(w):e instanceof i.ZP?_(w,e.path,M):b(w,x,M);S<h&&(h=S,w.transform(p),M.transform(p),M.toArray(s[0]),w.toArray(s[1]),I.toArray(s[2]))}N(s,t.get("minTurnAngle")),n.setShape({points:s})}}}var T=[],C=new a.Z;function N(e,t){if(t<=180&&t>0){t=t/180*Math.PI,I.fromArray(e[0]),w.fromArray(e[1]),M.fromArray(e[2]),a.Z.sub(D,I,w),a.Z.sub(A,M,w);var n=D.len(),i=A.len();if(!(n<.001||i<.001)){D.scale(1/n),A.scale(1/i);var r=D.dot(A);if(Math.cos(t)<r){var o=v(w.x,w.y,M.x,M.y,I.x,I.y,T,!1);C.fromArray(T),C.scaleAndAdd(A,o/Math.tan(Math.PI-t));var s=M.x!==w.x?(C.x-w.x)/(M.x-w.x):(C.y-w.y)/(M.y-w.y);if(isNaN(s))return;s<0?a.Z.copy(C,w):s>1&&a.Z.copy(C,M),C.toArray(e[1])}}}}function P(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,I.fromArray(e[0]),w.fromArray(e[1]),M.fromArray(e[2]),a.Z.sub(D,w,I),a.Z.sub(A,M,w);var i=D.len(),r=A.len();if(!(i<.001||r<.001))if(D.scale(1/i),A.scale(1/r),D.dot(t)<Math.cos(n)){var o=v(w.x,w.y,M.x,M.y,I.x,I.y,T,!1);C.fromArray(T);var s=Math.PI/2,l=s+Math.acos(A.dot(t))-n;if(l>=s)a.Z.copy(C,M);else{C.scaleAndAdd(A,o/Math.tan(Math.PI/2-l));var u=M.x!==w.x?(C.x-w.x)/(M.x-w.x):(C.y-w.y)/(M.y-w.y);if(isNaN(u))return;u<0?a.Z.copy(C,w):u>1&&a.Z.copy(C,M)}C.toArray(e[1])}}}function k(e,t,n,a){var i="normal"===n,r=i?e:e.ensureState(n);r.ignore=t;var o=a.get("smooth");o&&!0===o&&(o=.3),r.shape=r.shape||{},o>0&&(r.shape.smooth=o);var s=a.getModel("lineStyle").getLineStyle();i?e.useStyle(s):r.style=s}function E(e,t){var n=t.smooth,a=t.points;if(a)if(e.moveTo(a[0][0],a[0][1]),n>0&&a.length>=3){var i=h.TK(a[0],a[1]),r=h.TK(a[1],a[2]);if(!i||!r)return e.lineTo(a[1][0],a[1][1]),void e.lineTo(a[2][0],a[2][1]);var o=Math.min(i,r)*n,s=h.t7([],a[1],a[0],o/i),l=h.t7([],a[1],a[2],o/r),u=h.t7([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],a[2][0],a[2][1])}else for(var d=1;d<a.length;d++)e.lineTo(a[d][0],a[d][1])}function Z(e,t,n){var a=e.getTextGuideLine(),i=e.getTextContent();if(i){for(var o=t.normal,s=o.get("show"),l=i.ignore,d=0;d<c.qc.length;d++){var h=c.qc[d],p=t[h],g="normal"===h;if(p){var f=p.get("show");if((g?l:(0,u.pD)(i.states[h]&&i.states[h].ignore,l))||!(0,u.pD)(f,s)){var y=g?a:a&&a.states[h];y&&(y.ignore=!0),a&&k(a,!0,h,p);continue}a||(a=new r.Z,e.setTextGuideLine(a),g||!l&&s||k(a,!0,"normal",t.normal),e.stateProxy&&(a.stateProxy=e.stateProxy)),k(a,!1,h,p)}}if(a){(0,u.ce)(a.style,n),a.style.fill=null;var m=o.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=m||!1,a.buildPath=E}}else a&&e.removeTextGuideLine()}function R(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},a=0;a<c.L1.length;a++){var i=c.L1[a];n[i]=e.getModel([i,t])}return n}}}]);
//# sourceMappingURL=864.5451631a.chunk.js.map