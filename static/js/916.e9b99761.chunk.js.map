{"version":3,"file":"static/js/916.e9b99761.chunk.js","mappings":"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","sources":["../node_modules/echarts/lib/component/axisPointer/PolarAxisPointer.js","../node_modules/echarts/lib/coord/polar/PolarModel.js","../node_modules/echarts/lib/coord/polar/AxisModel.js","../node_modules/echarts/lib/coord/polar/RadiusAxis.js","../node_modules/echarts/lib/coord/polar/AngleAxis.js","../node_modules/echarts/lib/coord/polar/Polar.js","../node_modules/echarts/lib/coord/polar/polarCreator.js","../node_modules/echarts/lib/component/axis/AngleAxisView.js","../node_modules/echarts/lib/component/axis/RadiusAxisView.js","../node_modules/echarts/lib/layout/barPolar.js","../node_modules/echarts/lib/component/polar/install.js","../node_modules/echarts/lib/coord/single/singleAxisHelper.js","../node_modules/echarts/lib/component/axis/SingleAxisView.js","../node_modules/echarts/lib/coord/single/AxisModel.js","../node_modules/echarts/lib/coord/single/SingleAxis.js","../node_modules/echarts/lib/coord/single/Single.js","../node_modules/echarts/lib/coord/single/singleCreator.js","../node_modules/echarts/lib/component/axisPointer/SingleAxisPointer.js","../node_modules/echarts/lib/component/singleAxis/install.js","../node_modules/echarts/lib/coord/calendar/CalendarModel.js","../node_modules/echarts/lib/component/calendar/CalendarView.js","../node_modules/echarts/lib/coord/calendar/Calendar.js","../node_modules/echarts/lib/component/calendar/install.js","../node_modules/echarts/lib/component/graphic/GraphicModel.js","../node_modules/echarts/lib/component/graphic/GraphicView.js","../node_modules/echarts/lib/component/graphic/install.js","../node_modules/echarts/lib/component/dataZoom/helper.js","../node_modules/echarts/lib/component/dataZoom/DataZoomModel.js","../node_modules/echarts/lib/component/dataZoom/SelectZoomModel.js","../node_modules/echarts/lib/component/dataZoom/DataZoomView.js","../node_modules/echarts/lib/component/dataZoom/SelectZoomView.js","../node_modules/echarts/lib/component/dataZoom/AxisProxy.js","../node_modules/echarts/lib/component/dataZoom/dataZoomProcessor.js","../node_modules/echarts/lib/component/dataZoom/installCommon.js","../node_modules/echarts/lib/component/dataZoom/dataZoomAction.js","../node_modules/echarts/lib/component/dataZoom/installDataZoomSelect.js","../node_modules/echarts/lib/component/toolbox/featureManager.js","../node_modules/echarts/lib/component/toolbox/ToolboxModel.js","../node_modules/echarts/lib/component/helper/listComponent.js","../node_modules/echarts/lib/component/toolbox/ToolboxView.js","../node_modules/echarts/lib/component/toolbox/feature/SaveAsImage.js","../node_modules/echarts/lib/component/toolbox/feature/MagicType.js","../node_modules/echarts/lib/component/toolbox/feature/DataView.js","../node_modules/echarts/lib/component/dataZoom/history.js","../node_modules/echarts/lib/component/toolbox/feature/Restore.js","../node_modules/echarts/lib/component/helper/BrushTargetManager.js","../node_modules/echarts/lib/component/toolbox/feature/DataZoom.js","../node_modules/echarts/lib/component/toolbox/install.js","../node_modules/echarts/lib/component/tooltip/TooltipModel.js","../node_modules/echarts/lib/component/tooltip/helper.js","../node_modules/echarts/lib/component/tooltip/TooltipHTMLContent.js","../node_modules/echarts/lib/component/tooltip/TooltipRichContent.js","../node_modules/echarts/lib/component/tooltip/TooltipView.js","../node_modules/echarts/lib/component/tooltip/install.js","../node_modules/echarts/lib/component/brush/preprocessor.js","../node_modules/echarts/lib/visual/visualSolution.js","../node_modules/echarts/lib/component/brush/selector.js","../node_modules/echarts/lib/component/brush/visualEncoding.js","../node_modules/echarts/lib/component/brush/BrushView.js","../node_modules/echarts/lib/component/brush/BrushModel.js","../node_modules/echarts/lib/component/toolbox/feature/Brush.js","../node_modules/echarts/lib/component/brush/install.js","../node_modules/echarts/lib/component/title/install.js","../node_modules/echarts/lib/component/timeline/TimelineModel.js","../node_modules/echarts/lib/component/timeline/SliderTimelineModel.js","../node_modules/echarts/lib/component/timeline/TimelineView.js","../node_modules/echarts/lib/component/timeline/TimelineAxis.js","../node_modules/echarts/lib/component/timeline/SliderTimelineView.js","../node_modules/echarts/lib/component/timeline/preprocessor.js","../node_modules/echarts/lib/component/timeline/install.js","../node_modules/echarts/lib/component/timeline/timelineAction.js","../node_modules/echarts/lib/component/marker/checkMarkerInSeries.js","../node_modules/echarts/lib/component/marker/MarkerModel.js","../node_modules/echarts/lib/component/marker/MarkPointModel.js","../node_modules/echarts/lib/component/marker/markerHelper.js","../node_modules/echarts/lib/component/marker/MarkerView.js","../node_modules/echarts/lib/component/marker/MarkPointView.js","../node_modules/echarts/lib/component/marker/installMarkPoint.js","../node_modules/echarts/lib/component/marker/MarkLineModel.js","../node_modules/echarts/lib/component/marker/MarkLineView.js","../node_modules/echarts/lib/component/marker/installMarkLine.js","../node_modules/echarts/lib/component/marker/MarkAreaModel.js","../node_modules/echarts/lib/component/marker/MarkAreaView.js","../node_modules/echarts/lib/component/marker/installMarkArea.js","../node_modules/echarts/lib/component/legend/LegendModel.js","../node_modules/echarts/lib/component/legend/LegendView.js","../node_modules/echarts/lib/component/legend/legendFilter.js","../node_modules/echarts/lib/component/legend/legendAction.js","../node_modules/echarts/lib/component/legend/installLegendPlain.js","../node_modules/echarts/lib/component/legend/ScrollableLegendModel.js","../node_modules/echarts/lib/component/legend/ScrollableLegendView.js","../node_modules/echarts/lib/component/legend/installLegendScroll.js","../node_modules/echarts/lib/component/legend/scrollableLegendAction.js","../node_modules/echarts/lib/component/legend/install.js","../node_modules/echarts/lib/component/dataZoom/InsideZoomModel.js","../node_modules/echarts/lib/component/dataZoom/roams.js","../node_modules/echarts/lib/component/dataZoom/InsideZoomView.js","../node_modules/echarts/lib/component/dataZoom/installDataZoomInside.js","../node_modules/echarts/lib/component/dataZoom/SliderZoomModel.js","../node_modules/echarts/lib/component/dataZoom/SliderZoomView.js","../node_modules/echarts/lib/component/dataZoom/installDataZoomSlider.js","../node_modules/echarts/lib/component/dataZoom/install.js","../node_modules/echarts/lib/visual/visualDefault.js","../node_modules/echarts/lib/component/visualMap/VisualMapModel.js","../node_modules/echarts/lib/component/visualMap/ContinuousModel.js","../node_modules/echarts/lib/component/visualMap/VisualMapView.js","../node_modules/echarts/lib/component/visualMap/helper.js","../node_modules/echarts/lib/component/visualMap/ContinuousView.js","../node_modules/echarts/lib/component/visualMap/visualMapAction.js","../node_modules/echarts/lib/component/visualMap/visualEncoding.js","../node_modules/echarts/lib/component/visualMap/preprocessor.js","../node_modules/echarts/lib/component/visualMap/installCommon.js","../node_modules/echarts/lib/component/visualMap/installVisualMapContinuous.js","../node_modules/echarts/lib/component/visualMap/PiecewiseModel.js","../node_modules/echarts/lib/component/visualMap/PiecewiseView.js","../node_modules/echarts/lib/component/visualMap/installVisualMapPiecewise.js","../node_modules/echarts/lib/component/visualMap/install.js","../node_modules/echarts/lib/visual/aria.js","../node_modules/echarts/lib/component/aria/preprocessor.js","../node_modules/echarts/lib/component/aria/install.js","../node_modules/echarts/lib/util/conditionalExpression.js","../node_modules/echarts/lib/component/transform/filterTransform.js","../node_modules/echarts/lib/component/transform/sortTransform.js","../node_modules/echarts/lib/component/transform/install.js","../node_modules/echarts/lib/component/dataset/install.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseAxisPointer from './BaseAxisPointer.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as viewHelper from './viewHelper.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport AxisBuilder from '../axis/AxisBuilder.js';\nvar PolarAxisPointer = /** @class */function (_super) {\n  __extends(PolarAxisPointer, _super);\n  function PolarAxisPointer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @override\n   */\n  PolarAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    if (axis.dim === 'angle') {\n      this.animationThreshold = Math.PI / 18;\n    }\n    var polar = axis.polar;\n    var otherAxis = polar.getOtherAxis(axis);\n    var otherExtent = otherAxis.getExtent();\n    var coordValue = axis.dataToCoord(value);\n    var axisPointerType = axisPointerModel.get('type');\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, polar, coordValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n    var labelMargin = axisPointerModel.get(['label', 'margin']);\n    var labelPos = getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin);\n    viewHelper.buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos);\n  };\n  return PolarAxisPointer;\n}(BaseAxisPointer);\n;\nfunction getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin) {\n  var axis = axisModel.axis;\n  var coord = axis.dataToCoord(value);\n  var axisAngle = polar.getAngleAxis().getExtent()[0];\n  axisAngle = axisAngle / 180 * Math.PI;\n  var radiusExtent = polar.getRadiusAxis().getExtent();\n  var position;\n  var align;\n  var verticalAlign;\n  if (axis.dim === 'radius') {\n    var transform = matrix.create();\n    matrix.rotate(transform, transform, axisAngle);\n    matrix.translate(transform, transform, [polar.cx, polar.cy]);\n    position = graphic.applyTransform([coord, -labelMargin], transform);\n    var labelRotation = axisModel.getModel('axisLabel').get('rotate') || 0;\n    // @ts-ignore\n    var labelLayout = AxisBuilder.innerTextLayout(axisAngle, labelRotation * Math.PI / 180, -1);\n    align = labelLayout.textAlign;\n    verticalAlign = labelLayout.textVerticalAlign;\n  } else {\n    // angle axis\n    var r = radiusExtent[1];\n    position = polar.coordToPoint([r + labelMargin, coord]);\n    var cx = polar.cx;\n    var cy = polar.cy;\n    align = Math.abs(position[0] - cx) / r < 0.3 ? 'center' : position[0] > cx ? 'left' : 'right';\n    verticalAlign = Math.abs(position[1] - cy) / r < 0.3 ? 'middle' : position[1] > cy ? 'top' : 'bottom';\n  }\n  return {\n    position: position,\n    align: align,\n    verticalAlign: verticalAlign\n  };\n}\nvar pointerShapeBuilder = {\n  line: function (axis, polar, coordValue, otherExtent) {\n    return axis.dim === 'angle' ? {\n      type: 'Line',\n      shape: viewHelper.makeLineShape(polar.coordToPoint([otherExtent[0], coordValue]), polar.coordToPoint([otherExtent[1], coordValue]))\n    } : {\n      type: 'Circle',\n      shape: {\n        cx: polar.cx,\n        cy: polar.cy,\n        r: coordValue\n      }\n    };\n  },\n  shadow: function (axis, polar, coordValue, otherExtent) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var radian = Math.PI / 180;\n    return axis.dim === 'angle' ? {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, otherExtent[0], otherExtent[1],\n      // In ECharts y is negative if angle is positive\n      (-coordValue - bandWidth / 2) * radian, (-coordValue + bandWidth / 2) * radian)\n    } : {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, coordValue - bandWidth / 2, coordValue + bandWidth / 2, 0, Math.PI * 2)\n    };\n  }\n};\nexport default PolarAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nvar PolarModel = /** @class */function (_super) {\n  __extends(PolarModel, _super);\n  function PolarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PolarModel.type;\n    return _this;\n  }\n  PolarModel.prototype.findAxisModel = function (axisType) {\n    var foundAxisModel;\n    var ecModel = this.ecModel;\n    ecModel.eachComponent(axisType, function (axisModel) {\n      if (axisModel.getCoordSysModel() === this) {\n        foundAxisModel = axisModel;\n      }\n    }, this);\n    return foundAxisModel;\n  };\n  PolarModel.type = 'polar';\n  PolarModel.dependencies = ['radiusAxis', 'angleAxis'];\n  PolarModel.defaultOption = {\n    // zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '80%'\n  };\n  return PolarModel;\n}(ComponentModel);\nexport default PolarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nvar PolarAxisModel = /** @class */function (_super) {\n  __extends(PolarAxisModel, _super);\n  function PolarAxisModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PolarAxisModel.prototype.getCoordSysModel = function () {\n    return this.getReferringComponents('polar', SINGLE_REFERRING).models[0];\n  };\n  PolarAxisModel.type = 'polarAxis';\n  return PolarAxisModel;\n}(ComponentModel);\nzrUtil.mixin(PolarAxisModel, AxisModelCommonMixin);\nexport { PolarAxisModel };\nvar AngleAxisModel = /** @class */function (_super) {\n  __extends(AngleAxisModel, _super);\n  function AngleAxisModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AngleAxisModel.type;\n    return _this;\n  }\n  AngleAxisModel.type = 'angleAxis';\n  return AngleAxisModel;\n}(PolarAxisModel);\nexport { AngleAxisModel };\nvar RadiusAxisModel = /** @class */function (_super) {\n  __extends(RadiusAxisModel, _super);\n  function RadiusAxisModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = RadiusAxisModel.type;\n    return _this;\n  }\n  RadiusAxisModel.type = 'radiusAxis';\n  return RadiusAxisModel;\n}(PolarAxisModel);\nexport { RadiusAxisModel };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar RadiusAxis = /** @class */function (_super) {\n  __extends(RadiusAxis, _super);\n  function RadiusAxis(scale, radiusExtent) {\n    return _super.call(this, 'radius', scale, radiusExtent) || this;\n  }\n  RadiusAxis.prototype.pointToData = function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  };\n  return RadiusAxis;\n}(Axis);\nRadiusAxis.prototype.dataToRadius = Axis.prototype.dataToCoord;\nRadiusAxis.prototype.radiusToData = Axis.prototype.coordToData;\nexport default RadiusAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport Axis from '../Axis.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nvar AngleAxis = /** @class */function (_super) {\n  __extends(AngleAxis, _super);\n  function AngleAxis(scale, angleExtent) {\n    return _super.call(this, 'angle', scale, angleExtent || [0, 360]) || this;\n  }\n  AngleAxis.prototype.pointToData = function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  };\n  /**\n   * Only be called in category axis.\n   * Angle axis uses text height to decide interval\n   *\n   * @override\n   * @return {number} Auto interval for cateogry axis tick and label\n   */\n  AngleAxis.prototype.calculateCategoryInterval = function () {\n    var axis = this;\n    var labelModel = axis.getLabelModel();\n    var ordinalScale = axis.scale;\n    var ordinalExtent = ordinalScale.getExtent();\n    // Providing this method is for optimization:\n    // avoid generating a long array by `getTicks`\n    // in large category data case.\n    var tickCount = ordinalScale.count();\n    if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n      return 0;\n    }\n    var tickValue = ordinalExtent[0];\n    var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n    var unitH = Math.abs(unitSpan);\n    // Not precise, just use height as text width\n    // and each distance from axis line yet.\n    var rect = textContain.getBoundingRect(tickValue == null ? '' : tickValue + '', labelModel.getFont(), 'center', 'top');\n    var maxH = Math.max(rect.height, 7);\n    var dh = maxH / unitH;\n    // 0/0 is NaN, 1/0 is Infinity.\n    isNaN(dh) && (dh = Infinity);\n    var interval = Math.max(0, Math.floor(dh));\n    var cache = inner(axis.model);\n    var lastAutoInterval = cache.lastAutoInterval;\n    var lastTickCount = cache.lastTickCount;\n    // Use cache to keep interval stable while moving zoom window,\n    // otherwise the calculated interval might jitter when the zoom\n    // window size is close to the interval-changing size.\n    if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1\n    // Always choose the bigger one, otherwise the critical\n    // point is not the same when zooming in or zooming out.\n    && lastAutoInterval > interval) {\n      interval = lastAutoInterval;\n    }\n    // Only update cache if cache not used, otherwise the\n    // changing of interval is too insensitive.\n    else {\n      cache.lastTickCount = tickCount;\n      cache.lastAutoInterval = interval;\n    }\n    return interval;\n  };\n  return AngleAxis;\n}(Axis);\nAngleAxis.prototype.dataToAngle = Axis.prototype.dataToCoord;\nAngleAxis.prototype.angleToData = Axis.prototype.coordToData;\nexport default AngleAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport RadiusAxis from './RadiusAxis.js';\nimport AngleAxis from './AngleAxis.js';\nexport var polarDimensions = ['radius', 'angle'];\nvar Polar = /** @class */function () {\n  function Polar(name) {\n    this.dimensions = polarDimensions;\n    this.type = 'polar';\n    /**\n     * x of polar center\n     */\n    this.cx = 0;\n    /**\n     * y of polar center\n     */\n    this.cy = 0;\n    this._radiusAxis = new RadiusAxis();\n    this._angleAxis = new AngleAxis();\n    this.axisPointerEnabled = true;\n    this.name = name || '';\n    this._radiusAxis.polar = this._angleAxis.polar = this;\n  }\n  /**\n   * If contain coord\n   */\n  Polar.prototype.containPoint = function (point) {\n    var coord = this.pointToCoord(point);\n    return this._radiusAxis.contain(coord[0]) && this._angleAxis.contain(coord[1]);\n  };\n  /**\n   * If contain data\n   */\n  Polar.prototype.containData = function (data) {\n    return this._radiusAxis.containData(data[0]) && this._angleAxis.containData(data[1]);\n  };\n  Polar.prototype.getAxis = function (dim) {\n    var key = '_' + dim + 'Axis';\n    return this[key];\n  };\n  Polar.prototype.getAxes = function () {\n    return [this._radiusAxis, this._angleAxis];\n  };\n  /**\n   * Get axes by type of scale\n   */\n  Polar.prototype.getAxesByScale = function (scaleType) {\n    var axes = [];\n    var angleAxis = this._angleAxis;\n    var radiusAxis = this._radiusAxis;\n    angleAxis.scale.type === scaleType && axes.push(angleAxis);\n    radiusAxis.scale.type === scaleType && axes.push(radiusAxis);\n    return axes;\n  };\n  Polar.prototype.getAngleAxis = function () {\n    return this._angleAxis;\n  };\n  Polar.prototype.getRadiusAxis = function () {\n    return this._radiusAxis;\n  };\n  Polar.prototype.getOtherAxis = function (axis) {\n    var angleAxis = this._angleAxis;\n    return axis === angleAxis ? this._radiusAxis : angleAxis;\n  };\n  /**\n   * Base axis will be used on stacking.\n   *\n   */\n  Polar.prototype.getBaseAxis = function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAngleAxis();\n  };\n  Polar.prototype.getTooltipAxes = function (dim) {\n    var baseAxis = dim != null && dim !== 'auto' ? this.getAxis(dim) : this.getBaseAxis();\n    return {\n      baseAxes: [baseAxis],\n      otherAxes: [this.getOtherAxis(baseAxis)]\n    };\n  };\n  /**\n   * Convert a single data item to (x, y) point.\n   * Parameter data is an array which the first element is radius and the second is angle\n   */\n  Polar.prototype.dataToPoint = function (data, clamp) {\n    return this.coordToPoint([this._radiusAxis.dataToRadius(data[0], clamp), this._angleAxis.dataToAngle(data[1], clamp)]);\n  };\n  /**\n   * Convert a (x, y) point to data\n   */\n  Polar.prototype.pointToData = function (point, clamp) {\n    var coord = this.pointToCoord(point);\n    return [this._radiusAxis.radiusToData(coord[0], clamp), this._angleAxis.angleToData(coord[1], clamp)];\n  };\n  /**\n   * Convert a (x, y) point to (radius, angle) coord\n   */\n  Polar.prototype.pointToCoord = function (point) {\n    var dx = point[0] - this.cx;\n    var dy = point[1] - this.cy;\n    var angleAxis = this.getAngleAxis();\n    var extent = angleAxis.getExtent();\n    var minAngle = Math.min(extent[0], extent[1]);\n    var maxAngle = Math.max(extent[0], extent[1]);\n    // Fix fixed extent in polarCreator\n    // FIXME\n    angleAxis.inverse ? minAngle = maxAngle - 360 : maxAngle = minAngle + 360;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx) / Math.PI * 180;\n    // move to angleExtent\n    var dir = radian < minAngle ? 1 : -1;\n    while (radian < minAngle || radian > maxAngle) {\n      radian += dir * 360;\n    }\n    return [radius, radian];\n  };\n  /**\n   * Convert a (radius, angle) coord to (x, y) point\n   */\n  Polar.prototype.coordToPoint = function (coord) {\n    var radius = coord[0];\n    var radian = coord[1] / 180 * Math.PI;\n    var x = Math.cos(radian) * radius + this.cx;\n    // Inverse the y\n    var y = -Math.sin(radian) * radius + this.cy;\n    return [x, y];\n  };\n  /**\n   * Get ring area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   */\n  Polar.prototype.getArea = function () {\n    var angleAxis = this.getAngleAxis();\n    var radiusAxis = this.getRadiusAxis();\n    var radiusExtent = radiusAxis.getExtent().slice();\n    radiusExtent[0] > radiusExtent[1] && radiusExtent.reverse();\n    var angleExtent = angleAxis.getExtent();\n    var RADIAN = Math.PI / 180;\n    return {\n      cx: this.cx,\n      cy: this.cy,\n      r0: radiusExtent[0],\n      r: radiusExtent[1],\n      startAngle: -angleExtent[0] * RADIAN,\n      endAngle: -angleExtent[1] * RADIAN,\n      clockwise: angleAxis.inverse,\n      contain: function (x, y) {\n        // It's a ring shape.\n        // Start angle and end angle don't matter\n        var dx = x - this.cx;\n        var dy = y - this.cy;\n        // minus a tiny value 1e-4 to avoid being clipped unexpectedly\n        var d2 = dx * dx + dy * dy - 1e-4;\n        var r = this.r;\n        var r0 = this.r0;\n        return d2 <= r * r && d2 >= r0 * r0;\n      }\n    };\n  };\n  Polar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.dataToPoint(value) : null;\n  };\n  Polar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.pointToData(pixel) : null;\n  };\n  return Polar;\n}();\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  var polarModel = finder.polarModel;\n  return polarModel && polarModel.coordinateSystem || seriesModel && seriesModel.coordinateSystem;\n}\nexport default Polar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Axis scale\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Polar, { polarDimensions } from './Polar.js';\nimport { parsePercent } from '../../util/number.js';\nimport { createScaleByModel, niceScaleExtent, getDataDimensionsOnAxis } from '../../coord/axisHelper.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\n/**\n * Resize method bound to the polar\n */\nfunction resizePolar(polar, polarModel, api) {\n  var center = polarModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  polar.cx = parsePercent(center[0], width);\n  polar.cy = parsePercent(center[1], height);\n  var radiusAxis = polar.getRadiusAxis();\n  var size = Math.min(width, height) / 2;\n  var radius = polarModel.get('radius');\n  if (radius == null) {\n    radius = [0, '100%'];\n  } else if (!zrUtil.isArray(radius)) {\n    // r0 = 0\n    radius = [0, radius];\n  }\n  var parsedRadius = [parsePercent(radius[0], size), parsePercent(radius[1], size)];\n  radiusAxis.inverse ? radiusAxis.setExtent(parsedRadius[1], parsedRadius[0]) : radiusAxis.setExtent(parsedRadius[0], parsedRadius[1]);\n}\n/**\n * Update polar\n */\nfunction updatePolarScale(ecModel, api) {\n  var polar = this;\n  var angleAxis = polar.getAngleAxis();\n  var radiusAxis = polar.getRadiusAxis();\n  // Reset scale\n  angleAxis.scale.setExtent(Infinity, -Infinity);\n  radiusAxis.scale.setExtent(Infinity, -Infinity);\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.coordinateSystem === polar) {\n      var data_1 = seriesModel.getData();\n      zrUtil.each(getDataDimensionsOnAxis(data_1, 'radius'), function (dim) {\n        radiusAxis.scale.unionExtentFromData(data_1, dim);\n      });\n      zrUtil.each(getDataDimensionsOnAxis(data_1, 'angle'), function (dim) {\n        angleAxis.scale.unionExtentFromData(data_1, dim);\n      });\n    }\n  });\n  niceScaleExtent(angleAxis.scale, angleAxis.model);\n  niceScaleExtent(radiusAxis.scale, radiusAxis.model);\n  // Fix extent of category angle axis\n  if (angleAxis.type === 'category' && !angleAxis.onBand) {\n    var extent = angleAxis.getExtent();\n    var diff = 360 / angleAxis.scale.count();\n    angleAxis.inverse ? extent[1] += diff : extent[1] -= diff;\n    angleAxis.setExtent(extent[0], extent[1]);\n  }\n}\nfunction isAngleAxisModel(axisModel) {\n  return axisModel.mainType === 'angleAxis';\n}\n/**\n * Set common axis properties\n */\nfunction setAxis(axis, axisModel) {\n  var _a;\n  axis.type = axisModel.get('type');\n  axis.scale = createScaleByModel(axisModel);\n  axis.onBand = axisModel.get('boundaryGap') && axis.type === 'category';\n  axis.inverse = axisModel.get('inverse');\n  if (isAngleAxisModel(axisModel)) {\n    axis.inverse = axis.inverse !== axisModel.get('clockwise');\n    var startAngle = axisModel.get('startAngle');\n    var endAngle = (_a = axisModel.get('endAngle')) !== null && _a !== void 0 ? _a : startAngle + (axis.inverse ? -360 : 360);\n    axis.setExtent(startAngle, endAngle);\n  }\n  // Inject axis instance\n  axisModel.axis = axis;\n  axis.model = axisModel;\n}\nvar polarCreator = {\n  dimensions: polarDimensions,\n  create: function (ecModel, api) {\n    var polarList = [];\n    ecModel.eachComponent('polar', function (polarModel, idx) {\n      var polar = new Polar(idx + '');\n      // Inject resize and update method\n      polar.update = updatePolarScale;\n      var radiusAxis = polar.getRadiusAxis();\n      var angleAxis = polar.getAngleAxis();\n      var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n      var angleAxisModel = polarModel.findAxisModel('angleAxis');\n      setAxis(radiusAxis, radiusAxisModel);\n      setAxis(angleAxis, angleAxisModel);\n      resizePolar(polar, polarModel, api);\n      polarList.push(polar);\n      polarModel.coordinateSystem = polar;\n      polar.model = polarModel;\n    });\n    // Inject coordinateSystem to series\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.get('coordinateSystem') === 'polar') {\n        var polarModel = seriesModel.getReferringComponents('polar', SINGLE_REFERRING).models[0];\n        if (process.env.NODE_ENV !== 'production') {\n          if (!polarModel) {\n            throw new Error('Polar \"' + zrUtil.retrieve(seriesModel.get('polarIndex'), seriesModel.get('polarId'), 0) + '\" not found');\n          }\n        }\n        seriesModel.coordinateSystem = polarModel.coordinateSystem;\n      }\n    });\n    return polarList;\n  }\n};\nexport default polarCreator;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport Model from '../../model/Model.js';\nimport AxisView from './AxisView.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport { getECData } from '../../util/innerStore.js';\nvar elementList = ['axisLine', 'axisLabel', 'axisTick', 'minorTick', 'splitLine', 'minorSplitLine', 'splitArea'];\nfunction getAxisLineShape(polar, rExtent, angle) {\n  rExtent[1] > rExtent[0] && (rExtent = rExtent.slice().reverse());\n  var start = polar.coordToPoint([rExtent[0], angle]);\n  var end = polar.coordToPoint([rExtent[1], angle]);\n  return {\n    x1: start[0],\n    y1: start[1],\n    x2: end[0],\n    y2: end[1]\n  };\n}\nfunction getRadiusIdx(polar) {\n  var radiusAxis = polar.getRadiusAxis();\n  return radiusAxis.inverse ? 0 : 1;\n}\n// Remove the last tick which will overlap the first tick\nfunction fixAngleOverlap(list) {\n  var firstItem = list[0];\n  var lastItem = list[list.length - 1];\n  if (firstItem && lastItem && Math.abs(Math.abs(firstItem.coord - lastItem.coord) - 360) < 1e-4) {\n    list.pop();\n  }\n}\nvar AngleAxisView = /** @class */function (_super) {\n  __extends(AngleAxisView, _super);\n  function AngleAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AngleAxisView.type;\n    _this.axisPointerClass = 'PolarAxisPointer';\n    return _this;\n  }\n  AngleAxisView.prototype.render = function (angleAxisModel, ecModel) {\n    this.group.removeAll();\n    if (!angleAxisModel.get('show')) {\n      return;\n    }\n    var angleAxis = angleAxisModel.axis;\n    var polar = angleAxis.polar;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var ticksAngles = angleAxis.getTicksCoords();\n    var minorTickAngles = angleAxis.getMinorTicksCoords();\n    var labels = zrUtil.map(angleAxis.getViewLabels(), function (labelItem) {\n      labelItem = zrUtil.clone(labelItem);\n      var scale = angleAxis.scale;\n      var tickValue = scale.type === 'ordinal' ? scale.getRawOrdinalNumber(labelItem.tickValue) : labelItem.tickValue;\n      labelItem.coord = angleAxis.dataToCoord(tickValue);\n      return labelItem;\n    });\n    fixAngleOverlap(labels);\n    fixAngleOverlap(ticksAngles);\n    zrUtil.each(elementList, function (name) {\n      if (angleAxisModel.get([name, 'show']) && (!angleAxis.scale.isBlank() || name === 'axisLine')) {\n        angelAxisElementsBuilders[name](this.group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent, labels);\n      }\n    }, this);\n  };\n  AngleAxisView.type = 'angleAxis';\n  return AngleAxisView;\n}(AxisView);\nvar angelAxisElementsBuilders = {\n  axisLine: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var lineStyleModel = angleAxisModel.getModel(['axisLine', 'lineStyle']);\n    var angleAxis = polar.getAngleAxis();\n    var RADIAN = Math.PI / 180;\n    var angleExtent = angleAxis.getExtent();\n    // extent id of the axis radius (r0 and r)\n    var rId = getRadiusIdx(polar);\n    var r0Id = rId ? 0 : 1;\n    var shape;\n    var shapeType = Math.abs(angleExtent[1] - angleExtent[0]) === 360 ? 'Circle' : 'Arc';\n    if (radiusExtent[r0Id] === 0) {\n      shape = new graphic[shapeType]({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r: radiusExtent[rId],\n          startAngle: -angleExtent[0] * RADIAN,\n          endAngle: -angleExtent[1] * RADIAN,\n          clockwise: angleAxis.inverse\n        },\n        style: lineStyleModel.getLineStyle(),\n        z2: 1,\n        silent: true\n      });\n    } else {\n      shape = new graphic.Ring({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r: radiusExtent[rId],\n          r0: radiusExtent[r0Id]\n        },\n        style: lineStyleModel.getLineStyle(),\n        z2: 1,\n        silent: true\n      });\n    }\n    shape.style.fill = null;\n    group.add(shape);\n  },\n  axisTick: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var tickModel = angleAxisModel.getModel('axisTick');\n    var tickLen = (tickModel.get('inside') ? -1 : 1) * tickModel.get('length');\n    var radius = radiusExtent[getRadiusIdx(polar)];\n    var lines = zrUtil.map(ticksAngles, function (tickAngleItem) {\n      return new graphic.Line({\n        shape: getAxisLineShape(polar, [radius, radius + tickLen], tickAngleItem.coord)\n      });\n    });\n    group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults(tickModel.getModel('lineStyle').getLineStyle(), {\n        stroke: angleAxisModel.get(['axisLine', 'lineStyle', 'color'])\n      })\n    }));\n  },\n  minorTick: function (group, angleAxisModel, polar, tickAngles, minorTickAngles, radiusExtent) {\n    if (!minorTickAngles.length) {\n      return;\n    }\n    var tickModel = angleAxisModel.getModel('axisTick');\n    var minorTickModel = angleAxisModel.getModel('minorTick');\n    var tickLen = (tickModel.get('inside') ? -1 : 1) * minorTickModel.get('length');\n    var radius = radiusExtent[getRadiusIdx(polar)];\n    var lines = [];\n    for (var i = 0; i < minorTickAngles.length; i++) {\n      for (var k = 0; k < minorTickAngles[i].length; k++) {\n        lines.push(new graphic.Line({\n          shape: getAxisLineShape(polar, [radius, radius + tickLen], minorTickAngles[i][k].coord)\n        }));\n      }\n    }\n    group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults(minorTickModel.getModel('lineStyle').getLineStyle(), zrUtil.defaults(tickModel.getLineStyle(), {\n        stroke: angleAxisModel.get(['axisLine', 'lineStyle', 'color'])\n      }))\n    }));\n  },\n  axisLabel: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent, labels) {\n    var rawCategoryData = angleAxisModel.getCategories(true);\n    var commonLabelModel = angleAxisModel.getModel('axisLabel');\n    var labelMargin = commonLabelModel.get('margin');\n    var triggerEvent = angleAxisModel.get('triggerEvent');\n    // Use length of ticksAngles because it may remove the last tick to avoid overlapping\n    zrUtil.each(labels, function (labelItem, idx) {\n      var labelModel = commonLabelModel;\n      var tickValue = labelItem.tickValue;\n      var r = radiusExtent[getRadiusIdx(polar)];\n      var p = polar.coordToPoint([r + labelMargin, labelItem.coord]);\n      var cx = polar.cx;\n      var cy = polar.cy;\n      var labelTextAlign = Math.abs(p[0] - cx) / r < 0.3 ? 'center' : p[0] > cx ? 'left' : 'right';\n      var labelTextVerticalAlign = Math.abs(p[1] - cy) / r < 0.3 ? 'middle' : p[1] > cy ? 'top' : 'bottom';\n      if (rawCategoryData && rawCategoryData[tickValue]) {\n        var rawCategoryItem = rawCategoryData[tickValue];\n        if (zrUtil.isObject(rawCategoryItem) && rawCategoryItem.textStyle) {\n          labelModel = new Model(rawCategoryItem.textStyle, commonLabelModel, commonLabelModel.ecModel);\n        }\n      }\n      var textEl = new graphic.Text({\n        silent: AxisBuilder.isLabelSilent(angleAxisModel),\n        style: createTextStyle(labelModel, {\n          x: p[0],\n          y: p[1],\n          fill: labelModel.getTextColor() || angleAxisModel.get(['axisLine', 'lineStyle', 'color']),\n          text: labelItem.formattedLabel,\n          align: labelTextAlign,\n          verticalAlign: labelTextVerticalAlign\n        })\n      });\n      group.add(textEl);\n      // Pack data for mouse event\n      if (triggerEvent) {\n        var eventData = AxisBuilder.makeAxisEventDataBase(angleAxisModel);\n        eventData.targetType = 'axisLabel';\n        eventData.value = labelItem.rawLabel;\n        getECData(textEl).eventData = eventData;\n      }\n    }, this);\n  },\n  splitLine: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var splitLineModel = angleAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n    for (var i = 0; i < ticksAngles.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Line({\n        shape: getAxisLineShape(polar, radiusExtent, ticksAngles[i].coord)\n      }));\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitLines.length; i++) {\n      group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length]\n        }, lineStyleModel.getLineStyle()),\n        silent: true,\n        z: angleAxisModel.get('z')\n      }));\n    }\n  },\n  minorSplitLine: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    if (!minorTickAngles.length) {\n      return;\n    }\n    var minorSplitLineModel = angleAxisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var lines = [];\n    for (var i = 0; i < minorTickAngles.length; i++) {\n      for (var k = 0; k < minorTickAngles[i].length; k++) {\n        lines.push(new graphic.Line({\n          shape: getAxisLineShape(polar, radiusExtent, minorTickAngles[i][k].coord)\n        }));\n      }\n    }\n    group.add(graphic.mergePath(lines, {\n      style: lineStyleModel.getLineStyle(),\n      silent: true,\n      z: angleAxisModel.get('z')\n    }));\n  },\n  splitArea: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    if (!ticksAngles.length) {\n      return;\n    }\n    var splitAreaModel = angleAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var RADIAN = Math.PI / 180;\n    var prevAngle = -ticksAngles[0].coord * RADIAN;\n    var r0 = Math.min(radiusExtent[0], radiusExtent[1]);\n    var r1 = Math.max(radiusExtent[0], radiusExtent[1]);\n    var clockwise = angleAxisModel.get('clockwise');\n    for (var i = 1, len = ticksAngles.length; i <= len; i++) {\n      var coord = i === len ? ticksAngles[0].coord : ticksAngles[i].coord;\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: r0,\n          r: r1,\n          startAngle: prevAngle,\n          endAngle: -coord * RADIAN,\n          clockwise: clockwise\n        },\n        silent: true\n      }));\n      prevAngle = -coord * RADIAN;\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitAreas.length; i++) {\n      group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n};\nexport default AngleAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport AxisView from './AxisView.js';\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitLine', 'splitArea', 'minorSplitLine'];\nvar RadiusAxisView = /** @class */function (_super) {\n  __extends(RadiusAxisView, _super);\n  function RadiusAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = RadiusAxisView.type;\n    _this.axisPointerClass = 'PolarAxisPointer';\n    return _this;\n  }\n  RadiusAxisView.prototype.render = function (radiusAxisModel, ecModel) {\n    this.group.removeAll();\n    if (!radiusAxisModel.get('show')) {\n      return;\n    }\n    var oldAxisGroup = this._axisGroup;\n    var newAxisGroup = this._axisGroup = new graphic.Group();\n    this.group.add(newAxisGroup);\n    var radiusAxis = radiusAxisModel.axis;\n    var polar = radiusAxis.polar;\n    var angleAxis = polar.getAngleAxis();\n    var ticksCoords = radiusAxis.getTicksCoords();\n    var minorTicksCoords = radiusAxis.getMinorTicksCoords();\n    var axisAngle = angleAxis.getExtent()[0];\n    var radiusExtent = radiusAxis.getExtent();\n    var layout = layoutAxis(polar, radiusAxisModel, axisAngle);\n    var axisBuilder = new AxisBuilder(radiusAxisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n    newAxisGroup.add(axisBuilder.getGroup());\n    graphic.groupTransition(oldAxisGroup, newAxisGroup, radiusAxisModel);\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (radiusAxisModel.get([name, 'show']) && !radiusAxis.scale.isBlank()) {\n        axisElementBuilders[name](this.group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords, minorTicksCoords);\n      }\n    }, this);\n  };\n  RadiusAxisView.type = 'radiusAxis';\n  return RadiusAxisView;\n}(AxisView);\nvar axisElementBuilders = {\n  splitLine: function (group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    var splitLineModel = radiusAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    var angleAxis = polar.getAngleAxis();\n    var RADIAN = Math.PI / 180;\n    var angleExtent = angleAxis.getExtent();\n    var shapeType = Math.abs(angleExtent[1] - angleExtent[0]) === 360 ? 'Circle' : 'Arc';\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic[shapeType]({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          // ensure circle radius >= 0\n          r: Math.max(ticksCoords[i].coord, 0),\n          startAngle: -angleExtent[0] * RADIAN,\n          endAngle: -angleExtent[1] * RADIAN,\n          clockwise: angleAxis.inverse\n        }\n      }));\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitLines.length; i++) {\n      group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length],\n          fill: null\n        }, lineStyleModel.getLineStyle()),\n        silent: true\n      }));\n    }\n  },\n  minorSplitLine: function (group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords, minorTicksCoords) {\n    if (!minorTicksCoords.length) {\n      return;\n    }\n    var minorSplitLineModel = radiusAxisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var lines = [];\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      for (var k = 0; k < minorTicksCoords[i].length; k++) {\n        lines.push(new graphic.Circle({\n          shape: {\n            cx: polar.cx,\n            cy: polar.cy,\n            r: minorTicksCoords[i][k].coord\n          }\n        }));\n      }\n    }\n    group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults({\n        fill: null\n      }, lineStyleModel.getLineStyle()),\n      silent: true\n    }));\n  },\n  splitArea: function (group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    if (!ticksCoords.length) {\n      return;\n    }\n    var splitAreaModel = radiusAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var prevRadius = ticksCoords[0].coord;\n    for (var i = 1; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: prevRadius,\n          r: ticksCoords[i].coord,\n          startAngle: 0,\n          endAngle: Math.PI * 2\n        },\n        silent: true\n      }));\n      prevRadius = ticksCoords[i].coord;\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitAreas.length; i++) {\n      group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n};\n/**\n * @inner\n */\nfunction layoutAxis(polar, radiusAxisModel, axisAngle) {\n  return {\n    position: [polar.cx, polar.cy],\n    rotation: axisAngle / 180 * Math.PI,\n    labelDirection: -1,\n    tickDirection: -1,\n    nameDirection: 1,\n    labelRotate: radiusAxisModel.getModel('axisLabel').get('rotate'),\n    // Over splitLine and splitArea\n    z2: 1\n  };\n}\nexport default RadiusAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parsePercent } from '../util/number.js';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper.js';\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || '__ec_stack_' + seriesModel.seriesIndex;\n}\nfunction getAxisKey(polar, axis) {\n  return axis.dim + polar.model.componentIndex;\n}\nfunction barLayoutPolar(seriesType, ecModel, api) {\n  var lastStackCoords = {};\n  var barWidthAndOffset = calRadialBar(zrUtil.filter(ecModel.getSeriesByType(seriesType), function (seriesModel) {\n    return !ecModel.isSeriesFiltered(seriesModel) && seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'polar';\n  }));\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for polar only\n    if (seriesModel.coordinateSystem.type !== 'polar') {\n      return;\n    }\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var baseAxis = polar.getBaseAxis();\n    var axisKey = getAxisKey(polar, baseAxis);\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[axisKey][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    var valueAxis = polar.getOtherAxis(baseAxis);\n    var cx = seriesModel.coordinateSystem.cx;\n    var cy = seriesModel.coordinateSystem.cy;\n    var barMinHeight = seriesModel.get('barMinHeight') || 0;\n    var barMinAngle = seriesModel.get('barMinAngle') || 0;\n    lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n    var valueDim = data.mapDimension(valueAxis.dim);\n    var baseDim = data.mapDimension(baseAxis.dim);\n    var stacked = isDimensionStacked(data, valueDim /* , baseDim */);\n    var clampLayout = baseAxis.dim !== 'radius' || !seriesModel.get('roundCap', true);\n    var valueAxisStart = valueAxis.dataToCoord(0);\n    for (var idx = 0, len = data.count(); idx < len; idx++) {\n      var value = data.get(valueDim, idx);\n      var baseValue = data.get(baseDim, idx);\n      var sign = value >= 0 ? 'p' : 'n';\n      var baseCoord = valueAxisStart;\n      // Because of the barMinHeight, we can not use the value in\n      // stackResultDimension directly.\n      // Only ordinal axis can be stacked.\n      if (stacked) {\n        if (!lastStackCoords[stackId][baseValue]) {\n          lastStackCoords[stackId][baseValue] = {\n            p: valueAxisStart,\n            n: valueAxisStart // Negative stack\n          };\n        }\n        // Should also consider #4243\n        baseCoord = lastStackCoords[stackId][baseValue][sign];\n      }\n      var r0 = void 0;\n      var r = void 0;\n      var startAngle = void 0;\n      var endAngle = void 0;\n      // radial sector\n      if (valueAxis.dim === 'radius') {\n        var radiusSpan = valueAxis.dataToCoord(value) - valueAxisStart;\n        var angle = baseAxis.dataToCoord(baseValue);\n        if (Math.abs(radiusSpan) < barMinHeight) {\n          radiusSpan = (radiusSpan < 0 ? -1 : 1) * barMinHeight;\n        }\n        r0 = baseCoord;\n        r = baseCoord + radiusSpan;\n        startAngle = angle - columnOffset;\n        endAngle = startAngle - columnWidth;\n        stacked && (lastStackCoords[stackId][baseValue][sign] = r);\n      }\n      // tangential sector\n      else {\n        var angleSpan = valueAxis.dataToCoord(value, clampLayout) - valueAxisStart;\n        var radius = baseAxis.dataToCoord(baseValue);\n        if (Math.abs(angleSpan) < barMinAngle) {\n          angleSpan = (angleSpan < 0 ? -1 : 1) * barMinAngle;\n        }\n        r0 = radius + columnOffset;\n        r = r0 + columnWidth;\n        startAngle = baseCoord;\n        endAngle = baseCoord + angleSpan;\n        // if the previous stack is at the end of the ring,\n        // add a round to differentiate it from origin\n        // let extent = angleAxis.getExtent();\n        // let stackCoord = angle;\n        // if (stackCoord === extent[0] && value > 0) {\n        //     stackCoord = extent[1];\n        // }\n        // else if (stackCoord === extent[1] && value < 0) {\n        //     stackCoord = extent[0];\n        // }\n        stacked && (lastStackCoords[stackId][baseValue][sign] = endAngle);\n      }\n      data.setItemLayout(idx, {\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: r,\n        // Consider that positive angle is anti-clockwise,\n        // while positive radian of sector is clockwise\n        startAngle: -startAngle * Math.PI / 180,\n        endAngle: -endAngle * Math.PI / 180,\n        /**\n         * Keep the same logic with bar in catesion: use end value to\n         * control direction. Notice that if clockwise is true (by\n         * default), the sector will always draw clockwisely, no matter\n         * whether endAngle is greater or less than startAngle.\n         */\n        clockwise: startAngle >= endAngle\n      });\n    }\n  });\n}\n/**\n * Calculate bar width and offset for radial bar charts\n */\nfunction calRadialBar(barSeries) {\n  // Columns info on each category axis. Key is polar name\n  var columnsMap = {};\n  zrUtil.each(barSeries, function (seriesModel, idx) {\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var baseAxis = polar.getBaseAxis();\n    var axisKey = getAxisKey(polar, baseAxis);\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    var columnsOnAxis = columnsMap[axisKey] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: '20%',\n      gap: '30%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[axisKey] = columnsOnAxis;\n    var stackId = getSeriesStackId(seriesModel);\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    };\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n    if (barWidth && !stacks[stackId].width) {\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      stacks[stackId].width = barWidth;\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    barGap != null && (columnsOnAxis.gap = barGap);\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  zrUtil.each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGap = parsePercent(columnsOnAxis.categoryGap, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    // Find if any auto calculated bar exceeded maxBarWidth\n    zrUtil.each(stacks, function (column, stack) {\n      var maxWidth = column.maxWidth;\n      if (maxWidth && maxWidth < autoWidth) {\n        maxWidth = Math.min(maxWidth, remainedWidth);\n        if (column.width) {\n          maxWidth = Math.min(maxWidth, column.width);\n        }\n        remainedWidth -= maxWidth;\n        column.width = maxWidth;\n        autoWidthCount--;\n      }\n    });\n    // Recalculate width again\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    zrUtil.each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n    var offset = -widthSum / 2;\n    zrUtil.each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\nexport default barLayoutPolar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { use } from '../../extension.js';\nimport AxisView from '../axis/AxisView.js';\nimport PolarAxisPointer from '../axisPointer/PolarAxisPointer.js';\nimport { install as installAxisPointer } from '../axisPointer/install.js';\nimport PolarModel from '../../coord/polar/PolarModel.js';\nimport axisModelCreator from '../../coord/axisModelCreator.js';\nimport { AngleAxisModel, RadiusAxisModel } from '../../coord/polar/AxisModel.js';\nimport polarCreator from '../../coord/polar/polarCreator.js';\nimport AngleAxisView from '../axis/AngleAxisView.js';\nimport RadiusAxisView from '../axis/RadiusAxisView.js';\nimport ComponentView from '../../view/Component.js';\nimport { curry } from 'zrender/lib/core/util.js';\nimport barLayoutPolar from '../../layout/barPolar.js';\nvar angleAxisExtraOption = {\n  startAngle: 90,\n  clockwise: true,\n  splitNumber: 12,\n  axisLabel: {\n    rotate: 0\n  }\n};\nvar radiusAxisExtraOption = {\n  splitNumber: 5\n};\nvar PolarView = /** @class */function (_super) {\n  __extends(PolarView, _super);\n  function PolarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PolarView.type;\n    return _this;\n  }\n  PolarView.type = 'polar';\n  return PolarView;\n}(ComponentView);\nexport function install(registers) {\n  use(installAxisPointer);\n  AxisView.registerAxisPointerClass('PolarAxisPointer', PolarAxisPointer);\n  registers.registerCoordinateSystem('polar', polarCreator);\n  registers.registerComponentModel(PolarModel);\n  registers.registerComponentView(PolarView);\n  // Model and view for angleAxis and radiusAxis\n  axisModelCreator(registers, 'angle', AngleAxisModel, angleAxisExtraOption);\n  axisModelCreator(registers, 'radius', RadiusAxisModel, radiusAxisExtraOption);\n  registers.registerComponentView(AngleAxisView);\n  registers.registerComponentView(RadiusAxisView);\n  registers.registerLayout(curry(barLayoutPolar, 'bar'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport function layout(axisModel, opt) {\n  opt = opt || {};\n  var single = axisModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var axisPosition = axis.position;\n  var orient = axis.orient;\n  var rect = single.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var positionMap = {\n    horizontal: {\n      top: rectBound[2],\n      bottom: rectBound[3]\n    },\n    vertical: {\n      left: rectBound[0],\n      right: rectBound[1]\n    }\n  };\n  layout.position = [orient === 'vertical' ? positionMap.vertical[axisPosition] : rectBound[0], orient === 'horizontal' ? positionMap.horizontal[axisPosition] : rectBound[3]];\n  var r = {\n    horizontal: 0,\n    vertical: 1\n  };\n  layout.rotation = Math.PI / 2 * r[orient];\n  var directionMap = {\n    top: -1,\n    bottom: 1,\n    right: 1,\n    left: -1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = directionMap[axisPosition];\n  if (axisModel.get(['axisTick', 'inside'])) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get(['axisLabel', 'inside']))) {\n    layout.labelDirection = -layout.labelDirection;\n  }\n  var labelRotation = opt.rotate;\n  labelRotation == null && (labelRotation = axisModel.get(['axisLabel', 'rotate']));\n  layout.labelRotation = axisPosition === 'top' ? -labelRotation : labelRotation;\n  layout.z2 = 1;\n  return layout;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as singleAxisHelper from '../../coord/single/singleAxisHelper.js';\nimport AxisView from './AxisView.js';\nimport { rectCoordAxisBuildSplitArea, rectCoordAxisHandleRemove } from './axisSplitHelper.js';\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitArea', 'splitLine'];\nvar SingleAxisView = /** @class */function (_super) {\n  __extends(SingleAxisView, _super);\n  function SingleAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SingleAxisView.type;\n    _this.axisPointerClass = 'SingleAxisPointer';\n    return _this;\n  }\n  SingleAxisView.prototype.render = function (axisModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    var layout = singleAxisHelper.layout(axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n    group.add(this._axisGroup);\n    group.add(axisBuilder.getGroup());\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get([name, 'show'])) {\n        axisElementBuilders[name](this, this.group, this._axisGroup, axisModel);\n      }\n    }, this);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    _super.prototype.render.call(this, axisModel, ecModel, api, payload);\n  };\n  SingleAxisView.prototype.remove = function () {\n    rectCoordAxisHandleRemove(this);\n  };\n  SingleAxisView.type = 'singleAxis';\n  return SingleAxisView;\n}(AxisView);\nvar axisElementBuilders = {\n  splitLine: function (axisView, group, axisGroup, axisModel) {\n    var axis = axisModel.axis;\n    if (axis.scale.isBlank()) {\n      return;\n    }\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var lineWidth = lineStyleModel.get('width');\n    var gridRect = axisModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var splitLines = [];\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitLineModel\n    });\n    var p1 = [];\n    var p2 = [];\n    for (var i = 0; i < ticksCoords.length; ++i) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n      var line = new graphic.Line({\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        silent: true\n      });\n      graphic.subPixelOptimizeLine(line.shape, lineWidth);\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(line);\n    }\n    var lineStyle = lineStyleModel.getLineStyle(['color']);\n    for (var i = 0; i < splitLines.length; ++i) {\n      group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length]\n        }, lineStyle),\n        silent: true\n      }));\n    }\n  },\n  splitArea: function (axisView, group, axisGroup, axisModel) {\n    rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, axisModel);\n  }\n};\nexport default SingleAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport { mixin } from 'zrender/lib/core/util.js';\nvar SingleAxisModel = /** @class */function (_super) {\n  __extends(SingleAxisModel, _super);\n  function SingleAxisModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SingleAxisModel.type;\n    return _this;\n  }\n  SingleAxisModel.prototype.getCoordSysModel = function () {\n    return this;\n  };\n  SingleAxisModel.type = 'singleAxis';\n  SingleAxisModel.layoutMode = 'box';\n  SingleAxisModel.defaultOption = {\n    left: '5%',\n    top: '5%',\n    right: '5%',\n    bottom: '5%',\n    type: 'value',\n    position: 'bottom',\n    orient: 'horizontal',\n    axisLine: {\n      show: true,\n      lineStyle: {\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // Single coordinate system and single axis is the,\n    // which is used as the parent tooltip model.\n    // same model, so we set default tooltip show as true.\n    tooltip: {\n      show: true\n    },\n    axisTick: {\n      show: true,\n      length: 6,\n      lineStyle: {\n        width: 1\n      }\n    },\n    axisLabel: {\n      show: true,\n      interval: 'auto'\n    },\n    splitLine: {\n      show: true,\n      lineStyle: {\n        type: 'dashed',\n        opacity: 0.2\n      }\n    }\n  };\n  return SingleAxisModel;\n}(ComponentModel);\nmixin(SingleAxisModel, AxisModelCommonMixin.prototype);\nexport default SingleAxisModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar SingleAxis = /** @class */function (_super) {\n  __extends(SingleAxis, _super);\n  function SingleAxis(dim, scale, coordExtent, axisType, position) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n    _this.type = axisType || 'value';\n    _this.position = position || 'bottom';\n    return _this;\n  }\n  /**\n   * Judge the orient of the axis.\n   */\n  SingleAxis.prototype.isHorizontal = function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  };\n  SingleAxis.prototype.pointToData = function (point, clamp) {\n    return this.coordinateSystem.pointToData(point)[0];\n  };\n  return SingleAxis;\n}(Axis);\nexport default SingleAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Single coordinates system.\n */\nimport SingleAxis from './SingleAxis.js';\nimport * as axisHelper from '../axisHelper.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport { each } from 'zrender/lib/core/util.js';\nexport var singleDimensions = ['single'];\n/**\n * Create a single coordinates system.\n */\nvar Single = /** @class */function () {\n  function Single(axisModel, ecModel, api) {\n    this.type = 'single';\n    this.dimension = 'single';\n    /**\n     * Add it just for draw tooltip.\n     */\n    this.dimensions = singleDimensions;\n    this.axisPointerEnabled = true;\n    this.model = axisModel;\n    this._init(axisModel, ecModel, api);\n  }\n  /**\n   * Initialize single coordinate system.\n   */\n  Single.prototype._init = function (axisModel, ecModel, api) {\n    var dim = this.dimension;\n    var axis = new SingleAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisModel.get('position'));\n    var isCategory = axis.type === 'category';\n    axis.onBand = isCategory && axisModel.get('boundaryGap');\n    axis.inverse = axisModel.get('inverse');\n    axis.orient = axisModel.get('orient');\n    axisModel.axis = axis;\n    axis.model = axisModel;\n    axis.coordinateSystem = this;\n    this._axis = axis;\n  };\n  /**\n   * Update axis scale after data processed\n   */\n  Single.prototype.update = function (ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.coordinateSystem === this) {\n        var data_1 = seriesModel.getData();\n        each(data_1.mapDimensionsAll(this.dimension), function (dim) {\n          this._axis.scale.unionExtentFromData(data_1, dim);\n        }, this);\n        axisHelper.niceScaleExtent(this._axis.scale, this._axis.model);\n      }\n    }, this);\n  };\n  /**\n   * Resize the single coordinate system.\n   */\n  Single.prototype.resize = function (axisModel, api) {\n    this._rect = getLayoutRect({\n      left: axisModel.get('left'),\n      top: axisModel.get('top'),\n      right: axisModel.get('right'),\n      bottom: axisModel.get('bottom'),\n      width: axisModel.get('width'),\n      height: axisModel.get('height')\n    }, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    this._adjustAxis();\n  };\n  Single.prototype.getRect = function () {\n    return this._rect;\n  };\n  Single.prototype._adjustAxis = function () {\n    var rect = this._rect;\n    var axis = this._axis;\n    var isHorizontal = axis.isHorizontal();\n    var extent = isHorizontal ? [0, rect.width] : [0, rect.height];\n    var idx = axis.inverse ? 1 : 0;\n    axis.setExtent(extent[idx], extent[1 - idx]);\n    this._updateAxisTransform(axis, isHorizontal ? rect.x : rect.y);\n  };\n  Single.prototype._updateAxisTransform = function (axis, coordBase) {\n    var axisExtent = axis.getExtent();\n    var extentSum = axisExtent[0] + axisExtent[1];\n    var isHorizontal = axis.isHorizontal();\n    axis.toGlobalCoord = isHorizontal ? function (coord) {\n      return coord + coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n    axis.toLocalCoord = isHorizontal ? function (coord) {\n      return coord - coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n  };\n  /**\n   * Get axis.\n   */\n  Single.prototype.getAxis = function () {\n    return this._axis;\n  };\n  /**\n   * Get axis, add it just for draw tooltip.\n   */\n  Single.prototype.getBaseAxis = function () {\n    return this._axis;\n  };\n  Single.prototype.getAxes = function () {\n    return [this._axis];\n  };\n  Single.prototype.getTooltipAxes = function () {\n    return {\n      baseAxes: [this.getAxis()],\n      // Empty otherAxes\n      otherAxes: []\n    };\n  };\n  /**\n   * If contain point.\n   */\n  Single.prototype.containPoint = function (point) {\n    var rect = this.getRect();\n    var axis = this.getAxis();\n    var orient = axis.orient;\n    if (orient === 'horizontal') {\n      return axis.contain(axis.toLocalCoord(point[0])) && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n    } else {\n      return axis.contain(axis.toLocalCoord(point[1])) && point[0] >= rect.y && point[0] <= rect.y + rect.height;\n    }\n  };\n  Single.prototype.pointToData = function (point) {\n    var axis = this.getAxis();\n    return [axis.coordToData(axis.toLocalCoord(point[axis.orient === 'horizontal' ? 0 : 1]))];\n  };\n  /**\n   * Convert the series data to concrete point.\n   * Can be [val] | val\n   */\n  Single.prototype.dataToPoint = function (val) {\n    var axis = this.getAxis();\n    var rect = this.getRect();\n    var pt = [];\n    var idx = axis.orient === 'horizontal' ? 0 : 1;\n    if (val instanceof Array) {\n      val = val[0];\n    }\n    pt[idx] = axis.toGlobalCoord(axis.dataToCoord(+val));\n    pt[1 - idx] = idx === 0 ? rect.y + rect.height / 2 : rect.x + rect.width / 2;\n    return pt;\n  };\n  Single.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.dataToPoint(value) : null;\n  };\n  Single.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.pointToData(pixel) : null;\n  };\n  return Single;\n}();\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  var singleModel = finder.singleAxisModel;\n  return singleModel && singleModel.coordinateSystem || seriesModel && seriesModel.coordinateSystem;\n}\nexport default Single;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Single coordinate system creator.\n */\nimport Single, { singleDimensions } from './Single.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\n/**\n * Create single coordinate system and inject it into seriesModel.\n */\nfunction create(ecModel, api) {\n  var singles = [];\n  ecModel.eachComponent('singleAxis', function (axisModel, idx) {\n    var single = new Single(axisModel, ecModel, api);\n    single.name = 'single_' + idx;\n    single.resize(axisModel, api);\n    axisModel.coordinateSystem = single;\n    singles.push(single);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'singleAxis') {\n      var singleAxisModel = seriesModel.getReferringComponents('singleAxis', SINGLE_REFERRING).models[0];\n      seriesModel.coordinateSystem = singleAxisModel && singleAxisModel.coordinateSystem;\n    }\n  });\n  return singles;\n}\nvar singleCreator = {\n  create: create,\n  dimensions: singleDimensions\n};\nexport default singleCreator;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseAxisPointer from './BaseAxisPointer.js';\nimport * as viewHelper from './viewHelper.js';\nimport * as singleAxisHelper from '../../coord/single/singleAxisHelper.js';\nvar XY = ['x', 'y'];\nvar WH = ['width', 'height'];\nvar SingleAxisPointer = /** @class */function (_super) {\n  __extends(SingleAxisPointer, _super);\n  function SingleAxisPointer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @override\n   */\n  SingleAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var otherExtent = getGlobalExtent(coordSys, 1 - getPointDimIndex(axis));\n    var pixelValue = coordSys.dataToPoint(value)[0];\n    var axisPointerType = axisPointerModel.get('type');\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n    var layoutInfo = singleAxisHelper.layout(axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(\n    // @ts-ignore\n    value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  };\n  /**\n   * @override\n   */\n  SingleAxisPointer.prototype.getHandleTransform = function (value, axisModel, axisPointerModel) {\n    var layoutInfo = singleAxisHelper.layout(axisModel, {\n      labelInside: false\n    });\n    // @ts-ignore\n    layoutInfo.labelMargin = axisPointerModel.get(['handle', 'margin']);\n    var position = viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo);\n    return {\n      x: position[0],\n      y: position[1],\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  };\n  /**\n   * @override\n   */\n  SingleAxisPointer.prototype.updateHandleTransform = function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var dimIndex = getPointDimIndex(axis);\n    var axisExtent = getGlobalExtent(coordSys, dimIndex);\n    var currPosition = [transform.x, transform.y];\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var otherExtent = getGlobalExtent(coordSys, 1 - dimIndex);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex];\n    return {\n      x: currPosition[0],\n      y: currPosition[1],\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: {\n        verticalAlign: 'middle'\n      }\n    };\n  };\n  return SingleAxisPointer;\n}(BaseAxisPointer);\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getPointDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = axis.getBandWidth();\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getPointDimIndex(axis))\n    };\n  }\n};\nfunction getPointDimIndex(axis) {\n  return axis.isHorizontal() ? 0 : 1;\n}\nfunction getGlobalExtent(coordSys, dimIndex) {\n  var rect = coordSys.getRect();\n  return [rect[XY[dimIndex]], rect[XY[dimIndex]] + rect[WH[dimIndex]]];\n}\nexport default SingleAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { use } from '../../extension.js';\nimport ComponentView from '../../view/Component.js';\nimport SingleAxisView from '../axis/SingleAxisView.js';\nimport axisModelCreator from '../../coord/axisModelCreator.js';\nimport SingleAxisModel from '../../coord/single/AxisModel.js';\nimport singleCreator from '../../coord/single/singleCreator.js';\nimport { install as installAxisPointer } from '../axisPointer/install.js';\nimport AxisView from '../axis/AxisView.js';\nimport SingleAxisPointer from '../axisPointer/SingleAxisPointer.js';\nvar SingleView = /** @class */function (_super) {\n  __extends(SingleView, _super);\n  function SingleView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SingleView.type;\n    return _this;\n  }\n  SingleView.type = 'single';\n  return SingleView;\n}(ComponentView);\nexport function install(registers) {\n  use(installAxisPointer);\n  AxisView.registerAxisPointerClass('SingleAxisPointer', SingleAxisPointer);\n  registers.registerComponentView(SingleView);\n  // Axis\n  registers.registerComponentView(SingleAxisView);\n  registers.registerComponentModel(SingleAxisModel);\n  axisModelCreator(registers, 'single', SingleAxisModel, SingleAxisModel.defaultOption);\n  registers.registerCoordinateSystem('single', singleCreator);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getLayoutParams, sizeCalculable, mergeLayoutParam } from '../../util/layout.js';\nvar CalendarModel = /** @class */function (_super) {\n  __extends(CalendarModel, _super);\n  function CalendarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CalendarModel.type;\n    return _this;\n  }\n  /**\n   * @override\n   */\n  CalendarModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n    _super.prototype.init.apply(this, arguments);\n    mergeAndNormalizeLayoutParams(option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n  CalendarModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    mergeAndNormalizeLayoutParams(this.option, option);\n  };\n  CalendarModel.prototype.getCellSize = function () {\n    // Has been normalized\n    return this.option.cellSize;\n  };\n  CalendarModel.type = 'calendar';\n  CalendarModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    left: 80,\n    top: 60,\n    cellSize: 20,\n    // horizontal vertical\n    orient: 'horizontal',\n    // month separate line style\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: '#000',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // rect style  temporarily unused emphasis\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1,\n      borderColor: '#ccc'\n    },\n    // week text style\n    dayLabel: {\n      show: true,\n      firstDay: 0,\n      // start end\n      position: 'start',\n      margin: '50%',\n      color: '#000'\n    },\n    // month text style\n    monthLabel: {\n      show: true,\n      // start end\n      position: 'start',\n      margin: 5,\n      // center or left\n      align: 'center',\n      formatter: null,\n      color: '#000'\n    },\n    // year text style\n    yearLabel: {\n      show: true,\n      // top bottom left right\n      position: null,\n      margin: 30,\n      formatter: null,\n      color: '#ccc',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bolder',\n      fontSize: 20\n    }\n  };\n  return CalendarModel;\n}(ComponentModel);\nfunction mergeAndNormalizeLayoutParams(target, raw) {\n  // Normalize cellSize\n  var cellSize = target.cellSize;\n  var cellSizeArr;\n  if (!zrUtil.isArray(cellSize)) {\n    cellSizeArr = target.cellSize = [cellSize, cellSize];\n  } else {\n    cellSizeArr = cellSize;\n  }\n  if (cellSizeArr.length === 1) {\n    cellSizeArr[1] = cellSizeArr[0];\n  }\n  var ignoreSize = zrUtil.map([0, 1], function (hvIdx) {\n    // If user have set `width` or both `left` and `right`, cellSizeArr\n    // will be automatically set to 'auto', otherwise the default\n    // setting of cellSizeArr will make `width` setting not work.\n    if (sizeCalculable(raw, hvIdx)) {\n      cellSizeArr[hvIdx] = 'auto';\n    }\n    return cellSizeArr[hvIdx] != null && cellSizeArr[hvIdx] !== 'auto';\n  });\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\nexport default CalendarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { isString, extend, map, isFunction } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { formatTplSimple } from '../../util/format.js';\nimport { parsePercent } from '../../util/number.js';\nimport ComponentView from '../../view/Component.js';\nimport { getLocaleModel } from '../../core/locale.js';\nvar CalendarView = /** @class */function (_super) {\n  __extends(CalendarView, _super);\n  function CalendarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CalendarView.type;\n    return _this;\n  }\n  CalendarView.prototype.render = function (calendarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var coordSys = calendarModel.coordinateSystem;\n    // range info\n    var rangeData = coordSys.getRangeInfo();\n    var orient = coordSys.getOrient();\n    // locale\n    var localeModel = ecModel.getLocaleModel();\n    this._renderDayRect(calendarModel, rangeData, group);\n    // _renderLines must be called prior to following function\n    this._renderLines(calendarModel, rangeData, orient, group);\n    this._renderYearText(calendarModel, rangeData, orient, group);\n    this._renderMonthText(calendarModel, localeModel, orient, group);\n    this._renderWeekText(calendarModel, localeModel, rangeData, orient, group);\n  };\n  // render day rect\n  CalendarView.prototype._renderDayRect = function (calendarModel, rangeData, group) {\n    var coordSys = calendarModel.coordinateSystem;\n    var itemRectStyleModel = calendarModel.getModel('itemStyle').getItemStyle();\n    var sw = coordSys.getCellWidth();\n    var sh = coordSys.getCellHeight();\n    for (var i = rangeData.start.time; i <= rangeData.end.time; i = coordSys.getNextNDay(i, 1).time) {\n      var point = coordSys.dataToRect([i], false).tl;\n      // every rect\n      var rect = new graphic.Rect({\n        shape: {\n          x: point[0],\n          y: point[1],\n          width: sw,\n          height: sh\n        },\n        cursor: 'default',\n        style: itemRectStyleModel\n      });\n      group.add(rect);\n    }\n  };\n  // render separate line\n  CalendarView.prototype._renderLines = function (calendarModel, rangeData, orient, group) {\n    var self = this;\n    var coordSys = calendarModel.coordinateSystem;\n    var lineStyleModel = calendarModel.getModel(['splitLine', 'lineStyle']).getLineStyle();\n    var show = calendarModel.get(['splitLine', 'show']);\n    var lineWidth = lineStyleModel.lineWidth;\n    this._tlpoints = [];\n    this._blpoints = [];\n    this._firstDayOfMonth = [];\n    this._firstDayPoints = [];\n    var firstDay = rangeData.start;\n    for (var i = 0; firstDay.time <= rangeData.end.time; i++) {\n      addPoints(firstDay.formatedDate);\n      if (i === 0) {\n        firstDay = coordSys.getDateInfo(rangeData.start.y + '-' + rangeData.start.m);\n      }\n      var date = firstDay.date;\n      date.setMonth(date.getMonth() + 1);\n      firstDay = coordSys.getDateInfo(date);\n    }\n    addPoints(coordSys.getNextNDay(rangeData.end.time, 1).formatedDate);\n    function addPoints(date) {\n      self._firstDayOfMonth.push(coordSys.getDateInfo(date));\n      self._firstDayPoints.push(coordSys.dataToRect([date], false).tl);\n      var points = self._getLinePointsOfOneWeek(calendarModel, date, orient);\n      self._tlpoints.push(points[0]);\n      self._blpoints.push(points[points.length - 1]);\n      show && self._drawSplitline(points, lineStyleModel, group);\n    }\n    // render top/left line\n    show && this._drawSplitline(self._getEdgesPoints(self._tlpoints, lineWidth, orient), lineStyleModel, group);\n    // render bottom/right line\n    show && this._drawSplitline(self._getEdgesPoints(self._blpoints, lineWidth, orient), lineStyleModel, group);\n  };\n  // get points at both ends\n  CalendarView.prototype._getEdgesPoints = function (points, lineWidth, orient) {\n    var rs = [points[0].slice(), points[points.length - 1].slice()];\n    var idx = orient === 'horizontal' ? 0 : 1;\n    // both ends of the line are extend half lineWidth\n    rs[0][idx] = rs[0][idx] - lineWidth / 2;\n    rs[1][idx] = rs[1][idx] + lineWidth / 2;\n    return rs;\n  };\n  // render split line\n  CalendarView.prototype._drawSplitline = function (points, lineStyle, group) {\n    var poyline = new graphic.Polyline({\n      z2: 20,\n      shape: {\n        points: points\n      },\n      style: lineStyle\n    });\n    group.add(poyline);\n  };\n  // render month line of one week points\n  CalendarView.prototype._getLinePointsOfOneWeek = function (calendarModel, date, orient) {\n    var coordSys = calendarModel.coordinateSystem;\n    var parsedDate = coordSys.getDateInfo(date);\n    var points = [];\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(parsedDate.time, i);\n      var point = coordSys.dataToRect([tmpD.time], false);\n      points[2 * tmpD.day] = point.tl;\n      points[2 * tmpD.day + 1] = point[orient === 'horizontal' ? 'bl' : 'tr'];\n    }\n    return points;\n  };\n  CalendarView.prototype._formatterLabel = function (formatter, params) {\n    if (isString(formatter) && formatter) {\n      return formatTplSimple(formatter, params);\n    }\n    if (isFunction(formatter)) {\n      return formatter(params);\n    }\n    return params.nameMap;\n  };\n  CalendarView.prototype._yearTextPositionControl = function (textEl, point, orient, position, margin) {\n    var x = point[0];\n    var y = point[1];\n    var aligns = ['center', 'bottom'];\n    if (position === 'bottom') {\n      y += margin;\n      aligns = ['center', 'top'];\n    } else if (position === 'left') {\n      x -= margin;\n    } else if (position === 'right') {\n      x += margin;\n      aligns = ['center', 'top'];\n    } else {\n      // top\n      y -= margin;\n    }\n    var rotate = 0;\n    if (position === 'left' || position === 'right') {\n      rotate = Math.PI / 2;\n    }\n    return {\n      rotation: rotate,\n      x: x,\n      y: y,\n      style: {\n        align: aligns[0],\n        verticalAlign: aligns[1]\n      }\n    };\n  };\n  // render year\n  CalendarView.prototype._renderYearText = function (calendarModel, rangeData, orient, group) {\n    var yearLabel = calendarModel.getModel('yearLabel');\n    if (!yearLabel.get('show')) {\n      return;\n    }\n    var margin = yearLabel.get('margin');\n    var pos = yearLabel.get('position');\n    if (!pos) {\n      pos = orient !== 'horizontal' ? 'top' : 'left';\n    }\n    var points = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]];\n    var xc = (points[0][0] + points[1][0]) / 2;\n    var yc = (points[0][1] + points[1][1]) / 2;\n    var idx = orient === 'horizontal' ? 0 : 1;\n    var posPoints = {\n      top: [xc, points[idx][1]],\n      bottom: [xc, points[1 - idx][1]],\n      left: [points[1 - idx][0], yc],\n      right: [points[idx][0], yc]\n    };\n    var name = rangeData.start.y;\n    if (+rangeData.end.y > +rangeData.start.y) {\n      name = name + '-' + rangeData.end.y;\n    }\n    var formatter = yearLabel.get('formatter');\n    var params = {\n      start: rangeData.start.y,\n      end: rangeData.end.y,\n      nameMap: name\n    };\n    var content = this._formatterLabel(formatter, params);\n    var yearText = new graphic.Text({\n      z2: 30,\n      style: createTextStyle(yearLabel, {\n        text: content\n      })\n    });\n    yearText.attr(this._yearTextPositionControl(yearText, posPoints[pos], orient, pos, margin));\n    group.add(yearText);\n  };\n  CalendarView.prototype._monthTextPositionControl = function (point, isCenter, orient, position, margin) {\n    var align = 'left';\n    var vAlign = 'top';\n    var x = point[0];\n    var y = point[1];\n    if (orient === 'horizontal') {\n      y = y + margin;\n      if (isCenter) {\n        align = 'center';\n      }\n      if (position === 'start') {\n        vAlign = 'bottom';\n      }\n    } else {\n      x = x + margin;\n      if (isCenter) {\n        vAlign = 'middle';\n      }\n      if (position === 'start') {\n        align = 'right';\n      }\n    }\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  };\n  // render month and year text\n  CalendarView.prototype._renderMonthText = function (calendarModel, localeModel, orient, group) {\n    var monthLabel = calendarModel.getModel('monthLabel');\n    if (!monthLabel.get('show')) {\n      return;\n    }\n    var nameMap = monthLabel.get('nameMap');\n    var margin = monthLabel.get('margin');\n    var pos = monthLabel.get('position');\n    var align = monthLabel.get('align');\n    var termPoints = [this._tlpoints, this._blpoints];\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      }\n      // PENDING\n      // for ZH locale, original form is `` but current form is `1`\n      nameMap = localeModel.get(['time', 'monthAbbr']) || [];\n    }\n    var idx = pos === 'start' ? 0 : 1;\n    var axis = orient === 'horizontal' ? 0 : 1;\n    margin = pos === 'start' ? -margin : margin;\n    var isCenter = align === 'center';\n    for (var i = 0; i < termPoints[idx].length - 1; i++) {\n      var tmp = termPoints[idx][i].slice();\n      var firstDay = this._firstDayOfMonth[i];\n      if (isCenter) {\n        var firstDayPoints = this._firstDayPoints[i];\n        tmp[axis] = (firstDayPoints[axis] + termPoints[0][i + 1][axis]) / 2;\n      }\n      var formatter = monthLabel.get('formatter');\n      var name_1 = nameMap[+firstDay.m - 1];\n      var params = {\n        yyyy: firstDay.y,\n        yy: (firstDay.y + '').slice(2),\n        MM: firstDay.m,\n        M: +firstDay.m,\n        nameMap: name_1\n      };\n      var content = this._formatterLabel(formatter, params);\n      var monthText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(monthLabel, {\n          text: content\n        }), this._monthTextPositionControl(tmp, isCenter, orient, pos, margin))\n      });\n      group.add(monthText);\n    }\n  };\n  CalendarView.prototype._weekTextPositionControl = function (point, orient, position, margin, cellSize) {\n    var align = 'center';\n    var vAlign = 'middle';\n    var x = point[0];\n    var y = point[1];\n    var isStart = position === 'start';\n    if (orient === 'horizontal') {\n      x = x + margin + (isStart ? 1 : -1) * cellSize[0] / 2;\n      align = isStart ? 'right' : 'left';\n    } else {\n      y = y + margin + (isStart ? 1 : -1) * cellSize[1] / 2;\n      vAlign = isStart ? 'bottom' : 'top';\n    }\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  };\n  // render weeks\n  CalendarView.prototype._renderWeekText = function (calendarModel, localeModel, rangeData, orient, group) {\n    var dayLabel = calendarModel.getModel('dayLabel');\n    if (!dayLabel.get('show')) {\n      return;\n    }\n    var coordSys = calendarModel.coordinateSystem;\n    var pos = dayLabel.get('position');\n    var nameMap = dayLabel.get('nameMap');\n    var margin = dayLabel.get('margin');\n    var firstDayOfWeek = coordSys.getFirstDayOfWeek();\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      }\n      // Use the first letter of `dayOfWeekAbbr` if `dayOfWeekShort` doesn't exist in the locale file\n      var dayOfWeekShort = localeModel.get(['time', 'dayOfWeekShort']);\n      nameMap = dayOfWeekShort || map(localeModel.get(['time', 'dayOfWeekAbbr']), function (val) {\n        return val[0];\n      });\n    }\n    var start = coordSys.getNextNDay(rangeData.end.time, 7 - rangeData.lweek).time;\n    var cellSize = [coordSys.getCellWidth(), coordSys.getCellHeight()];\n    margin = parsePercent(margin, Math.min(cellSize[1], cellSize[0]));\n    if (pos === 'start') {\n      start = coordSys.getNextNDay(rangeData.start.time, -(7 + rangeData.fweek)).time;\n      margin = -margin;\n    }\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(start, i);\n      var point = coordSys.dataToRect([tmpD.time], false).center;\n      var day = i;\n      day = Math.abs((i + firstDayOfWeek) % 7);\n      var weekText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(dayLabel, {\n          text: nameMap[day]\n        }), this._weekTextPositionControl(point, orient, pos, margin, cellSize))\n      });\n      group.add(weekText);\n    }\n  };\n  CalendarView.type = 'calendar';\n  return CalendarView;\n}(ComponentView);\nexport default CalendarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js';\n// (24*60*60*1000)\nvar PROXIMATE_ONE_DAY = 86400000;\nvar Calendar = /** @class */function () {\n  function Calendar(calendarModel, ecModel, api) {\n    this.type = 'calendar';\n    this.dimensions = Calendar.dimensions;\n    // Required in createListFromData\n    this.getDimensionsInfo = Calendar.getDimensionsInfo;\n    this._model = calendarModel;\n  }\n  Calendar.getDimensionsInfo = function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }, 'value'];\n  };\n  Calendar.prototype.getRangeInfo = function () {\n    return this._rangeInfo;\n  };\n  Calendar.prototype.getModel = function () {\n    return this._model;\n  };\n  Calendar.prototype.getRect = function () {\n    return this._rect;\n  };\n  Calendar.prototype.getCellWidth = function () {\n    return this._sw;\n  };\n  Calendar.prototype.getCellHeight = function () {\n    return this._sh;\n  };\n  Calendar.prototype.getOrient = function () {\n    return this._orient;\n  };\n  /**\n   * getFirstDayOfWeek\n   *\n   * @example\n   *     0 : start at Sunday\n   *     1 : start at Monday\n   *\n   * @return {number}\n   */\n  Calendar.prototype.getFirstDayOfWeek = function () {\n    return this._firstDayOfWeek;\n  };\n  /**\n   * get date info\n   * }\n   */\n  Calendar.prototype.getDateInfo = function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    var mStr = m < 10 ? '0' + m : '' + m;\n    var d = date.getDate();\n    var dStr = d < 10 ? '0' + d : '' + d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y + '',\n      m: mStr,\n      d: dStr,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + mStr + '-' + dStr,\n      date: date\n    };\n  };\n  Calendar.prototype.getNextNDay = function (date, n) {\n    n = n || 0;\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  };\n  Calendar.prototype.update = function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n    var cellSize = this._model.getCellSize().slice();\n    var layoutParams = this._model.getBoxLayoutParams();\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    }\n    // Has been calculated out number.\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  };\n  /**\n   * Convert a time data(time, value) item to (x, y) point.\n   */\n  // TODO Clamp of calendar is not same with cartesian coordinate systems.\n  // It will return NaN if data exceeds.\n  Calendar.prototype.dataToPoint = function (data, clamp) {\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate;\n    // if not in range return [NaN, NaN]\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time < range.end.time + PROXIMATE_ONE_DAY)) {\n      return [NaN, NaN];\n    }\n    var week = dayInfo.day;\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n    if (this._orient === 'vertical') {\n      return [this._rect.x + week * this._sw + this._sw / 2, this._rect.y + nthWeek * this._sh + this._sh / 2];\n    }\n    return [this._rect.x + nthWeek * this._sw + this._sw / 2, this._rect.y + week * this._sh + this._sh / 2];\n  };\n  /**\n   * Convert a (x, y) point to time data\n   */\n  Calendar.prototype.pointToData = function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  };\n  /**\n   * Convert a time date item to (x, y) four point.\n   */\n  Calendar.prototype.dataToRect = function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      contentShape: {\n        x: point[0] - (this._sw - this._lineWidth) / 2,\n        y: point[1] - (this._sh - this._lineWidth) / 2,\n        width: this._sw - this._lineWidth,\n        height: this._sh - this._lineWidth\n      },\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  };\n  /**\n   * Convert a (x, y) point to time date\n   *\n   * @param  {Array} point point\n   * @return {Object}       date\n   */\n  Calendar.prototype.pointToDate = function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  };\n  Calendar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  Calendar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  Calendar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  /**\n   * initRange\n   * Normalize to an [start, end] array\n   */\n  Calendar.prototype._initRangeOption = function () {\n    var range = this._model.get('range');\n    var normalizedRange;\n    // Convert [1990] to 1990\n    if (zrUtil.isArray(range) && range.length === 1) {\n      range = range[0];\n    }\n    if (!zrUtil.isArray(range)) {\n      var rangeStr = range.toString();\n      // One year.\n      if (/^\\d{4}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr + '-01-01', rangeStr + '-12-31'];\n      }\n      // One month\n      if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        var start = this.getDateInfo(rangeStr);\n        var firstDay = start.date;\n        firstDay.setMonth(firstDay.getMonth() + 1);\n        var end = this.getNextNDay(firstDay, -1);\n        normalizedRange = [start.formatedDate, end.formatedDate];\n      }\n      // One day\n      if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr, rangeStr];\n      }\n    } else {\n      normalizedRange = range;\n    }\n    if (!normalizedRange) {\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.logError('Invalid date range.');\n      }\n      // Not handling it.\n      return range;\n    }\n    var tmp = this._getRangeInfo(normalizedRange);\n    if (tmp.start.time > tmp.end.time) {\n      normalizedRange.reverse();\n    }\n    return normalizedRange;\n  };\n  /**\n   * range info\n   *\n   * @private\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\n   *  If range[0] > range[1], they will not be reversed.\n   * @return {Object}       obj\n   */\n  Calendar.prototype._getRangeInfo = function (range) {\n    var parsedRange = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n    if (parsedRange[0].time > parsedRange[1].time) {\n      reversed = true;\n      parsedRange.reverse();\n    }\n    var allDay = Math.floor(parsedRange[1].time / PROXIMATE_ONE_DAY) - Math.floor(parsedRange[0].time / PROXIMATE_ONE_DAY) + 1;\n    // Consider case1 (#11677 #10430):\n    // Set the system timezone as \"UK\", set the range to `['2016-07-01', '2016-12-31']`\n    // Consider case2:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // let first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // let second = new Date(1478412000000);\n    // let allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n    var date = new Date(parsedRange[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = parsedRange[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1);\n    // The bias can not over a month, so just compare date.\n    var dateNum = date.getDate();\n    if (dateNum !== endDateNum) {\n      var sign = date.getTime() - parsedRange[1].time > 0 ? 1 : -1;\n      while ((dateNum = date.getDate()) !== endDateNum && (date.getTime() - parsedRange[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(dateNum - sign);\n      }\n    }\n    var weeks = Math.floor((allDay + parsedRange[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && parsedRange.reverse();\n    return {\n      range: [parsedRange[0].formatedDate, parsedRange[1].formatedDate],\n      start: parsedRange[0],\n      end: parsedRange[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: parsedRange[0].day,\n      lweek: parsedRange[1].day\n    };\n  };\n  /**\n   * get date by nthWeeks and week day in range\n   *\n   * @private\n   * @param  {number} nthWeek the week\n   * @param  {number} day   the week day\n   * @param  {Array} range [d1, d2]\n   * @return {Object}\n   */\n  Calendar.prototype._getDateByWeeksAndDay = function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return null;\n    }\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(+rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  };\n  Calendar.create = function (ecModel, api) {\n    var calendarList = [];\n    ecModel.eachComponent('calendar', function (calendarModel) {\n      var calendar = new Calendar(calendarModel, ecModel, api);\n      calendarList.push(calendar);\n      calendarModel.coordinateSystem = calendar;\n    });\n    ecModel.eachSeries(function (calendarSeries) {\n      if (calendarSeries.get('coordinateSystem') === 'calendar') {\n        // Inject coordinate system\n        calendarSeries.coordinateSystem = calendarList[calendarSeries.get('calendarIndex') || 0];\n      }\n    });\n    return calendarList;\n  };\n  Calendar.dimensions = ['time', 'value'];\n  return Calendar;\n}();\nfunction getCoordSys(finder) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys;\n}\nexport default Calendar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CalendarModel from '../../coord/calendar/CalendarModel.js';\nimport CalendarView from './CalendarView.js';\nimport Calendar from '../../coord/calendar/Calendar.js';\nexport function install(registers) {\n  registers.registerComponentModel(CalendarModel);\n  registers.registerComponentView(CalendarView);\n  registers.registerCoordinateSystem('calendar', Calendar);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport ComponentModel from '../../model/Component.js';\nimport { copyLayoutParams, mergeLayoutParam } from '../../util/layout.js';\n;\n;\n;\nexport function setKeyInfoToNewElOption(resultItem, newElOption) {\n  var existElOption = resultItem.existing;\n  // Set id and type after id assigned.\n  newElOption.id = resultItem.keyInfo.id;\n  !newElOption.type && existElOption && (newElOption.type = existElOption.type);\n  // Set parent id if not specified\n  if (newElOption.parentId == null) {\n    var newElParentOption = newElOption.parentOption;\n    if (newElParentOption) {\n      newElOption.parentId = newElParentOption.id;\n    } else if (existElOption) {\n      newElOption.parentId = existElOption.parentId;\n    }\n  }\n  // Clear\n  newElOption.parentOption = null;\n}\nfunction isSetLoc(obj, props) {\n  var isSet;\n  zrUtil.each(props, function (prop) {\n    obj[prop] != null && obj[prop] !== 'auto' && (isSet = true);\n  });\n  return isSet;\n}\nfunction mergeNewElOptionToExist(existList, index, newElOption) {\n  // Update existing options, for `getOption` feature.\n  var newElOptCopy = zrUtil.extend({}, newElOption);\n  var existElOption = existList[index];\n  var $action = newElOption.$action || 'merge';\n  if ($action === 'merge') {\n    if (existElOption) {\n      if (process.env.NODE_ENV !== 'production') {\n        var newType = newElOption.type;\n        zrUtil.assert(!newType || existElOption.type === newType, 'Please set $action: \"replace\" to change `type`');\n      }\n      // We can ensure that newElOptCopy and existElOption are not\n      // the same object, so `merge` will not change newElOptCopy.\n      zrUtil.merge(existElOption, newElOptCopy, true);\n      // Rigid body, use ignoreSize.\n      mergeLayoutParam(existElOption, newElOptCopy, {\n        ignoreSize: true\n      });\n      // Will be used in render.\n      copyLayoutParams(newElOption, existElOption);\n      // Copy transition info to new option so it can be used in the transition.\n      // DO IT AFTER merge\n      copyTransitionInfo(newElOption, existElOption);\n      copyTransitionInfo(newElOption, existElOption, 'shape');\n      copyTransitionInfo(newElOption, existElOption, 'style');\n      copyTransitionInfo(newElOption, existElOption, 'extra');\n      // Copy clipPath\n      newElOption.clipPath = existElOption.clipPath;\n    } else {\n      existList[index] = newElOptCopy;\n    }\n  } else if ($action === 'replace') {\n    existList[index] = newElOptCopy;\n  } else if ($action === 'remove') {\n    // null will be cleaned later.\n    existElOption && (existList[index] = null);\n  }\n}\nvar TRANSITION_PROPS_TO_COPY = ['transition', 'enterFrom', 'leaveTo'];\nvar ROOT_TRANSITION_PROPS_TO_COPY = TRANSITION_PROPS_TO_COPY.concat(['enterAnimation', 'updateAnimation', 'leaveAnimation']);\nfunction copyTransitionInfo(target, source, targetProp) {\n  if (targetProp) {\n    if (!target[targetProp] && source[targetProp]) {\n      // TODO avoid creating this empty object when there is no transition configuration.\n      target[targetProp] = {};\n    }\n    target = target[targetProp];\n    source = source[targetProp];\n  }\n  if (!target || !source) {\n    return;\n  }\n  var props = targetProp ? TRANSITION_PROPS_TO_COPY : ROOT_TRANSITION_PROPS_TO_COPY;\n  for (var i = 0; i < props.length; i++) {\n    var prop = props[i];\n    if (target[prop] == null && source[prop] != null) {\n      target[prop] = source[prop];\n    }\n  }\n}\nfunction setLayoutInfoToExist(existItem, newElOption) {\n  if (!existItem) {\n    return;\n  }\n  existItem.hv = newElOption.hv = [\n  // Rigid body, don't care about `width`.\n  isSetLoc(newElOption, ['left', 'right']),\n  // Rigid body, don't care about `height`.\n  isSetLoc(newElOption, ['top', 'bottom'])];\n  // Give default group size. Otherwise layout error may occur.\n  if (existItem.type === 'group') {\n    var existingGroupOpt = existItem;\n    var newGroupOpt = newElOption;\n    existingGroupOpt.width == null && (existingGroupOpt.width = newGroupOpt.width = 0);\n    existingGroupOpt.height == null && (existingGroupOpt.height = newGroupOpt.height = 0);\n  }\n}\nvar GraphicComponentModel = /** @class */function (_super) {\n  __extends(GraphicComponentModel, _super);\n  function GraphicComponentModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GraphicComponentModel.type;\n    _this.preventAutoZ = true;\n    return _this;\n  }\n  GraphicComponentModel.prototype.mergeOption = function (option, ecModel) {\n    // Prevent default merge to elements\n    var elements = this.option.elements;\n    this.option.elements = null;\n    _super.prototype.mergeOption.call(this, option, ecModel);\n    this.option.elements = elements;\n  };\n  GraphicComponentModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    var newList = (isInit ? thisOption : newOption).elements;\n    var existList = thisOption.elements = isInit ? [] : thisOption.elements;\n    var flattenedList = [];\n    this._flatten(newList, flattenedList, null);\n    var mappingResult = modelUtil.mappingToExists(existList, flattenedList, 'normalMerge');\n    // Clear elOptionsToUpdate\n    var elOptionsToUpdate = this._elOptionsToUpdate = [];\n    zrUtil.each(mappingResult, function (resultItem, index) {\n      var newElOption = resultItem.newOption;\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.assert(zrUtil.isObject(newElOption) || resultItem.existing, 'Empty graphic option definition');\n      }\n      if (!newElOption) {\n        return;\n      }\n      elOptionsToUpdate.push(newElOption);\n      setKeyInfoToNewElOption(resultItem, newElOption);\n      mergeNewElOptionToExist(existList, index, newElOption);\n      setLayoutInfoToExist(existList[index], newElOption);\n    }, this);\n    // Clean\n    thisOption.elements = zrUtil.filter(existList, function (item) {\n      // $action should be volatile, otherwise option gotten from\n      // `getOption` will contain unexpected $action.\n      item && delete item.$action;\n      return item != null;\n    });\n  };\n  /**\n   * Convert\n   * [{\n   *  type: 'group',\n   *  id: 'xx',\n   *  children: [{type: 'circle'}, {type: 'polygon'}]\n   * }]\n   * to\n   * [\n   *  {type: 'group', id: 'xx'},\n   *  {type: 'circle', parentId: 'xx'},\n   *  {type: 'polygon', parentId: 'xx'}\n   * ]\n   */\n  GraphicComponentModel.prototype._flatten = function (optionList, result, parentOption) {\n    zrUtil.each(optionList, function (option) {\n      if (!option) {\n        return;\n      }\n      if (parentOption) {\n        option.parentOption = parentOption;\n      }\n      result.push(option);\n      var children = option.children;\n      // here we don't judge if option.type is `group`\n      // when new option doesn't provide `type`, it will cause that the children can't be updated.\n      if (children && children.length) {\n        this._flatten(children, result, option);\n      }\n      // Deleting for JSON output, and for not affecting group creation.\n      delete option.children;\n    }, this);\n  };\n  // FIXME\n  // Pass to view using payload? setOption has a payload?\n  GraphicComponentModel.prototype.useElOptionsToUpdate = function () {\n    var els = this._elOptionsToUpdate;\n    // Clear to avoid render duplicately when zooming.\n    this._elOptionsToUpdate = null;\n    return els;\n  };\n  GraphicComponentModel.type = 'graphic';\n  GraphicComponentModel.defaultOption = {\n    elements: []\n    // parentId: null\n  };\n\n  return GraphicComponentModel;\n}(ComponentModel);\nexport { GraphicComponentModel };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nimport * as modelUtil from '../../util/model.js';\nimport * as graphicUtil from '../../util/graphic.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport { parsePercent } from '../../util/number.js';\nimport ComponentView from '../../view/Component.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { isEC4CompatibleStyle, convertFromEC4CompatibleStyle } from '../../util/styleCompat.js';\nimport { applyLeaveTransition, applyUpdateTransition, isTransitionAll, updateLeaveTo } from '../../animation/customGraphicTransition.js';\nimport { updateProps } from '../../animation/basicTransition.js';\nimport { applyKeyframeAnimation, stopPreviousKeyframeAnimationAndRestore } from '../../animation/customGraphicKeyframeAnimation.js';\nvar nonShapeGraphicElements = {\n  // Reserved but not supported in graphic component.\n  path: null,\n  compoundPath: null,\n  // Supported in graphic component.\n  group: graphicUtil.Group,\n  image: graphicUtil.Image,\n  text: graphicUtil.Text\n};\nexport var inner = modelUtil.makeInner();\n// ------------------------\n// View\n// ------------------------\nvar GraphicComponentView = /** @class */function (_super) {\n  __extends(GraphicComponentView, _super);\n  function GraphicComponentView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GraphicComponentView.type;\n    return _this;\n  }\n  GraphicComponentView.prototype.init = function () {\n    this._elMap = zrUtil.createHashMap();\n  };\n  GraphicComponentView.prototype.render = function (graphicModel, ecModel, api) {\n    // Having leveraged between use cases and algorithm complexity, a very\n    // simple layout mechanism is used:\n    // The size(width/height) can be determined by itself or its parent (not\n    // implemented yet), but can not by its children. (Top-down travel)\n    // The location(x/y) can be determined by the bounding rect of itself\n    // (can including its descendants or not) and the size of its parent.\n    // (Bottom-up travel)\n    // When `chart.clear()` or `chart.setOption({...}, true)` with the same id,\n    // view will be reused.\n    if (graphicModel !== this._lastGraphicModel) {\n      this._clear();\n    }\n    this._lastGraphicModel = graphicModel;\n    this._updateElements(graphicModel);\n    this._relocate(graphicModel, api);\n  };\n  /**\n   * Update graphic elements.\n   */\n  GraphicComponentView.prototype._updateElements = function (graphicModel) {\n    var elOptionsToUpdate = graphicModel.useElOptionsToUpdate();\n    if (!elOptionsToUpdate) {\n      return;\n    }\n    var elMap = this._elMap;\n    var rootGroup = this.group;\n    var globalZ = graphicModel.get('z');\n    var globalZLevel = graphicModel.get('zlevel');\n    // Top-down tranverse to assign graphic settings to each elements.\n    zrUtil.each(elOptionsToUpdate, function (elOption) {\n      var id = modelUtil.convertOptionIdName(elOption.id, null);\n      var elExisting = id != null ? elMap.get(id) : null;\n      var parentId = modelUtil.convertOptionIdName(elOption.parentId, null);\n      var targetElParent = parentId != null ? elMap.get(parentId) : rootGroup;\n      var elType = elOption.type;\n      var elOptionStyle = elOption.style;\n      if (elType === 'text' && elOptionStyle) {\n        // In top/bottom mode, textVerticalAlign should not be used, which cause\n        // inaccurately locating.\n        if (elOption.hv && elOption.hv[1]) {\n          elOptionStyle.textVerticalAlign = elOptionStyle.textBaseline = elOptionStyle.verticalAlign = elOptionStyle.align = null;\n        }\n      }\n      var textContentOption = elOption.textContent;\n      var textConfig = elOption.textConfig;\n      if (elOptionStyle && isEC4CompatibleStyle(elOptionStyle, elType, !!textConfig, !!textContentOption)) {\n        var convertResult = convertFromEC4CompatibleStyle(elOptionStyle, elType, true);\n        if (!textConfig && convertResult.textConfig) {\n          textConfig = elOption.textConfig = convertResult.textConfig;\n        }\n        if (!textContentOption && convertResult.textContent) {\n          textContentOption = convertResult.textContent;\n        }\n      }\n      // Remove unnecessary props to avoid potential problems.\n      var elOptionCleaned = getCleanedElOption(elOption);\n      // For simple, do not support parent change, otherwise reorder is needed.\n      if (process.env.NODE_ENV !== 'production') {\n        elExisting && zrUtil.assert(targetElParent === elExisting.parent, 'Changing parent is not supported.');\n      }\n      var $action = elOption.$action || 'merge';\n      var isMerge = $action === 'merge';\n      var isReplace = $action === 'replace';\n      if (isMerge) {\n        var isInit = !elExisting;\n        var el_1 = elExisting;\n        if (isInit) {\n          el_1 = createEl(id, targetElParent, elOption.type, elMap);\n        } else {\n          el_1 && (inner(el_1).isNew = false);\n          // Stop and restore before update any other attributes.\n          stopPreviousKeyframeAnimationAndRestore(el_1);\n        }\n        if (el_1) {\n          applyUpdateTransition(el_1, elOptionCleaned, graphicModel, {\n            isInit: isInit\n          });\n          updateCommonAttrs(el_1, elOption, globalZ, globalZLevel);\n        }\n      } else if (isReplace) {\n        removeEl(elExisting, elOption, elMap, graphicModel);\n        var el_2 = createEl(id, targetElParent, elOption.type, elMap);\n        if (el_2) {\n          applyUpdateTransition(el_2, elOptionCleaned, graphicModel, {\n            isInit: true\n          });\n          updateCommonAttrs(el_2, elOption, globalZ, globalZLevel);\n        }\n      } else if ($action === 'remove') {\n        updateLeaveTo(elExisting, elOption);\n        removeEl(elExisting, elOption, elMap, graphicModel);\n      }\n      var el = elMap.get(id);\n      if (el && textContentOption) {\n        if (isMerge) {\n          var textContentExisting = el.getTextContent();\n          textContentExisting ? textContentExisting.attr(textContentOption) : el.setTextContent(new graphicUtil.Text(textContentOption));\n        } else if (isReplace) {\n          el.setTextContent(new graphicUtil.Text(textContentOption));\n        }\n      }\n      if (el) {\n        var clipPathOption = elOption.clipPath;\n        if (clipPathOption) {\n          var clipPathType = clipPathOption.type;\n          var clipPath = void 0;\n          var isInit = false;\n          if (isMerge) {\n            var oldClipPath = el.getClipPath();\n            isInit = !oldClipPath || inner(oldClipPath).type !== clipPathType;\n            clipPath = isInit ? newEl(clipPathType) : oldClipPath;\n          } else if (isReplace) {\n            isInit = true;\n            clipPath = newEl(clipPathType);\n          }\n          el.setClipPath(clipPath);\n          applyUpdateTransition(clipPath, clipPathOption, graphicModel, {\n            isInit: isInit\n          });\n          applyKeyframeAnimation(clipPath, clipPathOption.keyframeAnimation, graphicModel);\n        }\n        var elInner = inner(el);\n        el.setTextConfig(textConfig);\n        elInner.option = elOption;\n        setEventData(el, graphicModel, elOption);\n        graphicUtil.setTooltipConfig({\n          el: el,\n          componentModel: graphicModel,\n          itemName: el.name,\n          itemTooltipOption: elOption.tooltip\n        });\n        applyKeyframeAnimation(el, elOption.keyframeAnimation, graphicModel);\n      }\n    });\n  };\n  /**\n   * Locate graphic elements.\n   */\n  GraphicComponentView.prototype._relocate = function (graphicModel, api) {\n    var elOptions = graphicModel.option.elements;\n    var rootGroup = this.group;\n    var elMap = this._elMap;\n    var apiWidth = api.getWidth();\n    var apiHeight = api.getHeight();\n    var xy = ['x', 'y'];\n    // Top-down to calculate percentage width/height of group\n    for (var i = 0; i < elOptions.length; i++) {\n      var elOption = elOptions[i];\n      var id = modelUtil.convertOptionIdName(elOption.id, null);\n      var el = id != null ? elMap.get(id) : null;\n      if (!el || !el.isGroup) {\n        continue;\n      }\n      var parentEl = el.parent;\n      var isParentRoot = parentEl === rootGroup;\n      // Like 'position:absolut' in css, default 0.\n      var elInner = inner(el);\n      var parentElInner = inner(parentEl);\n      elInner.width = parsePercent(elInner.option.width, isParentRoot ? apiWidth : parentElInner.width) || 0;\n      elInner.height = parsePercent(elInner.option.height, isParentRoot ? apiHeight : parentElInner.height) || 0;\n    }\n    // Bottom-up tranvese all elements (consider ec resize) to locate elements.\n    for (var i = elOptions.length - 1; i >= 0; i--) {\n      var elOption = elOptions[i];\n      var id = modelUtil.convertOptionIdName(elOption.id, null);\n      var el = id != null ? elMap.get(id) : null;\n      if (!el) {\n        continue;\n      }\n      var parentEl = el.parent;\n      var parentElInner = inner(parentEl);\n      var containerInfo = parentEl === rootGroup ? {\n        width: apiWidth,\n        height: apiHeight\n      } : {\n        width: parentElInner.width,\n        height: parentElInner.height\n      };\n      // PENDING\n      // Currently, when `bounding: 'all'`, the union bounding rect of the group\n      // does not include the rect of [0, 0, group.width, group.height], which\n      // is probably weird for users. Should we make a break change for it?\n      var layoutPos = {};\n      var layouted = layoutUtil.positionElement(el, elOption, containerInfo, null, {\n        hv: elOption.hv,\n        boundingMode: elOption.bounding\n      }, layoutPos);\n      if (!inner(el).isNew && layouted) {\n        var transition = elOption.transition;\n        var animatePos = {};\n        for (var k = 0; k < xy.length; k++) {\n          var key = xy[k];\n          var val = layoutPos[key];\n          if (transition && (isTransitionAll(transition) || zrUtil.indexOf(transition, key) >= 0)) {\n            animatePos[key] = val;\n          } else {\n            el[key] = val;\n          }\n        }\n        updateProps(el, animatePos, graphicModel, 0);\n      } else {\n        el.attr(layoutPos);\n      }\n    }\n  };\n  /**\n   * Clear all elements.\n   */\n  GraphicComponentView.prototype._clear = function () {\n    var _this = this;\n    var elMap = this._elMap;\n    elMap.each(function (el) {\n      removeEl(el, inner(el).option, elMap, _this._lastGraphicModel);\n    });\n    this._elMap = zrUtil.createHashMap();\n  };\n  GraphicComponentView.prototype.dispose = function () {\n    this._clear();\n  };\n  GraphicComponentView.type = 'graphic';\n  return GraphicComponentView;\n}(ComponentView);\nexport { GraphicComponentView };\nfunction newEl(graphicType) {\n  if (process.env.NODE_ENV !== 'production') {\n    zrUtil.assert(graphicType, 'graphic type MUST be set');\n  }\n  var Clz = zrUtil.hasOwn(nonShapeGraphicElements, graphicType)\n  // Those graphic elements are not shapes. They should not be\n  // overwritten by users, so do them first.\n  ? nonShapeGraphicElements[graphicType] : graphicUtil.getShapeClass(graphicType);\n  if (process.env.NODE_ENV !== 'production') {\n    zrUtil.assert(Clz, \"graphic type \" + graphicType + \" can not be found\");\n  }\n  var el = new Clz({});\n  inner(el).type = graphicType;\n  return el;\n}\nfunction createEl(id, targetElParent, graphicType, elMap) {\n  var el = newEl(graphicType);\n  targetElParent.add(el);\n  elMap.set(id, el);\n  inner(el).id = id;\n  inner(el).isNew = true;\n  return el;\n}\nfunction removeEl(elExisting, elOption, elMap, graphicModel) {\n  var existElParent = elExisting && elExisting.parent;\n  if (existElParent) {\n    elExisting.type === 'group' && elExisting.traverse(function (el) {\n      removeEl(el, elOption, elMap, graphicModel);\n    });\n    applyLeaveTransition(elExisting, elOption, graphicModel);\n    elMap.removeKey(inner(elExisting).id);\n  }\n}\nfunction updateCommonAttrs(el, elOption, defaultZ, defaultZlevel) {\n  if (!el.isGroup) {\n    zrUtil.each([['cursor', Displayable.prototype.cursor],\n    // We should not support configure z and zlevel in the element level.\n    // But seems we didn't limit it previously. So here still use it to avoid breaking.\n    ['zlevel', defaultZlevel || 0], ['z', defaultZ || 0],\n    // z2 must not be null/undefined, otherwise sort error may occur.\n    ['z2', 0]], function (item) {\n      var prop = item[0];\n      if (zrUtil.hasOwn(elOption, prop)) {\n        el[prop] = zrUtil.retrieve2(elOption[prop], item[1]);\n      } else if (el[prop] == null) {\n        el[prop] = item[1];\n      }\n    });\n  }\n  zrUtil.each(zrUtil.keys(elOption), function (key) {\n    // Assign event handlers.\n    // PENDING: should enumerate all event names or use pattern matching?\n    if (key.indexOf('on') === 0) {\n      var val = elOption[key];\n      el[key] = zrUtil.isFunction(val) ? val : null;\n    }\n  });\n  if (zrUtil.hasOwn(elOption, 'draggable')) {\n    el.draggable = elOption.draggable;\n  }\n  // Other attributes\n  elOption.name != null && (el.name = elOption.name);\n  elOption.id != null && (el.id = elOption.id);\n}\n// Remove unnecessary props to avoid potential problems.\nfunction getCleanedElOption(elOption) {\n  elOption = zrUtil.extend({}, elOption);\n  zrUtil.each(['id', 'parentId', '$action', 'hv', 'bounding', 'textContent', 'clipPath'].concat(layoutUtil.LOCATION_PARAMS), function (name) {\n    delete elOption[name];\n  });\n  return elOption;\n}\nfunction setEventData(el, graphicModel, elOption) {\n  var eventData = getECData(el).eventData;\n  // Simple optimize for large amount of elements that no need event.\n  if (!el.silent && !el.ignore && !eventData) {\n    eventData = getECData(el).eventData = {\n      componentType: 'graphic',\n      componentIndex: graphicModel.componentIndex,\n      name: el.name\n    };\n  }\n  // `elOption.info` enables user to mount some info on\n  // elements and use them in event handlers.\n  if (eventData) {\n    eventData.info = elOption.info;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util.js';\nimport { GraphicComponentModel } from './GraphicModel.js';\nimport { GraphicComponentView } from './GraphicView.js';\nexport function install(registers) {\n  registers.registerComponentModel(GraphicComponentModel);\n  registers.registerComponentView(GraphicComponentView);\n  registers.registerPreprocessor(function (option) {\n    var graphicOption = option.graphic;\n    // Convert\n    // {graphic: [{left: 10, type: 'circle'}, ...]}\n    // or\n    // {graphic: {left: 10, type: 'circle'}}\n    // to\n    // {graphic: [{elements: [{left: 10, type: 'circle'}, ...]}]}\n    if (isArray(graphicOption)) {\n      if (!graphicOption[0] || !graphicOption[0].elements) {\n        option.graphic = [{\n          elements: graphicOption\n        }];\n      } else {\n        // Only one graphic instance can be instantiated. (We don't\n        // want that too many views are created in echarts._viewMap.)\n        option.graphic = [option.graphic[0]];\n      }\n    } else if (graphicOption && !graphicOption.elements) {\n      option.graphic = [{\n        elements: [graphicOption]\n      }];\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { indexOf, createHashMap, assert } from 'zrender/lib/core/util.js';\nexport var DATA_ZOOM_AXIS_DIMENSIONS = ['x', 'y', 'radius', 'angle', 'single'];\n// Supported coords.\n// FIXME: polar has been broken (but rarely used).\nvar SERIES_COORDS = ['cartesian2d', 'polar', 'singleAxis'];\nexport function isCoordSupported(seriesModel) {\n  var coordType = seriesModel.get('coordinateSystem');\n  return indexOf(SERIES_COORDS, coordType) >= 0;\n}\nexport function getAxisMainType(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n  return axisDim + 'Axis';\n}\nexport function getAxisIndexPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n  return axisDim + 'AxisIndex';\n}\nexport function getAxisIdPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n  return axisDim + 'AxisId';\n}\n/**\n * If two dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * This function finds all linked dataZoomModels start from the given payload.\n */\nexport function findEffectedDataZooms(ecModel, payload) {\n  // Key: `DataZoomAxisDimension`\n  var axisRecords = createHashMap();\n  var effectedModels = [];\n  // Key: uid of dataZoomModel\n  var effectedModelMap = createHashMap();\n  // Find the dataZooms specified by payload.\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid)) {\n      addToEffected(dataZoomModel);\n    }\n  });\n  // Start from the given dataZoomModels, travel the graph to find\n  // all of the linked dataZoom models.\n  var foundNewLink;\n  do {\n    foundNewLink = false;\n    ecModel.eachComponent('dataZoom', processSingle);\n  } while (foundNewLink);\n  function processSingle(dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid) && isLinked(dataZoomModel)) {\n      addToEffected(dataZoomModel);\n      foundNewLink = true;\n    }\n  }\n  function addToEffected(dataZoom) {\n    effectedModelMap.set(dataZoom.uid, true);\n    effectedModels.push(dataZoom);\n    markAxisControlled(dataZoom);\n  }\n  function isLinked(dataZoomModel) {\n    var isLink = false;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var axisIdxArr = axisRecords.get(axisDim);\n      if (axisIdxArr && axisIdxArr[axisIndex]) {\n        isLink = true;\n      }\n    });\n    return isLink;\n  }\n  function markAxisControlled(dataZoomModel) {\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      (axisRecords.get(axisDim) || axisRecords.set(axisDim, []))[axisIndex] = true;\n    });\n  }\n  return effectedModels;\n}\n/**\n * Find the first target coordinate system.\n * Available after model built.\n *\n * @return Like {\n *                  grid: [\n *                      {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n *                      {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n *                      ...\n *                  ],  // cartesians must not be null/undefined.\n *                  polar: [\n *                      {model: coord0, axisModels: [axis4], coordIndex: 0},\n *                      ...\n *                  ],  // polars must not be null/undefined.\n *                  singleAxis: [\n *                      {model: coord0, axisModels: [], coordIndex: 0}\n *                  ]\n *              }\n */\nexport function collectReferCoordSysModelInfo(dataZoomModel) {\n  var ecModel = dataZoomModel.ecModel;\n  var coordSysInfoWrap = {\n    infoList: [],\n    infoMap: createHashMap()\n  };\n  dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n    var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n    if (!axisModel) {\n      return;\n    }\n    var coordSysModel = axisModel.getCoordSysModel();\n    if (!coordSysModel) {\n      return;\n    }\n    var coordSysUid = coordSysModel.uid;\n    var coordSysInfo = coordSysInfoWrap.infoMap.get(coordSysUid);\n    if (!coordSysInfo) {\n      coordSysInfo = {\n        model: coordSysModel,\n        axisModels: []\n      };\n      coordSysInfoWrap.infoList.push(coordSysInfo);\n      coordSysInfoWrap.infoMap.set(coordSysUid, coordSysInfo);\n    }\n    coordSysInfo.axisModels.push(axisModel);\n  });\n  return coordSysInfoWrap;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { each, createHashMap, merge, assert } from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getAxisMainType, DATA_ZOOM_AXIS_DIMENSIONS } from './helper.js';\nimport { MULTIPLE_REFERRING, SINGLE_REFERRING } from '../../util/model.js';\nvar DataZoomAxisInfo = /** @class */function () {\n  function DataZoomAxisInfo() {\n    this.indexList = [];\n    this.indexMap = [];\n  }\n  DataZoomAxisInfo.prototype.add = function (axisCmptIdx) {\n    // Remove duplication.\n    if (!this.indexMap[axisCmptIdx]) {\n      this.indexList.push(axisCmptIdx);\n      this.indexMap[axisCmptIdx] = true;\n    }\n  };\n  return DataZoomAxisInfo;\n}();\nvar DataZoomModel = /** @class */function (_super) {\n  __extends(DataZoomModel, _super);\n  function DataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = DataZoomModel.type;\n    _this._autoThrottle = true;\n    _this._noTarget = true;\n    /**\n     * It is `[rangeModeForMin, rangeModeForMax]`.\n     * The optional values for `rangeMode`:\n     * + `'value'` mode: the axis extent will always be determined by\n     *     `dataZoom.startValue` and `dataZoom.endValue`, despite\n     *     how data like and how `axis.min` and `axis.max` are.\n     * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,\n     *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,\n     *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.\n     *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.\n     *\n     * For example, when users are using dynamic data (update data periodically via `setOption`),\n     * if in `'value`' mode, the window will be kept in a fixed value range despite how\n     * data are appended, while if in `'percent'` mode, whe window range will be changed alone with\n     * the appended data (suppose `axis.min` and `axis.max` are not specified).\n     */\n    _this._rangePropMode = ['percent', 'percent'];\n    return _this;\n  }\n  DataZoomModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputRawOption = retrieveRawOption(option);\n    /**\n     * Suppose a \"main process\" start at the point that model prepared (that is,\n     * model initialized or merged or method called in `action`).\n     * We should keep the `main process` idempotent, that is, given a set of values\n     * on `option`, we get the same result.\n     *\n     * But sometimes, values on `option` will be updated for providing users\n     * a \"final calculated value\" (`dataZoomProcessor` will do that). Those value\n     * should not be the base/input of the `main process`.\n     *\n     * So in that case we should save and keep the input of the `main process`\n     * separately, called `settledOption`.\n     *\n     * For example, consider the case:\n     * (Step_1) brush zoom the grid by `toolbox.dataZoom`,\n     *     where the original input `option.startValue`, `option.endValue` are earsed by\n     *     calculated value.\n     * (Step)2) click the legend to hide and show a series,\n     *     where the new range is calculated by the earsed `startValue` and `endValue`,\n     *     which brings incorrect result.\n     */\n    this.settledOption = inputRawOption;\n    this.mergeDefaultAndTheme(option, ecModel);\n    this._doInit(inputRawOption);\n  };\n  DataZoomModel.prototype.mergeOption = function (newOption) {\n    var inputRawOption = retrieveRawOption(newOption);\n    // FIX #2591\n    merge(this.option, newOption, true);\n    merge(this.settledOption, inputRawOption, true);\n    this._doInit(inputRawOption);\n  };\n  DataZoomModel.prototype._doInit = function (inputRawOption) {\n    var thisOption = this.option;\n    this._setDefaultThrottle(inputRawOption);\n    this._updateRangeUse(inputRawOption);\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = settledOption[names[0]] = null;\n      }\n      // Otherwise do nothing and use the merge result.\n    }, this);\n    this._resetTarget();\n  };\n  DataZoomModel.prototype._resetTarget = function () {\n    var optionOrient = this.get('orient', true);\n    var targetAxisIndexMap = this._targetAxisInfoMap = createHashMap();\n    var hasAxisSpecified = this._fillSpecifiedTargetAxis(targetAxisIndexMap);\n    if (hasAxisSpecified) {\n      this._orient = optionOrient || this._makeAutoOrientByTargetAxis();\n    } else {\n      this._orient = optionOrient || 'horizontal';\n      this._fillAutoTargetAxisByOrient(targetAxisIndexMap, this._orient);\n    }\n    this._noTarget = true;\n    targetAxisIndexMap.each(function (axisInfo) {\n      if (axisInfo.indexList.length) {\n        this._noTarget = false;\n      }\n    }, this);\n  };\n  DataZoomModel.prototype._fillSpecifiedTargetAxis = function (targetAxisIndexMap) {\n    var hasAxisSpecified = false;\n    each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n      var refering = this.getReferringComponents(getAxisMainType(axisDim), MULTIPLE_REFERRING);\n      // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occurred.\n      if (!refering.specified) {\n        return;\n      }\n      hasAxisSpecified = true;\n      var axisInfo = new DataZoomAxisInfo();\n      each(refering.models, function (axisModel) {\n        axisInfo.add(axisModel.componentIndex);\n      });\n      targetAxisIndexMap.set(axisDim, axisInfo);\n    }, this);\n    return hasAxisSpecified;\n  };\n  DataZoomModel.prototype._fillAutoTargetAxisByOrient = function (targetAxisIndexMap, orient) {\n    var ecModel = this.ecModel;\n    var needAuto = true;\n    // Find axis that parallel to dataZoom as default.\n    if (needAuto) {\n      var axisDim = orient === 'vertical' ? 'y' : 'x';\n      var axisModels = ecModel.findComponents({\n        mainType: axisDim + 'Axis'\n      });\n      setParallelAxis(axisModels, axisDim);\n    }\n    // Find axis that parallel to dataZoom as default.\n    if (needAuto) {\n      var axisModels = ecModel.findComponents({\n        mainType: 'singleAxis',\n        filter: function (axisModel) {\n          return axisModel.get('orient', true) === orient;\n        }\n      });\n      setParallelAxis(axisModels, 'single');\n    }\n    function setParallelAxis(axisModels, axisDim) {\n      // At least use the first parallel axis as the target axis.\n      var axisModel = axisModels[0];\n      if (!axisModel) {\n        return;\n      }\n      var axisInfo = new DataZoomAxisInfo();\n      axisInfo.add(axisModel.componentIndex);\n      targetAxisIndexMap.set(axisDim, axisInfo);\n      needAuto = false;\n      // Find parallel axes in the same grid.\n      if (axisDim === 'x' || axisDim === 'y') {\n        var gridModel_1 = axisModel.getReferringComponents('grid', SINGLE_REFERRING).models[0];\n        gridModel_1 && each(axisModels, function (axModel) {\n          if (axisModel.componentIndex !== axModel.componentIndex && gridModel_1 === axModel.getReferringComponents('grid', SINGLE_REFERRING).models[0]) {\n            axisInfo.add(axModel.componentIndex);\n          }\n        });\n      }\n    }\n    if (needAuto) {\n      // If no parallel axis, find the first category axis as default. (Also consider polar).\n      each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n        if (!needAuto) {\n          return;\n        }\n        var axisModels = ecModel.findComponents({\n          mainType: getAxisMainType(axisDim),\n          filter: function (axisModel) {\n            return axisModel.get('type', true) === 'category';\n          }\n        });\n        if (axisModels[0]) {\n          var axisInfo = new DataZoomAxisInfo();\n          axisInfo.add(axisModels[0].componentIndex);\n          targetAxisIndexMap.set(axisDim, axisInfo);\n          needAuto = false;\n        }\n      }, this);\n    }\n  };\n  DataZoomModel.prototype._makeAutoOrientByTargetAxis = function () {\n    var dim;\n    // Find the first axis\n    this.eachTargetAxis(function (axisDim) {\n      !dim && (dim = axisDim);\n    }, this);\n    return dim === 'y' ? 'vertical' : 'horizontal';\n  };\n  DataZoomModel.prototype._setDefaultThrottle = function (inputRawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (inputRawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  };\n  DataZoomModel.prototype._updateRangeUse = function (inputRawOption) {\n    var rangePropMode = this._rangePropMode;\n    var rangeModeInOption = this.get('rangeMode');\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      var percentSpecified = inputRawOption[names[0]] != null;\n      var valueSpecified = inputRawOption[names[1]] != null;\n      if (percentSpecified && !valueSpecified) {\n        rangePropMode[index] = 'percent';\n      } else if (!percentSpecified && valueSpecified) {\n        rangePropMode[index] = 'value';\n      } else if (rangeModeInOption) {\n        rangePropMode[index] = rangeModeInOption[index];\n      } else if (percentSpecified) {\n        // percentSpecified && valueSpecified\n        rangePropMode[index] = 'percent';\n      }\n      // else remain its original setting.\n    });\n  };\n\n  DataZoomModel.prototype.noTarget = function () {\n    return this._noTarget;\n  };\n  DataZoomModel.prototype.getFirstTargetAxisModel = function () {\n    var firstAxisModel;\n    this.eachTargetAxis(function (axisDim, axisIndex) {\n      if (firstAxisModel == null) {\n        firstAxisModel = this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n      }\n    }, this);\n    return firstAxisModel;\n  };\n  /**\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n  DataZoomModel.prototype.eachTargetAxis = function (callback, context) {\n    this._targetAxisInfoMap.each(function (axisInfo, axisDim) {\n      each(axisInfo.indexList, function (axisIndex) {\n        callback.call(context, axisDim, axisIndex);\n      });\n    });\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n  DataZoomModel.prototype.getAxisProxy = function (axisDim, axisIndex) {\n    var axisModel = this.getAxisModel(axisDim, axisIndex);\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    }\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n  DataZoomModel.prototype.getAxisModel = function (axisDim, axisIndex) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(axisDim && axisIndex != null);\n    }\n    var axisInfo = this._targetAxisInfoMap.get(axisDim);\n    if (axisInfo && axisInfo.indexMap[axisIndex]) {\n      return this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n    }\n  };\n  /**\n   * If not specified, set to undefined.\n   */\n  DataZoomModel.prototype.setRawRange = function (opt) {\n    var thisOption = this.option;\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // Consider the pair <start, startValue>:\n      // If one has value and the other one is `null/undefined`, we both set them\n      // to `settledOption`. This strategy enables the feature to clear the original\n      // value in `settledOption` to `null/undefined`.\n      // But if both of them are `null/undefined`, we do not set them to `settledOption`\n      // and keep `settledOption` with the original value. This strategy enables users to\n      // only set <end or endValue> but not set <start or startValue> when calling\n      // `dispatchAction`.\n      // The pair <end, endValue> is treated in the same way.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        thisOption[names[0]] = settledOption[names[0]] = opt[names[0]];\n        thisOption[names[1]] = settledOption[names[1]] = opt[names[1]];\n      }\n    }, this);\n    this._updateRangeUse(opt);\n  };\n  DataZoomModel.prototype.setCalculatedRange = function (opt) {\n    var option = this.option;\n    each(['start', 'startValue', 'end', 'endValue'], function (name) {\n      option[name] = opt[name];\n    });\n  };\n  DataZoomModel.prototype.getPercentRange = function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  };\n  /**\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @return [startValue, endValue] value can only be '-' or finite number.\n   */\n  DataZoomModel.prototype.getValueRange = function (axisDim, axisIndex) {\n    if (axisDim == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDim, axisIndex).getDataValueWindow();\n    }\n  };\n  /**\n   * @param axisModel If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   */\n  DataZoomModel.prototype.findRepresentativeAxisProxy = function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    }\n    // Find the first hosted axisProxy\n    var firstProxy;\n    var axisDimList = this._targetAxisInfoMap.keys();\n    for (var i = 0; i < axisDimList.length; i++) {\n      var axisDim = axisDimList[i];\n      var axisInfo = this._targetAxisInfoMap.get(axisDim);\n      for (var j = 0; j < axisInfo.indexList.length; j++) {\n        var proxy = this.getAxisProxy(axisDim, axisInfo.indexList[j]);\n        if (proxy.hostedBy(this)) {\n          return proxy;\n        }\n        if (!firstProxy) {\n          firstProxy = proxy;\n        }\n      }\n    }\n    // If no hosted proxy found, still need to return a proxy.\n    // This case always happens in toolbox dataZoom, where axes are all hosted by\n    // other dataZooms.\n    return firstProxy;\n  };\n  DataZoomModel.prototype.getRangePropMode = function () {\n    return this._rangePropMode.slice();\n  };\n  DataZoomModel.prototype.getOrient = function () {\n    if (process.env.NODE_ENV !== 'production') {\n      // Should not be called before initialized.\n      assert(this._orient);\n    }\n    return this._orient;\n  };\n  DataZoomModel.type = 'dataZoom';\n  DataZoomModel.dependencies = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series', 'toolbox'];\n  DataZoomModel.defaultOption = {\n    // zlevel: 0,\n    z: 4,\n    filterMode: 'filter',\n    start: 0,\n    end: 100\n  };\n  return DataZoomModel;\n}(ComponentModel);\n/**\n * Retrieve those raw params from option, which will be cached separately,\n * because they will be overwritten by normalized/calculated values in the main\n * process.\n */\nfunction retrieveRawOption(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\nexport default DataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nvar SelectDataZoomModel = /** @class */function (_super) {\n  __extends(SelectDataZoomModel, _super);\n  function SelectDataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SelectDataZoomModel.type;\n    return _this;\n  }\n  SelectDataZoomModel.type = 'dataZoom.select';\n  return SelectDataZoomModel;\n}(DataZoomModel);\nexport default SelectDataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nvar DataZoomView = /** @class */function (_super) {\n  __extends(DataZoomView, _super);\n  function DataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = DataZoomView.type;\n    return _this;\n  }\n  DataZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n  DataZoomView.type = 'dataZoom';\n  return DataZoomView;\n}(ComponentView);\nexport default DataZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView.js';\nvar SelectDataZoomView = /** @class */function (_super) {\n  __extends(SelectDataZoomView, _super);\n  function SelectDataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SelectDataZoomView.type;\n    return _this;\n  }\n  SelectDataZoomView.type = 'dataZoom.select';\n  return SelectDataZoomView;\n}(DataZoomView);\nexport default SelectDataZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as numberUtil from '../../util/number.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { unionAxisExtentFromData } from '../../coord/axisHelper.js';\nimport { ensureScaleRawExtentInfo } from '../../coord/scaleRawExtentInfo.js';\nimport { getAxisMainType, isCoordSupported } from './helper.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n */\nvar AxisProxy = /** @class */function () {\n  function AxisProxy(dimName, axisIndex, dataZoomModel, ecModel) {\n    this._dimName = dimName;\n    this._axisIndex = axisIndex;\n    this.ecModel = ecModel;\n    this._dataZoomModel = dataZoomModel;\n    // /**\n    //  * @readOnly\n    //  * @private\n    //  */\n    // this.hasSeriesStacked;\n  }\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   */\n  AxisProxy.prototype.hostedBy = function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  };\n  /**\n   * @return Value can only be NaN or finite value.\n   */\n  AxisProxy.prototype.getDataValueWindow = function () {\n    return this._valueWindow.slice();\n  };\n  /**\n   * @return {Array.<number>}\n   */\n  AxisProxy.prototype.getDataPercentWindow = function () {\n    return this._percentWindow.slice();\n  };\n  AxisProxy.prototype.getTargetSeriesModels = function () {\n    var seriesModels = [];\n    this.ecModel.eachSeries(function (seriesModel) {\n      if (isCoordSupported(seriesModel)) {\n        var axisMainType = getAxisMainType(this._dimName);\n        var axisModel = seriesModel.getReferringComponents(axisMainType, SINGLE_REFERRING).models[0];\n        if (axisModel && this._axisIndex === axisModel.componentIndex) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  };\n  AxisProxy.prototype.getAxisModel = function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  };\n  AxisProxy.prototype.getMinMaxSpan = function () {\n    return zrUtil.clone(this._minMaxSpan);\n  };\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   */\n  AxisProxy.prototype.calculateDataWindow = function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n    var percentExtent = [0, 100];\n    var percentWindow = [];\n    var valueWindow = [];\n    var hasPropModeValue;\n    each(['start', 'end'], function (prop, idx) {\n      var boundPercent = opt[prop];\n      var boundValue = opt[prop + 'Value'];\n      // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). (They are based on the data extent\n      // but not min/max of axis, which will be calculated by data window then).\n      // The former one is suitable for cases that a dataZoom component controls multiple\n      // axes with different unit or extent, and the latter one is suitable for accurate\n      // zoom by pixel (e.g., in dataZoomSelect).\n      // we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated\n      // only when setOption or dispatchAction, otherwise it remains its original value.\n      // (Why not only record `percentProp` and always map to `valueProp`? Because\n      // the map `valueProp` -> `percentProp` -> `valueProp` probably not the original\n      // `valueProp`. consider two axes constrolled by one dataZoom. They have different\n      // data extent. All of values that are overflow the `dataExtent` will be calculated\n      // to percent '100%').\n      if (rangePropMode[idx] === 'percent') {\n        boundPercent == null && (boundPercent = percentExtent[idx]);\n        // Use scale.parse to math round for category or time axis.\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent));\n      } else {\n        hasPropModeValue = true;\n        boundValue = boundValue == null ? dataExtent[idx] : scale.parse(boundValue);\n        // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent);\n      }\n      // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n      // fallback to extent start/end when parsed value or percent is invalid\n      valueWindow[idx] = boundValue == null || isNaN(boundValue) ? dataExtent[idx] : boundValue;\n      percentWindow[idx] = boundPercent == null || isNaN(boundPercent) ? percentExtent[idx] : boundPercent;\n    });\n    asc(valueWindow);\n    asc(percentWindow);\n    // The windows from user calling of `dispatchAction` might be out of the extent,\n    // or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we don't restrict window\n    // by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,\n    // where API is able to initialize/modify the window size even though `zoomLock`\n    // specified.\n    var spans = this._minMaxSpan;\n    hasPropModeValue ? restrictSet(valueWindow, percentWindow, dataExtent, percentExtent, false) : restrictSet(percentWindow, valueWindow, percentExtent, dataExtent, true);\n    function restrictSet(fromWindow, toWindow, fromExtent, toExtent, toValue) {\n      var suffix = toValue ? 'Span' : 'ValueSpan';\n      sliderMove(0, fromWindow, fromExtent, 'all', spans['min' + suffix], spans['max' + suffix]);\n      for (var i = 0; i < 2; i++) {\n        toWindow[i] = numberUtil.linearMap(fromWindow[i], fromExtent, toExtent, true);\n        toValue && (toWindow[i] = scale.parse(toWindow[i]));\n      }\n    }\n    return {\n      valueWindow: valueWindow,\n      percentWindow: percentWindow\n    };\n  };\n  /**\n   * Notice: reset should not be called before series.restoreData() is called,\n   * so it is recommended to be called in \"process stage\" but not \"model init\n   * stage\".\n   */\n  AxisProxy.prototype.reset = function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n    var targetSeries = this.getTargetSeriesModels();\n    // Culculate data window and data extent, and record them.\n    this._dataExtent = calculateDataExtent(this, this._dimName, targetSeries);\n    // `calculateDataWindow` uses min/maxSpan.\n    this._updateMinMaxSpan();\n    var dataWindow = this.calculateDataWindow(dataZoomModel.settledOption);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow;\n    // Update axis setting then.\n    this._setAxisModel();\n  };\n  AxisProxy.prototype.filterData = function (dataZoomModel, api) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n    if (filterMode === 'none') {\n      return;\n    }\n    // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n    // But currently, stack has been fixed to based on value but not index,\n    // so this is not an issue any more.\n    // let otherAxisModel = this.getOtherAxisModel();\n    // if (dataZoomModel.get('$fromToolbox')\n    //     && otherAxisModel\n    //     && otherAxisModel.hasSeriesStacked\n    // ) {\n    //     filterMode = 'empty';\n    // }\n    // TODO\n    // filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesData.mapDimensionsAll(axisDim);\n      if (!dataDims.length) {\n        return;\n      }\n      if (filterMode === 'weakFilter') {\n        var store_1 = seriesData.getStore();\n        var dataDimIndices_1 = zrUtil.map(dataDims, function (dim) {\n          return seriesData.getDimensionIndex(dim);\n        }, seriesData);\n        seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = store_1.get(dataDimIndices_1[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          }\n          // If both left out and right out, do not filter.\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData = seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            var range = {};\n            range[dim] = valueWindow;\n            // console.time('select');\n            seriesData.selectRange(range);\n            // console.timeEnd('select');\n          }\n        });\n      }\n\n      each(dataDims, function (dim) {\n        seriesData.setApproximateExtent(valueWindow, dim);\n      });\n    });\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  };\n  AxisProxy.prototype._updateMinMaxSpan = function () {\n    var minMaxSpan = this._minMaxSpan = {};\n    var dataZoomModel = this._dataZoomModel;\n    var dataExtent = this._dataExtent;\n    each(['min', 'max'], function (minMax) {\n      var percentSpan = dataZoomModel.get(minMax + 'Span');\n      var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n      valueSpan != null && (valueSpan = this.getAxisModel().axis.scale.parse(valueSpan));\n      // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n      if (valueSpan != null) {\n        percentSpan = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n      } else if (percentSpan != null) {\n        valueSpan = numberUtil.linearMap(percentSpan, [0, 100], dataExtent, true) - dataExtent[0];\n      }\n      minMaxSpan[minMax + 'Span'] = percentSpan;\n      minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n    }, this);\n  };\n  AxisProxy.prototype._setAxisModel = function () {\n    var axisModel = this.getAxisModel();\n    var percentWindow = this._percentWindow;\n    var valueWindow = this._valueWindow;\n    if (!percentWindow) {\n      return;\n    }\n    // [0, 500]: arbitrary value, guess axis extent.\n    var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n    precision = Math.min(precision, 20);\n    // For value axis, if min/max/scale are not set, we just use the extent obtained\n    // by series data, which may be a little different from the extent calculated by\n    // `axisHelper.getScaleExtent`. But the different just affects the experience a\n    // little when zooming. So it will not be fixed until some users require it strongly.\n    var rawExtentInfo = axisModel.axis.scale.rawExtentInfo;\n    if (percentWindow[0] !== 0) {\n      rawExtentInfo.setDeterminedMinMax('min', +valueWindow[0].toFixed(precision));\n    }\n    if (percentWindow[1] !== 100) {\n      rawExtentInfo.setDeterminedMinMax('max', +valueWindow[1].toFixed(precision));\n    }\n    rawExtentInfo.freeze();\n  };\n  return AxisProxy;\n}();\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    unionAxisExtentFromData(dataExtent, seriesModel.getData(), axisDim);\n  });\n  // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n  var axisModel = axisProxy.getAxisModel();\n  var rawExtentResult = ensureScaleRawExtentInfo(axisModel.axis.scale, axisModel, dataExtent).calculate();\n  return [rawExtentResult.min, rawExtentResult.max];\n}\nexport default AxisProxy;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport { getAxisMainType } from './helper.js';\nimport AxisProxy from './AxisProxy.js';\nvar dataZoomProcessor = {\n  // `dataZoomProcessor` will only be performed in needed series. Consider if\n  // there is a line series and a pie series, it is better not to update the\n  // line series if only pie series is needed to be updated.\n  getTargetSeries: function (ecModel) {\n    function eachAxisModel(cb) {\n      ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n        dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n          var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n          cb(axisDim, axisIndex, axisModel, dataZoomModel);\n        });\n      });\n    }\n    // FIXME: it brings side-effect to `getTargetSeries`.\n    // Prepare axis proxies.\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // dispose all last axis proxy, in case that some axis are deleted.\n      axisModel.__dzAxisProxy = null;\n    });\n    var proxyList = [];\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // Different dataZooms may constrol the same axis. In that case,\n      // an axisProxy serves both of them.\n      if (!axisModel.__dzAxisProxy) {\n        // Use the first dataZoomModel as the main model of axisProxy.\n        axisModel.__dzAxisProxy = new AxisProxy(axisDim, axisIndex, dataZoomModel, ecModel);\n        proxyList.push(axisModel.__dzAxisProxy);\n      }\n    });\n    var seriesModelMap = createHashMap();\n    each(proxyList, function (axisProxy) {\n      each(axisProxy.getTargetSeriesModels(), function (seriesModel) {\n        seriesModelMap.set(seriesModel.uid, seriesModel);\n      });\n    });\n    return seriesModelMap;\n  },\n  // Consider appendData, where filter should be performed. Because data process is\n  // in block mode currently, it is not need to worry about that the overallProgress\n  // execute every frame.\n  overallReset: function (ecModel, api) {\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // We calculate window and reset axis here but not in model\n      // init stage and not after action dispatch handler, because\n      // reset should be called after seriesData.restoreData.\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).reset(dataZoomModel);\n      });\n      // Caution: data zoom filtering is order sensitive when using\n      // percent range and no min/max/scale set on axis.\n      // For example, we have dataZoom definition:\n      // [\n      //      {xAxisIndex: 0, start: 30, end: 70},\n      //      {yAxisIndex: 0, start: 20, end: 80}\n      // ]\n      // In this case, [20, 80] of y-dataZoom should be based on data\n      // that have filtered by x-dataZoom using range of [30, 70],\n      // but should not be based on full raw data. Thus sliding\n      // x-dataZoom will change both ranges of xAxis and yAxis,\n      // while sliding y-dataZoom will only change the range of yAxis.\n      // So we should filter x-axis after reset x-axis immediately,\n      // and then reset y-axis and filter y-axis.\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).filterData(dataZoomModel, api);\n      });\n    });\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // Fullfill all of the range props so that user\n      // is able to get them from chart.getOption().\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        var percentRange = axisProxy.getDataPercentWindow();\n        var valueRange = axisProxy.getDataValueWindow();\n        dataZoomModel.setCalculatedRange({\n          start: percentRange[0],\n          end: percentRange[1],\n          startValue: valueRange[0],\n          endValue: valueRange[1]\n        });\n      }\n    });\n  }\n};\nexport default dataZoomProcessor;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport dataZoomProcessor from './dataZoomProcessor.js';\nimport installDataZoomAction from './dataZoomAction.js';\nvar installed = false;\nexport default function installCommon(registers) {\n  if (installed) {\n    return;\n  }\n  installed = true;\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, dataZoomProcessor);\n  installDataZoomAction(registers);\n  registers.registerSubTypeDefaulter('dataZoom', function () {\n    // Default 'slider' when no type specified.\n    return 'slider';\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { findEffectedDataZooms } from './helper.js';\nimport { each } from 'zrender/lib/core/util.js';\nexport default function installDataZoomAction(registers) {\n  registers.registerAction('dataZoom', function (payload, ecModel) {\n    var effectedModels = findEffectedDataZooms(ecModel, payload);\n    each(effectedModels, function (dataZoomModel) {\n      dataZoomModel.setRawRange({\n        start: payload.start,\n        end: payload.end,\n        startValue: payload.startValue,\n        endValue: payload.endValue\n      });\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SelectZoomModel from './SelectZoomModel.js';\nimport SelectZoomView from './SelectZoomView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(SelectZoomModel);\n  registers.registerComponentView(SelectZoomView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nvar ToolboxFeature = /** @class */function () {\n  function ToolboxFeature() {}\n  return ToolboxFeature;\n}();\nexport { ToolboxFeature };\nvar features = {};\nexport function registerFeature(name, ctor) {\n  features[name] = ctor;\n}\nexport function getFeature(name) {\n  return features[name];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as featureManager from './featureManager.js';\nimport ComponentModel from '../../model/Component.js';\nvar ToolboxModel = /** @class */function (_super) {\n  __extends(ToolboxModel, _super);\n  function ToolboxModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ToolboxModel.type;\n    return _this;\n  }\n  ToolboxModel.prototype.optionUpdated = function () {\n    _super.prototype.optionUpdated.apply(this, arguments);\n    var ecModel = this.ecModel;\n    zrUtil.each(this.option.feature, function (featureOpt, featureName) {\n      var Feature = featureManager.getFeature(featureName);\n      if (Feature) {\n        if (Feature.getDefaultOption) {\n          Feature.defaultOption = Feature.getDefaultOption(ecModel);\n        }\n        zrUtil.merge(featureOpt, Feature.defaultOption);\n      }\n    });\n  };\n  ToolboxModel.type = 'toolbox';\n  ToolboxModel.layoutMode = {\n    type: 'box',\n    ignoreSize: true\n  };\n  ToolboxModel.defaultOption = {\n    show: true,\n    z: 6,\n    // zlevel: 0,\n    orient: 'horizontal',\n    left: 'right',\n    top: 'top',\n    // right\n    // bottom\n    backgroundColor: 'transparent',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemSize: 15,\n    itemGap: 8,\n    showTitle: true,\n    iconStyle: {\n      borderColor: '#666',\n      color: 'none'\n    },\n    emphasis: {\n      iconStyle: {\n        borderColor: '#3E98C5'\n      }\n    },\n    // textStyle: {},\n    // feature\n    tooltip: {\n      show: false,\n      position: 'bottom'\n    }\n  };\n  return ToolboxModel;\n}(ComponentModel);\nexport default ToolboxModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { getLayoutRect, box as layoutBox, positionElement } from '../../util/layout.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as graphic from '../../util/graphic.js';\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\nexport function layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\nexport function makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  });\n  // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n  return rect;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport * as graphic from '../../util/graphic.js';\nimport { enterEmphasis, leaveEmphasis } from '../../util/states.js';\nimport Model from '../../model/Model.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nimport * as listComponentHelper from '../helper/listComponent.js';\nimport ComponentView from '../../view/Component.js';\nimport { ToolboxFeature, getFeature } from './featureManager.js';\nimport { getUID } from '../../util/component.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nimport { getFont } from '../../label/labelStyle.js';\nvar ToolboxView = /** @class */function (_super) {\n  __extends(ToolboxView, _super);\n  function ToolboxView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ToolboxView.prototype.render = function (toolboxModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n    if (!toolboxModel.get('show')) {\n      return;\n    }\n    var itemSize = +toolboxModel.get('itemSize');\n    var isVertical = toolboxModel.get('orient') === 'vertical';\n    var featureOpts = toolboxModel.get('feature') || {};\n    var features = this._features || (this._features = {});\n    var featureNames = [];\n    zrUtil.each(featureOpts, function (opt, name) {\n      featureNames.push(name);\n    });\n    new DataDiffer(this._featureNames || [], featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature, null)).execute();\n    // Keep for diff.\n    this._featureNames = featureNames;\n    function processFeature(newIndex, oldIndex) {\n      var featureName = featureNames[newIndex];\n      var oldName = featureNames[oldIndex];\n      var featureOpt = featureOpts[featureName];\n      var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n      var feature;\n      // FIX#11236, merge feature title from MagicType newOption. TODO: consider seriesIndex ?\n      if (payload && payload.newTitle != null && payload.featureName === featureName) {\n        featureOpt.title = payload.newTitle;\n      }\n      if (featureName && !oldName) {\n        // Create\n        if (isUserFeatureName(featureName)) {\n          feature = {\n            onclick: featureModel.option.onclick,\n            featureName: featureName\n          };\n        } else {\n          var Feature = getFeature(featureName);\n          if (!Feature) {\n            return;\n          }\n          feature = new Feature();\n        }\n        features[featureName] = feature;\n      } else {\n        feature = features[oldName];\n        // If feature does not exist.\n        if (!feature) {\n          return;\n        }\n      }\n      feature.uid = getUID('toolbox-feature');\n      feature.model = featureModel;\n      feature.ecModel = ecModel;\n      feature.api = api;\n      var isToolboxFeature = feature instanceof ToolboxFeature;\n      if (!featureName && oldName) {\n        isToolboxFeature && feature.dispose && feature.dispose(ecModel, api);\n        return;\n      }\n      if (!featureModel.get('show') || isToolboxFeature && feature.unusable) {\n        isToolboxFeature && feature.remove && feature.remove(ecModel, api);\n        return;\n      }\n      createIconPaths(featureModel, feature, featureName);\n      featureModel.setIconStatus = function (iconName, status) {\n        var option = this.option;\n        var iconPaths = this.iconPaths;\n        option.iconStatus = option.iconStatus || {};\n        option.iconStatus[iconName] = status;\n        if (iconPaths[iconName]) {\n          (status === 'emphasis' ? enterEmphasis : leaveEmphasis)(iconPaths[iconName]);\n        }\n      };\n      if (feature instanceof ToolboxFeature) {\n        if (feature.render) {\n          feature.render(featureModel, ecModel, api, payload);\n        }\n      }\n    }\n    function createIconPaths(featureModel, feature, featureName) {\n      var iconStyleModel = featureModel.getModel('iconStyle');\n      var iconStyleEmphasisModel = featureModel.getModel(['emphasis', 'iconStyle']);\n      // If one feature has multiple icons, they are organized as\n      // {\n      //     icon: {\n      //         foo: '',\n      //         bar: ''\n      //     },\n      //     title: {\n      //         foo: '',\n      //         bar: ''\n      //     }\n      // }\n      var icons = feature instanceof ToolboxFeature && feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n      var titles = featureModel.get('title') || {};\n      var iconsMap;\n      var titlesMap;\n      if (zrUtil.isString(icons)) {\n        iconsMap = {};\n        iconsMap[featureName] = icons;\n      } else {\n        iconsMap = icons;\n      }\n      if (zrUtil.isString(titles)) {\n        titlesMap = {};\n        titlesMap[featureName] = titles;\n      } else {\n        titlesMap = titles;\n      }\n      var iconPaths = featureModel.iconPaths = {};\n      zrUtil.each(iconsMap, function (iconStr, iconName) {\n        var path = graphic.createIcon(iconStr, {}, {\n          x: -itemSize / 2,\n          y: -itemSize / 2,\n          width: itemSize,\n          height: itemSize\n        }); // TODO handling image\n        path.setStyle(iconStyleModel.getItemStyle());\n        var pathEmphasisState = path.ensureState('emphasis');\n        pathEmphasisState.style = iconStyleEmphasisModel.getItemStyle();\n        // Text position calculation\n        // TODO: extract `textStyle` from `iconStyle` and use `createTextStyle`\n        var textContent = new ZRText({\n          style: {\n            text: titlesMap[iconName],\n            align: iconStyleEmphasisModel.get('textAlign'),\n            borderRadius: iconStyleEmphasisModel.get('textBorderRadius'),\n            padding: iconStyleEmphasisModel.get('textPadding'),\n            fill: null,\n            font: getFont({\n              fontStyle: iconStyleEmphasisModel.get('textFontStyle'),\n              fontFamily: iconStyleEmphasisModel.get('textFontFamily'),\n              fontSize: iconStyleEmphasisModel.get('textFontSize'),\n              fontWeight: iconStyleEmphasisModel.get('textFontWeight')\n            }, ecModel)\n          },\n          ignore: true\n        });\n        path.setTextContent(textContent);\n        graphic.setTooltipConfig({\n          el: path,\n          componentModel: toolboxModel,\n          itemName: iconName,\n          formatterParamsExtra: {\n            title: titlesMap[iconName]\n          }\n        });\n        path.__title = titlesMap[iconName];\n        path.on('mouseover', function () {\n          // Should not reuse above hoverStyle, which might be modified.\n          var hoverStyle = iconStyleEmphasisModel.getItemStyle();\n          var defaultTextPosition = isVertical ? toolboxModel.get('right') == null && toolboxModel.get('left') !== 'right' ? 'right' : 'left' : toolboxModel.get('bottom') == null && toolboxModel.get('top') !== 'bottom' ? 'bottom' : 'top';\n          textContent.setStyle({\n            fill: iconStyleEmphasisModel.get('textFill') || hoverStyle.fill || hoverStyle.stroke || '#000',\n            backgroundColor: iconStyleEmphasisModel.get('textBackgroundColor')\n          });\n          path.setTextConfig({\n            position: iconStyleEmphasisModel.get('textPosition') || defaultTextPosition\n          });\n          textContent.ignore = !toolboxModel.get('showTitle');\n          // Use enterEmphasis and leaveEmphasis provide by ec.\n          // There are flags managed by the echarts.\n          api.enterEmphasis(this);\n        }).on('mouseout', function () {\n          if (featureModel.get(['iconStatus', iconName]) !== 'emphasis') {\n            api.leaveEmphasis(this);\n          }\n          textContent.hide();\n        });\n        (featureModel.get(['iconStatus', iconName]) === 'emphasis' ? enterEmphasis : leaveEmphasis)(path);\n        group.add(path);\n        path.on('click', zrUtil.bind(feature.onclick, feature, ecModel, api, iconName));\n        iconPaths[iconName] = path;\n      });\n    }\n    listComponentHelper.layout(group, toolboxModel, api);\n    // Render background after group is layout\n    // FIXME\n    group.add(listComponentHelper.makeBackground(group.getBoundingRect(), toolboxModel));\n    // Adjust icon title positions to avoid them out of screen\n    isVertical || group.eachChild(function (icon) {\n      var titleText = icon.__title;\n      // const hoverStyle = icon.hoverStyle;\n      // TODO simplify code?\n      var emphasisState = icon.ensureState('emphasis');\n      var emphasisTextConfig = emphasisState.textConfig || (emphasisState.textConfig = {});\n      var textContent = icon.getTextContent();\n      var emphasisTextState = textContent && textContent.ensureState('emphasis');\n      // May be background element\n      if (emphasisTextState && !zrUtil.isFunction(emphasisTextState) && titleText) {\n        var emphasisTextStyle = emphasisTextState.style || (emphasisTextState.style = {});\n        var rect = textContain.getBoundingRect(titleText, ZRText.makeFont(emphasisTextStyle));\n        var offsetX = icon.x + group.x;\n        var offsetY = icon.y + group.y + itemSize;\n        var needPutOnTop = false;\n        if (offsetY + rect.height > api.getHeight()) {\n          emphasisTextConfig.position = 'top';\n          needPutOnTop = true;\n        }\n        var topOffset = needPutOnTop ? -5 - rect.height : itemSize + 10;\n        if (offsetX + rect.width / 2 > api.getWidth()) {\n          emphasisTextConfig.position = ['100%', topOffset];\n          emphasisTextStyle.align = 'right';\n        } else if (offsetX - rect.width / 2 < 0) {\n          emphasisTextConfig.position = [0, topOffset];\n          emphasisTextStyle.align = 'left';\n        }\n      }\n    });\n  };\n  ToolboxView.prototype.updateView = function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n    });\n  };\n  // updateLayout(toolboxModel, ecModel, api, payload) {\n  //     zrUtil.each(this._features, function (feature) {\n  //         feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n  //     });\n  // },\n  ToolboxView.prototype.remove = function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.remove && feature.remove(ecModel, api);\n    });\n    this.group.removeAll();\n  };\n  ToolboxView.prototype.dispose = function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.dispose && feature.dispose(ecModel, api);\n    });\n  };\n  ToolboxView.type = 'toolbox';\n  return ToolboxView;\n}(ComponentView);\nfunction isUserFeatureName(featureName) {\n  return featureName.indexOf('my') === 0;\n}\nexport default ToolboxView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global Uint8Array, document */\nimport env from 'zrender/lib/core/env.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { isFunction } from 'zrender/lib/core/util.js';\n/* global window, document */\nvar SaveAsImage = /** @class */function (_super) {\n  __extends(SaveAsImage, _super);\n  function SaveAsImage() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  SaveAsImage.prototype.onclick = function (ecModel, api) {\n    var model = this.model;\n    var title = model.get('name') || ecModel.get('title.0.text') || 'echarts';\n    var isSvg = api.getZr().painter.getType() === 'svg';\n    var type = isSvg ? 'svg' : model.get('type', true) || 'png';\n    var url = api.getConnectedDataURL({\n      type: type,\n      backgroundColor: model.get('backgroundColor', true) || ecModel.get('backgroundColor') || '#fff',\n      connectedBackgroundColor: model.get('connectedBackgroundColor'),\n      excludeComponents: model.get('excludeComponents'),\n      pixelRatio: model.get('pixelRatio')\n    });\n    var browser = env.browser;\n    // Chrome, Firefox, New Edge\n    if (isFunction(MouseEvent) && (browser.newEdge || !browser.ie && !browser.edge)) {\n      var $a = document.createElement('a');\n      $a.download = title + '.' + type;\n      $a.target = '_blank';\n      $a.href = url;\n      var evt = new MouseEvent('click', {\n        // some micro front-end framework window maybe is a Proxy\n        view: document.defaultView,\n        bubbles: true,\n        cancelable: false\n      });\n      $a.dispatchEvent(evt);\n    }\n    // IE or old Edge\n    else {\n      // @ts-ignore\n      if (window.navigator.msSaveOrOpenBlob || isSvg) {\n        var parts = url.split(',');\n        // data:[<mime type>][;charset=<charset>][;base64],<encoded data>\n        var base64Encoded = parts[0].indexOf('base64') > -1;\n        var bstr = isSvg\n        // should decode the svg data uri first\n        ? decodeURIComponent(parts[1]) : parts[1];\n        // only `atob` when the data uri is encoded with base64\n        // otherwise, like `svg` data uri exported by zrender,\n        // there will be an error, for it's not encoded with base64.\n        // (just a url-encoded string through `encodeURIComponent`)\n        base64Encoded && (bstr = window.atob(bstr));\n        var filename = title + '.' + type;\n        // @ts-ignore\n        if (window.navigator.msSaveOrOpenBlob) {\n          var n = bstr.length;\n          var u8arr = new Uint8Array(n);\n          while (n--) {\n            u8arr[n] = bstr.charCodeAt(n);\n          }\n          var blob = new Blob([u8arr]); // @ts-ignore\n          window.navigator.msSaveOrOpenBlob(blob, filename);\n        } else {\n          var frame = document.createElement('iframe');\n          document.body.appendChild(frame);\n          var cw = frame.contentWindow;\n          var doc = cw.document;\n          doc.open('image/svg+xml', 'replace');\n          doc.write(bstr);\n          doc.close();\n          cw.focus();\n          doc.execCommand('SaveAs', true, filename);\n          document.body.removeChild(frame);\n        }\n      } else {\n        var lang = model.get('lang');\n        var html = '' + '<body style=\"margin:0;\">' + '<img src=\"' + url + '\" style=\"max-width:100%;\" title=\"' + (lang && lang[0] || '') + '\" />' + '</body>';\n        var tab = window.open();\n        tab.document.write(html);\n        tab.document.title = title;\n      }\n    }\n  };\n  SaveAsImage.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',\n      title: ecModel.getLocaleModel().get(['toolbox', 'saveAsImage', 'title']),\n      type: 'png',\n      // Default use option.backgroundColor\n      // backgroundColor: '#fff',\n      connectedBackgroundColor: '#fff',\n      name: '',\n      excludeComponents: ['toolbox'],\n      // use current pixel ratio of device by default\n      // pixelRatio: 1,\n      lang: ecModel.getLocaleModel().get(['toolbox', 'saveAsImage', 'lang'])\n    };\n    return defaultOption;\n  };\n  return SaveAsImage;\n}(ToolboxFeature);\nexport default SaveAsImage;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as echarts from '../../../core/echarts.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { SINGLE_REFERRING } from '../../../util/model.js';\nvar INNER_STACK_KEYWORD = '__ec_magicType_stack__';\nvar ICON_TYPES = ['line', 'bar', 'stack'];\n// stack and tiled appears in pair for the title\nvar TITLE_TYPES = ['line', 'bar', 'stack', 'tiled'];\nvar radioTypes = [['line', 'bar'], ['stack']];\nvar MagicType = /** @class */function (_super) {\n  __extends(MagicType, _super);\n  function MagicType() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  MagicType.prototype.getIcons = function () {\n    var model = this.model;\n    var availableIcons = model.get('icon');\n    var icons = {};\n    zrUtil.each(model.get('type'), function (type) {\n      if (availableIcons[type]) {\n        icons[type] = availableIcons[type];\n      }\n    });\n    return icons;\n  };\n  MagicType.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      type: [],\n      // Icon group\n      icon: {\n        line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',\n        bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',\n        // eslint-disable-next-line\n        stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z' // jshint ignore:line\n      },\n\n      // `line`, `bar`, `stack`, `tiled`\n      title: ecModel.getLocaleModel().get(['toolbox', 'magicType', 'title']),\n      option: {},\n      seriesIndex: {}\n    };\n    return defaultOption;\n  };\n  MagicType.prototype.onclick = function (ecModel, api, type) {\n    var model = this.model;\n    var seriesIndex = model.get(['seriesIndex', type]);\n    // Not supported magicType\n    if (!seriesOptGenreator[type]) {\n      return;\n    }\n    var newOption = {\n      series: []\n    };\n    var generateNewSeriesTypes = function (seriesModel) {\n      var seriesType = seriesModel.subType;\n      var seriesId = seriesModel.id;\n      var newSeriesOpt = seriesOptGenreator[type](seriesType, seriesId, seriesModel, model);\n      if (newSeriesOpt) {\n        // PENDING If merge original option?\n        zrUtil.defaults(newSeriesOpt, seriesModel.option);\n        newOption.series.push(newSeriesOpt);\n      }\n      // Modify boundaryGap\n      var coordSys = seriesModel.coordinateSystem;\n      if (coordSys && coordSys.type === 'cartesian2d' && (type === 'line' || type === 'bar')) {\n        var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n        if (categoryAxis) {\n          var axisDim = categoryAxis.dim;\n          var axisType = axisDim + 'Axis';\n          var axisModel = seriesModel.getReferringComponents(axisType, SINGLE_REFERRING).models[0];\n          var axisIndex = axisModel.componentIndex;\n          newOption[axisType] = newOption[axisType] || [];\n          for (var i = 0; i <= axisIndex; i++) {\n            newOption[axisType][axisIndex] = newOption[axisType][axisIndex] || {};\n          }\n          newOption[axisType][axisIndex].boundaryGap = type === 'bar';\n        }\n      }\n    };\n    zrUtil.each(radioTypes, function (radio) {\n      if (zrUtil.indexOf(radio, type) >= 0) {\n        zrUtil.each(radio, function (item) {\n          model.setIconStatus(item, 'normal');\n        });\n      }\n    });\n    model.setIconStatus(type, 'emphasis');\n    ecModel.eachComponent({\n      mainType: 'series',\n      query: seriesIndex == null ? null : {\n        seriesIndex: seriesIndex\n      }\n    }, generateNewSeriesTypes);\n    var newTitle;\n    var currentType = type;\n    // Change title of stack\n    if (type === 'stack') {\n      // use titles in model instead of ecModel\n      // as stack and tiled appears in pair, just flip them\n      // no need of checking stack state\n      newTitle = zrUtil.merge({\n        stack: model.option.title.tiled,\n        tiled: model.option.title.stack\n      }, model.option.title);\n      if (model.get(['iconStatus', type]) !== 'emphasis') {\n        currentType = 'tiled';\n      }\n    }\n    api.dispatchAction({\n      type: 'changeMagicType',\n      currentType: currentType,\n      newOption: newOption,\n      newTitle: newTitle,\n      featureName: 'magicType'\n    });\n  };\n  return MagicType;\n}(ToolboxFeature);\nvar seriesOptGenreator = {\n  'line': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'line',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get(['option', 'line']) || {}, true);\n    }\n  },\n  'bar': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'bar',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get(['option', 'bar']) || {}, true);\n    }\n  },\n  'stack': function (seriesType, seriesId, seriesModel, model) {\n    var isStack = seriesModel.get('stack') === INNER_STACK_KEYWORD;\n    if (seriesType === 'line' || seriesType === 'bar') {\n      model.setIconStatus('stack', isStack ? 'normal' : 'emphasis');\n      return zrUtil.merge({\n        id: seriesId,\n        stack: isStack ? '' : INNER_STACK_KEYWORD\n      }, model.get(['option', 'stack']) || {}, true);\n    }\n  }\n};\n// TODO: SELF REGISTERED.\necharts.registerAction({\n  type: 'changeMagicType',\n  event: 'magicTypeChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.mergeOption(payload.newOption);\n});\nexport default MagicType;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global document */\nimport * as echarts from '../../../core/echarts.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { addEventListener } from 'zrender/lib/core/event.js';\nimport { warn } from '../../../util/log.js';\n/* global document */\nvar BLOCK_SPLITER = new Array(60).join('-');\nvar ITEM_SPLITER = '\\t';\n/**\n * Group series into two types\n *  1. on category axis, like line, bar\n *  2. others, like scatter, pie\n */\nfunction groupSeries(ecModel) {\n  var seriesGroupByCategoryAxis = {};\n  var otherSeries = [];\n  var meta = [];\n  ecModel.eachRawSeries(function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && (coordSys.type === 'cartesian2d' || coordSys.type === 'polar')) {\n      // TODO: TYPE Consider polar? Include polar may increase unecessary bundle size.\n      var baseAxis = coordSys.getBaseAxis();\n      if (baseAxis.type === 'category') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n        if (!seriesGroupByCategoryAxis[key]) {\n          seriesGroupByCategoryAxis[key] = {\n            categoryAxis: baseAxis,\n            valueAxis: coordSys.getOtherAxis(baseAxis),\n            series: []\n          };\n          meta.push({\n            axisDim: baseAxis.dim,\n            axisIndex: baseAxis.index\n          });\n        }\n        seriesGroupByCategoryAxis[key].series.push(seriesModel);\n      } else {\n        otherSeries.push(seriesModel);\n      }\n    } else {\n      otherSeries.push(seriesModel);\n    }\n  });\n  return {\n    seriesGroupByCategoryAxis: seriesGroupByCategoryAxis,\n    other: otherSeries,\n    meta: meta\n  };\n}\n/**\n * Assemble content of series on cateogory axis\n * @inner\n */\nfunction assembleSeriesWithCategoryAxis(groups) {\n  var tables = [];\n  zrUtil.each(groups, function (group, key) {\n    var categoryAxis = group.categoryAxis;\n    var valueAxis = group.valueAxis;\n    var valueAxisDim = valueAxis.dim;\n    var headers = [' '].concat(zrUtil.map(group.series, function (series) {\n      return series.name;\n    }));\n    // @ts-ignore TODO Polar\n    var columns = [categoryAxis.model.getCategories()];\n    zrUtil.each(group.series, function (series) {\n      var rawData = series.getRawData();\n      columns.push(series.getRawData().mapArray(rawData.mapDimension(valueAxisDim), function (val) {\n        return val;\n      }));\n    });\n    // Assemble table content\n    var lines = [headers.join(ITEM_SPLITER)];\n    for (var i = 0; i < columns[0].length; i++) {\n      var items = [];\n      for (var j = 0; j < columns.length; j++) {\n        items.push(columns[j][i]);\n      }\n      lines.push(items.join(ITEM_SPLITER));\n    }\n    tables.push(lines.join('\\n'));\n  });\n  return tables.join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * Assemble content of other series\n */\nfunction assembleOtherSeries(series) {\n  return zrUtil.map(series, function (series) {\n    var data = series.getRawData();\n    var lines = [series.name];\n    var vals = [];\n    data.each(data.dimensions, function () {\n      var argLen = arguments.length;\n      var dataIndex = arguments[argLen - 1];\n      var name = data.getName(dataIndex);\n      for (var i = 0; i < argLen - 1; i++) {\n        vals[i] = arguments[i];\n      }\n      lines.push((name ? name + ITEM_SPLITER : '') + vals.join(ITEM_SPLITER));\n    });\n    return lines.join('\\n');\n  }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\nfunction getContentFromModel(ecModel) {\n  var result = groupSeries(ecModel);\n  return {\n    value: zrUtil.filter([assembleSeriesWithCategoryAxis(result.seriesGroupByCategoryAxis), assembleOtherSeries(result.other)], function (str) {\n      return !!str.replace(/[\\n\\t\\s]/g, '');\n    }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n'),\n    meta: result.meta\n  };\n}\nfunction trim(str) {\n  return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n}\n/**\n * If a block is tsv format\n */\nfunction isTSVFormat(block) {\n  // Simple method to find out if a block is tsv format\n  var firstLine = block.slice(0, block.indexOf('\\n'));\n  if (firstLine.indexOf(ITEM_SPLITER) >= 0) {\n    return true;\n  }\n}\nvar itemSplitRegex = new RegExp('[' + ITEM_SPLITER + ']+', 'g');\n/**\n * @param {string} tsv\n * @return {Object}\n */\nfunction parseTSVContents(tsv) {\n  var tsvLines = tsv.split(/\\n+/g);\n  var headers = trim(tsvLines.shift()).split(itemSplitRegex);\n  var categories = [];\n  var series = zrUtil.map(headers, function (header) {\n    return {\n      name: header,\n      data: []\n    };\n  });\n  for (var i = 0; i < tsvLines.length; i++) {\n    var items = trim(tsvLines[i]).split(itemSplitRegex);\n    categories.push(items.shift());\n    for (var j = 0; j < items.length; j++) {\n      series[j] && (series[j].data[i] = items[j]);\n    }\n  }\n  return {\n    series: series,\n    categories: categories\n  };\n}\nfunction parseListContents(str) {\n  var lines = str.split(/\\n+/g);\n  var seriesName = trim(lines.shift());\n  var data = [];\n  for (var i = 0; i < lines.length; i++) {\n    // if line is empty, ignore it.\n    // there is a case that a user forgot to delete `\\n`.\n    var line = trim(lines[i]);\n    if (!line) {\n      continue;\n    }\n    var items = line.split(itemSplitRegex);\n    var name_1 = '';\n    var value = void 0;\n    var hasName = false;\n    if (isNaN(items[0])) {\n      // First item is name\n      hasName = true;\n      name_1 = items[0];\n      items = items.slice(1);\n      data[i] = {\n        name: name_1,\n        value: []\n      };\n      value = data[i].value;\n    } else {\n      value = data[i] = [];\n    }\n    for (var j = 0; j < items.length; j++) {\n      value.push(+items[j]);\n    }\n    if (value.length === 1) {\n      hasName ? data[i].value = value[0] : data[i] = value[0];\n    }\n  }\n  return {\n    name: seriesName,\n    data: data\n  };\n}\nfunction parseContents(str, blockMetaList) {\n  var blocks = str.split(new RegExp('\\n*' + BLOCK_SPLITER + '\\n*', 'g'));\n  var newOption = {\n    series: []\n  };\n  zrUtil.each(blocks, function (block, idx) {\n    if (isTSVFormat(block)) {\n      var result = parseTSVContents(block);\n      var blockMeta = blockMetaList[idx];\n      var axisKey = blockMeta.axisDim + 'Axis';\n      if (blockMeta) {\n        newOption[axisKey] = newOption[axisKey] || [];\n        newOption[axisKey][blockMeta.axisIndex] = {\n          data: result.categories\n        };\n        newOption.series = newOption.series.concat(result.series);\n      }\n    } else {\n      var result = parseListContents(block);\n      newOption.series.push(result);\n    }\n  });\n  return newOption;\n}\nvar DataView = /** @class */function (_super) {\n  __extends(DataView, _super);\n  function DataView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DataView.prototype.onclick = function (ecModel, api) {\n    // FIXME: better way?\n    setTimeout(function () {\n      api.dispatchAction({\n        type: 'hideTip'\n      });\n    });\n    var container = api.getDom();\n    var model = this.model;\n    if (this._dom) {\n      container.removeChild(this._dom);\n    }\n    var root = document.createElement('div');\n    // use padding to avoid 5px whitespace\n    root.style.cssText = 'position:absolute;top:0;bottom:0;left:0;right:0;padding:5px';\n    root.style.backgroundColor = model.get('backgroundColor') || '#fff';\n    // Create elements\n    var header = document.createElement('h4');\n    var lang = model.get('lang') || [];\n    header.innerHTML = lang[0] || model.get('title');\n    header.style.cssText = 'margin:10px 20px';\n    header.style.color = model.get('textColor');\n    var viewMain = document.createElement('div');\n    var textarea = document.createElement('textarea');\n    viewMain.style.cssText = 'overflow:auto';\n    var optionToContent = model.get('optionToContent');\n    var contentToOption = model.get('contentToOption');\n    var result = getContentFromModel(ecModel);\n    if (zrUtil.isFunction(optionToContent)) {\n      var htmlOrDom = optionToContent(api.getOption());\n      if (zrUtil.isString(htmlOrDom)) {\n        viewMain.innerHTML = htmlOrDom;\n      } else if (zrUtil.isDom(htmlOrDom)) {\n        viewMain.appendChild(htmlOrDom);\n      }\n    } else {\n      // Use default textarea\n      textarea.readOnly = model.get('readOnly');\n      var style = textarea.style;\n      // eslint-disable-next-line max-len\n      style.cssText = 'display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none';\n      style.color = model.get('textColor');\n      style.borderColor = model.get('textareaBorderColor');\n      style.backgroundColor = model.get('textareaColor');\n      textarea.value = result.value;\n      viewMain.appendChild(textarea);\n    }\n    var blockMetaList = result.meta;\n    var buttonContainer = document.createElement('div');\n    buttonContainer.style.cssText = 'position:absolute;bottom:5px;left:0;right:0';\n    // eslint-disable-next-line max-len\n    var buttonStyle = 'float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px';\n    var closeButton = document.createElement('div');\n    var refreshButton = document.createElement('div');\n    buttonStyle += ';background-color:' + model.get('buttonColor');\n    buttonStyle += ';color:' + model.get('buttonTextColor');\n    var self = this;\n    function close() {\n      container.removeChild(root);\n      self._dom = null;\n    }\n    addEventListener(closeButton, 'click', close);\n    addEventListener(refreshButton, 'click', function () {\n      if (contentToOption == null && optionToContent != null || contentToOption != null && optionToContent == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          // eslint-disable-next-line\n          warn('It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored.');\n        }\n        close();\n        return;\n      }\n      var newOption;\n      try {\n        if (zrUtil.isFunction(contentToOption)) {\n          newOption = contentToOption(viewMain, api.getOption());\n        } else {\n          newOption = parseContents(textarea.value, blockMetaList);\n        }\n      } catch (e) {\n        close();\n        throw new Error('Data view format error ' + e);\n      }\n      if (newOption) {\n        api.dispatchAction({\n          type: 'changeDataView',\n          newOption: newOption\n        });\n      }\n      close();\n    });\n    closeButton.innerHTML = lang[1];\n    refreshButton.innerHTML = lang[2];\n    refreshButton.style.cssText = closeButton.style.cssText = buttonStyle;\n    !model.get('readOnly') && buttonContainer.appendChild(refreshButton);\n    buttonContainer.appendChild(closeButton);\n    root.appendChild(header);\n    root.appendChild(viewMain);\n    root.appendChild(buttonContainer);\n    viewMain.style.height = container.clientHeight - 80 + 'px';\n    container.appendChild(root);\n    this._dom = root;\n  };\n  DataView.prototype.remove = function (ecModel, api) {\n    this._dom && api.getDom().removeChild(this._dom);\n  };\n  DataView.prototype.dispose = function (ecModel, api) {\n    this.remove(ecModel, api);\n  };\n  DataView.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      readOnly: false,\n      optionToContent: null,\n      contentToOption: null,\n      // eslint-disable-next-line\n      icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',\n      title: ecModel.getLocaleModel().get(['toolbox', 'dataView', 'title']),\n      lang: ecModel.getLocaleModel().get(['toolbox', 'dataView', 'lang']),\n      backgroundColor: '#fff',\n      textColor: '#000',\n      textareaColor: '#fff',\n      textareaBorderColor: '#333',\n      buttonColor: '#c23531',\n      buttonTextColor: '#fff'\n    };\n    return defaultOption;\n  };\n  return DataView;\n}(ToolboxFeature);\n/**\n * @inner\n */\nfunction tryMergeDataOption(newData, originalData) {\n  return zrUtil.map(newData, function (newVal, idx) {\n    var original = originalData && originalData[idx];\n    if (zrUtil.isObject(original) && !zrUtil.isArray(original)) {\n      var newValIsObject = zrUtil.isObject(newVal) && !zrUtil.isArray(newVal);\n      if (!newValIsObject) {\n        newVal = {\n          value: newVal\n        };\n      }\n      // original data has name but new data has no name\n      var shouldDeleteName = original.name != null && newVal.name == null;\n      // Original data has option\n      newVal = zrUtil.defaults(newVal, original);\n      shouldDeleteName && delete newVal.name;\n      return newVal;\n    } else {\n      return newVal;\n    }\n  });\n}\n// TODO: SELF REGISTERED.\necharts.registerAction({\n  type: 'changeDataView',\n  event: 'dataViewChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var newSeriesOptList = [];\n  zrUtil.each(payload.newOption.series, function (seriesOpt) {\n    var seriesModel = ecModel.getSeriesByName(seriesOpt.name)[0];\n    if (!seriesModel) {\n      // New created series\n      // Geuss the series type\n      newSeriesOptList.push(zrUtil.extend({\n        // Default is scatter\n        type: 'scatter'\n      }, seriesOpt));\n    } else {\n      var originalData = seriesModel.get('data');\n      newSeriesOptList.push({\n        name: seriesOpt.name,\n        data: tryMergeDataOption(seriesOpt.data, originalData)\n      });\n    }\n  });\n  ecModel.mergeOption(zrUtil.defaults({\n    series: newSeriesOptList\n  }, payload.newOption));\n});\nexport default DataView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nvar each = zrUtil.each;\nvar inner = makeInner();\n/**\n * @param ecModel\n * @param newSnapshot key is dataZoomId\n */\nexport function push(ecModel, newSnapshot) {\n  var storedSnapshots = getStoreSnapshots(ecModel);\n  // If previous dataZoom can not be found,\n  // complete an range with current range.\n  each(newSnapshot, function (batchItem, dataZoomId) {\n    var i = storedSnapshots.length - 1;\n    for (; i >= 0; i--) {\n      var snapshot = storedSnapshots[i];\n      if (snapshot[dataZoomId]) {\n        break;\n      }\n    }\n    if (i < 0) {\n      // No origin range set, create one by current range.\n      var dataZoomModel = ecModel.queryComponents({\n        mainType: 'dataZoom',\n        subType: 'select',\n        id: dataZoomId\n      })[0];\n      if (dataZoomModel) {\n        var percentRange = dataZoomModel.getPercentRange();\n        storedSnapshots[0][dataZoomId] = {\n          dataZoomId: dataZoomId,\n          start: percentRange[0],\n          end: percentRange[1]\n        };\n      }\n    }\n  });\n  storedSnapshots.push(newSnapshot);\n}\nexport function pop(ecModel) {\n  var storedSnapshots = getStoreSnapshots(ecModel);\n  var head = storedSnapshots[storedSnapshots.length - 1];\n  storedSnapshots.length > 1 && storedSnapshots.pop();\n  // Find top for all dataZoom.\n  var snapshot = {};\n  each(head, function (batchItem, dataZoomId) {\n    for (var i = storedSnapshots.length - 1; i >= 0; i--) {\n      batchItem = storedSnapshots[i][dataZoomId];\n      if (batchItem) {\n        snapshot[dataZoomId] = batchItem;\n        break;\n      }\n    }\n  });\n  return snapshot;\n}\nexport function clear(ecModel) {\n  inner(ecModel).snapshots = null;\n}\nexport function count(ecModel) {\n  return getStoreSnapshots(ecModel).length;\n}\n/**\n * History length of each dataZoom may be different.\n * this._history[0] is used to store origin range.\n */\nfunction getStoreSnapshots(ecModel) {\n  var store = inner(ecModel);\n  if (!store.snapshots) {\n    store.snapshots = [{}];\n  }\n  return store.snapshots;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as echarts from '../../../core/echarts.js';\nimport * as history from '../../dataZoom/history.js';\nimport { ToolboxFeature } from '../featureManager.js';\nvar RestoreOption = /** @class */function (_super) {\n  __extends(RestoreOption, _super);\n  function RestoreOption() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  RestoreOption.prototype.onclick = function (ecModel, api) {\n    history.clear(ecModel);\n    api.dispatchAction({\n      type: 'restore',\n      from: this.uid\n    });\n  };\n  RestoreOption.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      // eslint-disable-next-line\n      icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',\n      title: ecModel.getLocaleModel().get(['toolbox', 'restore', 'title'])\n    };\n    return defaultOption;\n  };\n  return RestoreOption;\n}(ToolboxFeature);\n// TODO: SELF REGISTERED.\necharts.registerAction({\n  type: 'restore',\n  event: 'restore',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.resetOption('recreate');\n});\nexport default RestoreOption;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, indexOf, curry, assert, map, createHashMap } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as brushHelper from './brushHelper.js';\nimport { parseFinder as modelUtilParseFinder } from '../../util/model.js';\n// FIXME\n// how to genarialize to more coordinate systems.\nvar INCLUDE_FINDER_MAIN_TYPES = ['grid', 'xAxis', 'yAxis', 'geo', 'graph', 'polar', 'radiusAxis', 'angleAxis', 'bmap'];\nvar BrushTargetManager = /** @class */function () {\n  /**\n   * @param finder contains Index/Id/Name of xAxis/yAxis/geo/grid\n   *        Each can be {number|Array.<number>}. like: {xAxisIndex: [3, 4]}\n   * @param opt.include include coordinate system types.\n   */\n  function BrushTargetManager(finder, ecModel, opt) {\n    var _this = this;\n    this._targetInfoList = [];\n    var foundCpts = parseFinder(ecModel, finder);\n    each(targetInfoBuilders, function (builder, type) {\n      if (!opt || !opt.include || indexOf(opt.include, type) >= 0) {\n        builder(foundCpts, _this._targetInfoList);\n      }\n    });\n  }\n  BrushTargetManager.prototype.setOutputRanges = function (areas, ecModel) {\n    this.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n      (area.coordRanges || (area.coordRanges = [])).push(coordRange);\n      // area.coordRange is the first of area.coordRanges\n      if (!area.coordRange) {\n        area.coordRange = coordRange;\n        // In 'category' axis, coord to pixel is not reversible, so we can not\n        // rebuild range by coordRange accrately, which may bring trouble when\n        // brushing only one item. So we use __rangeOffset to rebuilding range\n        // by coordRange. And this it only used in brush component so it is no\n        // need to be adapted to coordRanges.\n        var result = coordConvert[area.brushType](0, coordSys, coordRange);\n        area.__rangeOffset = {\n          offset: diffProcessor[area.brushType](result.values, area.range, [1, 1]),\n          xyMinMax: result.xyMinMax\n        };\n      }\n    });\n    return areas;\n  };\n  BrushTargetManager.prototype.matchOutputRanges = function (areas, ecModel, cb) {\n    each(areas, function (area) {\n      var targetInfo = this.findTargetInfo(area, ecModel);\n      if (targetInfo && targetInfo !== true) {\n        each(targetInfo.coordSyses, function (coordSys) {\n          var result = coordConvert[area.brushType](1, coordSys, area.range, true);\n          cb(area, result.values, coordSys, ecModel);\n        });\n      }\n    }, this);\n  };\n  /**\n   * the `areas` is `BrushModel.areas`.\n   * Called in layout stage.\n   * convert `area.coordRange` to global range and set panelId to `area.range`.\n   */\n  BrushTargetManager.prototype.setInputRanges = function (areas, ecModel) {\n    each(areas, function (area) {\n      var targetInfo = this.findTargetInfo(area, ecModel);\n      if (process.env.NODE_ENV !== 'production') {\n        assert(!targetInfo || targetInfo === true || area.coordRange, 'coordRange must be specified when coord index specified.');\n        assert(!targetInfo || targetInfo !== true || area.range, 'range must be specified in global brush.');\n      }\n      area.range = area.range || [];\n      // convert coordRange to global range and set panelId.\n      if (targetInfo && targetInfo !== true) {\n        area.panelId = targetInfo.panelId;\n        // (1) area.range should always be calculate from coordRange but does\n        // not keep its original value, for the sake of the dataZoom scenario,\n        // where area.coordRange remains unchanged but area.range may be changed.\n        // (2) Only support converting one coordRange to pixel range in brush\n        // component. So do not consider `coordRanges`.\n        // (3) About __rangeOffset, see comment above.\n        var result = coordConvert[area.brushType](0, targetInfo.coordSys, area.coordRange);\n        var rangeOffset = area.__rangeOffset;\n        area.range = rangeOffset ? diffProcessor[area.brushType](result.values, rangeOffset.offset, getScales(result.xyMinMax, rangeOffset.xyMinMax)) : result.values;\n      }\n    }, this);\n  };\n  BrushTargetManager.prototype.makePanelOpts = function (api, getDefaultBrushType) {\n    return map(this._targetInfoList, function (targetInfo) {\n      var rect = targetInfo.getPanelRect();\n      return {\n        panelId: targetInfo.panelId,\n        defaultBrushType: getDefaultBrushType ? getDefaultBrushType(targetInfo) : null,\n        clipPath: brushHelper.makeRectPanelClipPath(rect),\n        isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, targetInfo.coordSysModel),\n        getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect)\n      };\n    });\n  };\n  BrushTargetManager.prototype.controlSeries = function (area, seriesModel, ecModel) {\n    // Check whether area is bound in coord, and series do not belong to that coord.\n    // If do not do this check, some brush (like lineX) will controll all axes.\n    var targetInfo = this.findTargetInfo(area, ecModel);\n    return targetInfo === true || targetInfo && indexOf(targetInfo.coordSyses, seriesModel.coordinateSystem) >= 0;\n  };\n  /**\n   * If return Object, a coord found.\n   * If return true, global found.\n   * Otherwise nothing found.\n   */\n  BrushTargetManager.prototype.findTargetInfo = function (area, ecModel) {\n    var targetInfoList = this._targetInfoList;\n    var foundCpts = parseFinder(ecModel, area);\n    for (var i = 0; i < targetInfoList.length; i++) {\n      var targetInfo = targetInfoList[i];\n      var areaPanelId = area.panelId;\n      if (areaPanelId) {\n        if (targetInfo.panelId === areaPanelId) {\n          return targetInfo;\n        }\n      } else {\n        for (var j = 0; j < targetInfoMatchers.length; j++) {\n          if (targetInfoMatchers[j](foundCpts, targetInfo)) {\n            return targetInfo;\n          }\n        }\n      }\n    }\n    return true;\n  };\n  return BrushTargetManager;\n}();\nfunction formatMinMax(minMax) {\n  minMax[0] > minMax[1] && minMax.reverse();\n  return minMax;\n}\nfunction parseFinder(ecModel, finder) {\n  return modelUtilParseFinder(ecModel, finder, {\n    includeMainTypes: INCLUDE_FINDER_MAIN_TYPES\n  });\n}\nvar targetInfoBuilders = {\n  grid: function (foundCpts, targetInfoList) {\n    var xAxisModels = foundCpts.xAxisModels;\n    var yAxisModels = foundCpts.yAxisModels;\n    var gridModels = foundCpts.gridModels;\n    // Remove duplicated.\n    var gridModelMap = createHashMap();\n    var xAxesHas = {};\n    var yAxesHas = {};\n    if (!xAxisModels && !yAxisModels && !gridModels) {\n      return;\n    }\n    each(xAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n    });\n    each(yAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      yAxesHas[gridModel.id] = true;\n    });\n    each(gridModels, function (gridModel) {\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n      yAxesHas[gridModel.id] = true;\n    });\n    gridModelMap.each(function (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      var cartesians = [];\n      each(grid.getCartesians(), function (cartesian, index) {\n        if (indexOf(xAxisModels, cartesian.getAxis('x').model) >= 0 || indexOf(yAxisModels, cartesian.getAxis('y').model) >= 0) {\n          cartesians.push(cartesian);\n        }\n      });\n      targetInfoList.push({\n        panelId: 'grid--' + gridModel.id,\n        gridModel: gridModel,\n        coordSysModel: gridModel,\n        // Use the first one as the representitive coordSys.\n        coordSys: cartesians[0],\n        coordSyses: cartesians,\n        getPanelRect: panelRectBuilders.grid,\n        xAxisDeclared: xAxesHas[gridModel.id],\n        yAxisDeclared: yAxesHas[gridModel.id]\n      });\n    });\n  },\n  geo: function (foundCpts, targetInfoList) {\n    each(foundCpts.geoModels, function (geoModel) {\n      var coordSys = geoModel.coordinateSystem;\n      targetInfoList.push({\n        panelId: 'geo--' + geoModel.id,\n        geoModel: geoModel,\n        coordSysModel: geoModel,\n        coordSys: coordSys,\n        coordSyses: [coordSys],\n        getPanelRect: panelRectBuilders.geo\n      });\n    });\n  }\n};\nvar targetInfoMatchers = [\n// grid\nfunction (foundCpts, targetInfo) {\n  var xAxisModel = foundCpts.xAxisModel;\n  var yAxisModel = foundCpts.yAxisModel;\n  var gridModel = foundCpts.gridModel;\n  !gridModel && xAxisModel && (gridModel = xAxisModel.axis.grid.model);\n  !gridModel && yAxisModel && (gridModel = yAxisModel.axis.grid.model);\n  return gridModel && gridModel === targetInfo.gridModel;\n},\n// geo\nfunction (foundCpts, targetInfo) {\n  var geoModel = foundCpts.geoModel;\n  return geoModel && geoModel === targetInfo.geoModel;\n}];\nvar panelRectBuilders = {\n  grid: function () {\n    // grid is not Transformable.\n    return this.coordSys.master.getRect().clone();\n  },\n  geo: function () {\n    var coordSys = this.coordSys;\n    var rect = coordSys.getBoundingRect().clone();\n    // geo roam and zoom transform\n    rect.applyTransform(graphic.getTransform(coordSys));\n    return rect;\n  }\n};\nvar coordConvert = {\n  lineX: curry(axisConvert, 0),\n  lineY: curry(axisConvert, 1),\n  rect: function (to, coordSys, rangeOrCoordRange, clamp) {\n    var xminymin = to ? coordSys.pointToData([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]], clamp) : coordSys.dataToPoint([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]], clamp);\n    var xmaxymax = to ? coordSys.pointToData([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]], clamp) : coordSys.dataToPoint([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]], clamp);\n    var values = [formatMinMax([xminymin[0], xmaxymax[0]]), formatMinMax([xminymin[1], xmaxymax[1]])];\n    return {\n      values: values,\n      xyMinMax: values\n    };\n  },\n  polygon: function (to, coordSys, rangeOrCoordRange, clamp) {\n    var xyMinMax = [[Infinity, -Infinity], [Infinity, -Infinity]];\n    var values = map(rangeOrCoordRange, function (item) {\n      var p = to ? coordSys.pointToData(item, clamp) : coordSys.dataToPoint(item, clamp);\n      xyMinMax[0][0] = Math.min(xyMinMax[0][0], p[0]);\n      xyMinMax[1][0] = Math.min(xyMinMax[1][0], p[1]);\n      xyMinMax[0][1] = Math.max(xyMinMax[0][1], p[0]);\n      xyMinMax[1][1] = Math.max(xyMinMax[1][1], p[1]);\n      return p;\n    });\n    return {\n      values: values,\n      xyMinMax: xyMinMax\n    };\n  }\n};\nfunction axisConvert(axisNameIndex, to, coordSys, rangeOrCoordRange) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(coordSys.type === 'cartesian2d', 'lineX/lineY brush is available only in cartesian2d.');\n  }\n  var axis = coordSys.getAxis(['x', 'y'][axisNameIndex]);\n  var values = formatMinMax(map([0, 1], function (i) {\n    return to ? axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i]), true) : axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]));\n  }));\n  var xyMinMax = [];\n  xyMinMax[axisNameIndex] = values;\n  xyMinMax[1 - axisNameIndex] = [NaN, NaN];\n  return {\n    values: values,\n    xyMinMax: xyMinMax\n  };\n}\nvar diffProcessor = {\n  lineX: curry(axisDiffProcessor, 0),\n  lineY: curry(axisDiffProcessor, 1),\n  rect: function (values, refer, scales) {\n    return [[values[0][0] - scales[0] * refer[0][0], values[0][1] - scales[0] * refer[0][1]], [values[1][0] - scales[1] * refer[1][0], values[1][1] - scales[1] * refer[1][1]]];\n  },\n  polygon: function (values, refer, scales) {\n    return map(values, function (item, idx) {\n      return [item[0] - scales[0] * refer[idx][0], item[1] - scales[1] * refer[idx][1]];\n    });\n  }\n};\nfunction axisDiffProcessor(axisNameIndex, values, refer, scales) {\n  return [values[0] - scales[axisNameIndex] * refer[0], values[1] - scales[axisNameIndex] * refer[1]];\n}\n// We have to process scale caused by dataZoom manually,\n// although it might be not accurate.\n// Return [0~1, 0~1]\nfunction getScales(xyMinMaxCurr, xyMinMaxOrigin) {\n  var sizeCurr = getSize(xyMinMaxCurr);\n  var sizeOrigin = getSize(xyMinMaxOrigin);\n  var scales = [sizeCurr[0] / sizeOrigin[0], sizeCurr[1] / sizeOrigin[1]];\n  isNaN(scales[0]) && (scales[0] = 1);\n  isNaN(scales[1]) && (scales[1] = 1);\n  return scales;\n}\nfunction getSize(xyMinMax) {\n  return xyMinMax ? [xyMinMax[0][1] - xyMinMax[0][0], xyMinMax[1][1] - xyMinMax[1][0]] : [NaN, NaN];\n}\nexport default BrushTargetManager;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n// TODO depends on DataZoom and Brush\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BrushController from '../../helper/BrushController.js';\nimport BrushTargetManager from '../../helper/BrushTargetManager.js';\nimport * as history from '../../dataZoom/history.js';\nimport sliderMove from '../../helper/sliderMove.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { makeInternalComponentId, parseFinder } from '../../../util/model.js';\nimport { registerInternalOptionCreator } from '../../../model/internalComponentCreator.js';\nvar each = zrUtil.each;\nvar DATA_ZOOM_ID_BASE = makeInternalComponentId('toolbox-dataZoom_');\nvar ICON_TYPES = ['zoom', 'back'];\nvar DataZoomFeature = /** @class */function (_super) {\n  __extends(DataZoomFeature, _super);\n  function DataZoomFeature() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DataZoomFeature.prototype.render = function (featureModel, ecModel, api, payload) {\n    if (!this._brushController) {\n      this._brushController = new BrushController(api.getZr());\n      this._brushController.on('brush', zrUtil.bind(this._onBrush, this)).mount();\n    }\n    updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n    updateBackBtnStatus(featureModel, ecModel);\n  };\n  DataZoomFeature.prototype.onclick = function (ecModel, api, type) {\n    handlers[type].call(this);\n  };\n  DataZoomFeature.prototype.remove = function (ecModel, api) {\n    this._brushController && this._brushController.unmount();\n  };\n  DataZoomFeature.prototype.dispose = function (ecModel, api) {\n    this._brushController && this._brushController.dispose();\n  };\n  DataZoomFeature.prototype._onBrush = function (eventParam) {\n    var areas = eventParam.areas;\n    if (!eventParam.isEnd || !areas.length) {\n      return;\n    }\n    var snapshot = {};\n    var ecModel = this.ecModel;\n    this._brushController.updateCovers([]); // remove cover\n    var brushTargetManager = new BrushTargetManager(makeAxisFinder(this.model), ecModel, {\n      include: ['grid']\n    });\n    brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n      if (coordSys.type !== 'cartesian2d') {\n        return;\n      }\n      var brushType = area.brushType;\n      if (brushType === 'rect') {\n        setBatch('x', coordSys, coordRange[0]);\n        setBatch('y', coordSys, coordRange[1]);\n      } else {\n        setBatch({\n          lineX: 'x',\n          lineY: 'y'\n        }[brushType], coordSys, coordRange);\n      }\n    });\n    history.push(ecModel, snapshot);\n    this._dispatchZoomAction(snapshot);\n    function setBatch(dimName, coordSys, minMax) {\n      var axis = coordSys.getAxis(dimName);\n      var axisModel = axis.model;\n      var dataZoomModel = findDataZoom(dimName, axisModel, ecModel);\n      // Restrict range.\n      var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n      if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n        minMax = sliderMove(0, minMax.slice(), axis.scale.getExtent(), 0, minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan);\n      }\n      dataZoomModel && (snapshot[dataZoomModel.id] = {\n        dataZoomId: dataZoomModel.id,\n        startValue: minMax[0],\n        endValue: minMax[1]\n      });\n    }\n    function findDataZoom(dimName, axisModel, ecModel) {\n      var found;\n      ecModel.eachComponent({\n        mainType: 'dataZoom',\n        subType: 'select'\n      }, function (dzModel) {\n        var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n        has && (found = dzModel);\n      });\n      return found;\n    }\n  };\n  ;\n  DataZoomFeature.prototype._dispatchZoomAction = function (snapshot) {\n    var batch = [];\n    // Convert from hash map to array.\n    each(snapshot, function (batchItem, dataZoomId) {\n      batch.push(zrUtil.clone(batchItem));\n    });\n    batch.length && this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      batch: batch\n    });\n  };\n  DataZoomFeature.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      filterMode: 'filter',\n      // Icon group\n      icon: {\n        zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n        back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n      },\n      // `zoom`, `back`\n      title: ecModel.getLocaleModel().get(['toolbox', 'dataZoom', 'title']),\n      brushStyle: {\n        borderWidth: 0,\n        color: 'rgba(210,219,238,0.2)'\n      }\n    };\n    return defaultOption;\n  };\n  return DataZoomFeature;\n}(ToolboxFeature);\nvar handlers = {\n  zoom: function () {\n    var nextActive = !this._isZoomActive;\n    this.api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: nextActive\n    });\n  },\n  back: function () {\n    this._dispatchZoomAction(history.pop(this.ecModel));\n  }\n};\nfunction makeAxisFinder(dzFeatureModel) {\n  var setting = {\n    xAxisIndex: dzFeatureModel.get('xAxisIndex', true),\n    yAxisIndex: dzFeatureModel.get('yAxisIndex', true),\n    xAxisId: dzFeatureModel.get('xAxisId', true),\n    yAxisId: dzFeatureModel.get('yAxisId', true)\n  };\n  // If both `xAxisIndex` `xAxisId` not set, it means 'all'.\n  // If both `yAxisIndex` `yAxisId` not set, it means 'all'.\n  // Some old cases set like this below to close yAxis control but leave xAxis control:\n  // `{ feature: { dataZoom: { yAxisIndex: false } }`.\n  if (setting.xAxisIndex == null && setting.xAxisId == null) {\n    setting.xAxisIndex = 'all';\n  }\n  if (setting.yAxisIndex == null && setting.yAxisId == null) {\n    setting.yAxisIndex = 'all';\n  }\n  return setting;\n}\nfunction updateBackBtnStatus(featureModel, ecModel) {\n  featureModel.setIconStatus('back', history.count(ecModel) > 1 ? 'emphasis' : 'normal');\n}\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n  var zoomActive = view._isZoomActive;\n  if (payload && payload.type === 'takeGlobalCursor') {\n    zoomActive = payload.key === 'dataZoomSelect' ? payload.dataZoomSelectActive : false;\n  }\n  view._isZoomActive = zoomActive;\n  featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n  var brushTargetManager = new BrushTargetManager(makeAxisFinder(featureModel), ecModel, {\n    include: ['grid']\n  });\n  var panels = brushTargetManager.makePanelOpts(api, function (targetInfo) {\n    return targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared ? 'lineX' : !targetInfo.xAxisDeclared && targetInfo.yAxisDeclared ? 'lineY' : 'rect';\n  });\n  view._brushController.setPanels(panels).enableBrush(zoomActive && panels.length ? {\n    brushType: 'auto',\n    brushStyle: featureModel.getModel('brushStyle').getItemStyle()\n  } : false);\n}\nregisterInternalOptionCreator('dataZoom', function (ecModel) {\n  var toolboxModel = ecModel.getComponent('toolbox', 0);\n  var featureDataZoomPath = ['feature', 'dataZoom'];\n  if (!toolboxModel || toolboxModel.get(featureDataZoomPath) == null) {\n    return;\n  }\n  var dzFeatureModel = toolboxModel.getModel(featureDataZoomPath);\n  var dzOptions = [];\n  var finder = makeAxisFinder(dzFeatureModel);\n  var finderResult = parseFinder(ecModel, finder);\n  each(finderResult.xAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'xAxis', 'xAxisIndex');\n  });\n  each(finderResult.yAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'yAxis', 'yAxisIndex');\n  });\n  function buildInternalOptions(axisModel, axisMainType, axisIndexPropName) {\n    var axisIndex = axisModel.componentIndex;\n    var newOpt = {\n      type: 'select',\n      $fromToolbox: true,\n      // Default to be filter\n      filterMode: dzFeatureModel.get('filterMode', true) || 'filter',\n      // Id for merge mapping.\n      id: DATA_ZOOM_ID_BASE + axisMainType + axisIndex\n    };\n    newOpt[axisIndexPropName] = axisIndex;\n    dzOptions.push(newOpt);\n  }\n  return dzOptions;\n});\nexport default DataZoomFeature;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installDataZoomSelect } from '../../component/dataZoom/installDataZoomSelect.js';\nimport ToolboxModel from './ToolboxModel.js';\nimport ToolboxView from './ToolboxView.js';\n// TODOD: REGISTER IN INSTALL\nimport { registerFeature } from './featureManager.js';\nimport SaveAsImage from './feature/SaveAsImage.js';\nimport MagicType from './feature/MagicType.js';\nimport DataView from './feature/DataView.js';\nimport Restore from './feature/Restore.js';\nimport DataZoom from './feature/DataZoom.js';\nexport function install(registers) {\n  registers.registerComponentModel(ToolboxModel);\n  registers.registerComponentView(ToolboxView);\n  registerFeature('saveAsImage', SaveAsImage);\n  registerFeature('magicType', MagicType);\n  registerFeature('dataView', DataView);\n  registerFeature('dataZoom', DataZoom);\n  registerFeature('restore', Restore);\n  use(installDataZoomSelect);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nvar TooltipModel = /** @class */function (_super) {\n  __extends(TooltipModel, _super);\n  function TooltipModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TooltipModel.type;\n    return _this;\n  }\n  TooltipModel.type = 'tooltip';\n  TooltipModel.dependencies = ['axisPointer'];\n  TooltipModel.defaultOption = {\n    // zlevel: 0,\n    z: 60,\n    show: true,\n    // tooltip main content\n    showContent: true,\n    // 'trigger' only works on coordinate system.\n    // 'item' | 'axis' | 'none'\n    trigger: 'item',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: 'mousemove|click',\n    alwaysShowContent: false,\n    displayMode: 'single',\n    renderMode: 'auto',\n    // whether restraint content inside viewRect.\n    // If renderMode: 'richText', default true.\n    // If renderMode: 'html', defaut false (for backward compat).\n    confine: null,\n    showDelay: 0,\n    hideDelay: 100,\n    // Animation transition time, unit is second\n    transitionDuration: 0.4,\n    enterable: false,\n    backgroundColor: '#fff',\n    // box shadow\n    shadowBlur: 10,\n    shadowColor: 'rgba(0, 0, 0, .2)',\n    shadowOffsetX: 1,\n    shadowOffsetY: 2,\n    // tooltip border radius, unit is px, default is 4\n    borderRadius: 4,\n    // tooltip border width, unit is px, default is 0 (no border)\n    borderWidth: 1,\n    // Tooltip inside padding, default is 5 for all direction\n    // Array is allowed to set up, right, bottom, left, same with css\n    // The default value: See `tooltip/tooltipMarkup.ts#getPaddingFromTooltipModel`.\n    padding: null,\n    // Extra css text\n    extraCssText: '',\n    // axis indicator, trigger by axis\n    axisPointer: {\n      // default is line\n      // legal values: 'line' | 'shadow' | 'cross'\n      type: 'line',\n      // Valid when type is line, appoint tooltip line locate on which line. Optional\n      // legal values: 'x' | 'y' | 'angle' | 'radius' | 'auto'\n      // default is 'auto', chose the axis which type is category.\n      // for multiply y axis, cartesian coord chose x axis, polar chose angle axis\n      axis: 'auto',\n      animation: 'auto',\n      animationDurationUpdate: 200,\n      animationEasingUpdate: 'exponentialOut',\n      crossStyle: {\n        color: '#999',\n        width: 1,\n        type: 'dashed',\n        // TODO formatter\n        textStyle: {}\n      }\n      // lineStyle and shadowStyle should not be specified here,\n      // otherwise it will always override those styles on option.axisPointer.\n    },\n\n    textStyle: {\n      color: '#666',\n      fontSize: 14\n    }\n  };\n  return TooltipModel;\n}(ComponentModel);\nexport default TooltipModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { toCamelCase } from '../../util/format.js';\nimport env from 'zrender/lib/core/env.js';\n/* global document */\nexport function shouldTooltipConfine(tooltipModel) {\n  var confineOption = tooltipModel.get('confine');\n  return confineOption != null ? !!confineOption\n  // In richText mode, the outside part can not be visible.\n  : tooltipModel.get('renderMode') === 'richText';\n}\nfunction testStyle(styleProps) {\n  if (!env.domSupported) {\n    return;\n  }\n  var style = document.documentElement.style;\n  for (var i = 0, len = styleProps.length; i < len; i++) {\n    if (styleProps[i] in style) {\n      return styleProps[i];\n    }\n  }\n}\nexport var TRANSFORM_VENDOR = testStyle(['transform', 'webkitTransform', 'OTransform', 'MozTransform', 'msTransform']);\nexport var TRANSITION_VENDOR = testStyle(['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);\nexport function toCSSVendorPrefix(styleVendor, styleProp) {\n  if (!styleVendor) {\n    return styleProp;\n  }\n  styleProp = toCamelCase(styleProp, true);\n  var idx = styleVendor.indexOf(styleProp);\n  styleVendor = idx === -1 ? styleProp : \"-\" + styleVendor.slice(0, idx) + \"-\" + styleProp;\n  return styleVendor.toLowerCase();\n}\nexport function getComputedStyle(el, style) {\n  var stl = el.currentStyle || document.defaultView && document.defaultView.getComputedStyle(el);\n  return stl ? style ? stl[style] : stl : null;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isString, indexOf, each, bind, isFunction, isArray, isDom } from 'zrender/lib/core/util.js';\nimport { normalizeEvent } from 'zrender/lib/core/event.js';\nimport { transformLocalCoord } from 'zrender/lib/core/dom.js';\nimport env from 'zrender/lib/core/env.js';\nimport { convertToColorString, toCamelCase, normalizeCssArray } from '../../util/format.js';\nimport { shouldTooltipConfine, toCSSVendorPrefix, getComputedStyle, TRANSFORM_VENDOR, TRANSITION_VENDOR } from './helper.js';\nimport { getPaddingFromTooltipModel } from './tooltipMarkup.js';\n/* global document, window */\nvar CSS_TRANSITION_VENDOR = toCSSVendorPrefix(TRANSITION_VENDOR, 'transition');\nvar CSS_TRANSFORM_VENDOR = toCSSVendorPrefix(TRANSFORM_VENDOR, 'transform');\n// eslint-disable-next-line\nvar gCssText = \"position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;\" + (env.transform3dSupported ? 'will-change:transform;' : '');\nfunction mirrorPos(pos) {\n  pos = pos === 'left' ? 'right' : pos === 'right' ? 'left' : pos === 'top' ? 'bottom' : 'top';\n  return pos;\n}\nfunction assembleArrow(tooltipModel, borderColor, arrowPosition) {\n  if (!isString(arrowPosition) || arrowPosition === 'inside') {\n    return '';\n  }\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var borderWidth = tooltipModel.get('borderWidth');\n  borderColor = convertToColorString(borderColor);\n  var arrowPos = mirrorPos(arrowPosition);\n  var arrowSize = Math.max(Math.round(borderWidth) * 1.5, 6);\n  var positionStyle = '';\n  var transformStyle = CSS_TRANSFORM_VENDOR + ':';\n  var rotateDeg;\n  if (indexOf(['left', 'right'], arrowPos) > -1) {\n    positionStyle += 'top:50%';\n    transformStyle += \"translateY(-50%) rotate(\" + (rotateDeg = arrowPos === 'left' ? -225 : -45) + \"deg)\";\n  } else {\n    positionStyle += 'left:50%';\n    transformStyle += \"translateX(-50%) rotate(\" + (rotateDeg = arrowPos === 'top' ? 225 : 45) + \"deg)\";\n  }\n  var rotateRadian = rotateDeg * Math.PI / 180;\n  var arrowWH = arrowSize + borderWidth;\n  var rotatedWH = arrowWH * Math.abs(Math.cos(rotateRadian)) + arrowWH * Math.abs(Math.sin(rotateRadian));\n  var arrowOffset = Math.round(((rotatedWH - Math.SQRT2 * borderWidth) / 2 + Math.SQRT2 * borderWidth - (rotatedWH - arrowWH) / 2) * 100) / 100;\n  positionStyle += \";\" + arrowPos + \":-\" + arrowOffset + \"px\";\n  var borderStyle = borderColor + \" solid \" + borderWidth + \"px;\";\n  var styleCss = [\"position:absolute;width:\" + arrowSize + \"px;height:\" + arrowSize + \"px;z-index:-1;\", positionStyle + \";\" + transformStyle + \";\", \"border-bottom:\" + borderStyle, \"border-right:\" + borderStyle, \"background-color:\" + backgroundColor + \";\"];\n  return \"<div style=\\\"\" + styleCss.join('') + \"\\\"></div>\";\n}\nfunction assembleTransition(duration, onlyFade) {\n  var transitionCurve = 'cubic-bezier(0.23,1,0.32,1)';\n  var transitionOption = \" \" + duration / 2 + \"s \" + transitionCurve;\n  var transitionText = \"opacity\" + transitionOption + \",visibility\" + transitionOption;\n  if (!onlyFade) {\n    transitionOption = \" \" + duration + \"s \" + transitionCurve;\n    transitionText += env.transformSupported ? \",\" + CSS_TRANSFORM_VENDOR + transitionOption : \",left\" + transitionOption + \",top\" + transitionOption;\n  }\n  return CSS_TRANSITION_VENDOR + ':' + transitionText;\n}\nfunction assembleTransform(x, y, toString) {\n  // If using float on style, the final width of the dom might\n  // keep changing slightly while mouse move. So `toFixed(0)` them.\n  var x0 = x.toFixed(0) + 'px';\n  var y0 = y.toFixed(0) + 'px';\n  // not support transform, use `left` and `top` instead.\n  if (!env.transformSupported) {\n    return toString ? \"top:\" + y0 + \";left:\" + x0 + \";\" : [['top', y0], ['left', x0]];\n  }\n  // support transform\n  var is3d = env.transform3dSupported;\n  var translate = \"translate\" + (is3d ? '3d' : '') + \"(\" + x0 + \",\" + y0 + (is3d ? ',0' : '') + \")\";\n  return toString ? 'top:0;left:0;' + CSS_TRANSFORM_VENDOR + ':' + translate + ';' : [['top', 0], ['left', 0], [TRANSFORM_VENDOR, translate]];\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  fontSize\n  // @ts-ignore, leave it to the tooltip refactor.\n  && cssText.push('line-height:' + Math.round(fontSize * 3 / 2) + 'px');\n  var shadowColor = textStyleModel.get('textShadowColor');\n  var shadowBlur = textStyleModel.get('textShadowBlur') || 0;\n  var shadowOffsetX = textStyleModel.get('textShadowOffsetX') || 0;\n  var shadowOffsetY = textStyleModel.get('textShadowOffsetY') || 0;\n  shadowColor && shadowBlur && cssText.push('text-shadow:' + shadowOffsetX + 'px ' + shadowOffsetY + 'px ' + shadowBlur + 'px ' + shadowColor);\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\nfunction assembleCssText(tooltipModel, enableTransition, onlyFade) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var shadowBlur = tooltipModel.get('shadowBlur');\n  var shadowColor = tooltipModel.get('shadowColor');\n  var shadowOffsetX = tooltipModel.get('shadowOffsetX');\n  var shadowOffsetY = tooltipModel.get('shadowOffsetY');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = getPaddingFromTooltipModel(tooltipModel, 'html');\n  var boxShadow = shadowOffsetX + \"px \" + shadowOffsetY + \"px \" + shadowBlur + \"px \" + shadowColor;\n  cssText.push('box-shadow:' + boxShadow);\n  // Animation transition. Do not animate when transitionDuration is 0.\n  enableTransition && transitionDuration && cssText.push(assembleTransition(transitionDuration, onlyFade));\n  if (backgroundColor) {\n    cssText.push('background-color:' + backgroundColor);\n  }\n  // Border style\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  });\n  // Text style\n  cssText.push(assembleFont(textStyleModel));\n  // Padding\n  if (padding != null) {\n    cssText.push('padding:' + normalizeCssArray(padding).join('px ') + 'px');\n  }\n  return cssText.join(';') + ';';\n}\n// If not able to make, do not modify the input `out`.\nfunction makeStyleCoord(out, zr, container, zrX, zrY) {\n  var zrPainter = zr && zr.painter;\n  if (container) {\n    var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n    if (zrViewportRoot) {\n      // Some APPs might use scale on body, so we support CSS transform here.\n      transformLocalCoord(out, zrViewportRoot, container, zrX, zrY);\n    }\n  } else {\n    out[0] = zrX;\n    out[1] = zrY;\n    // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n    var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n    if (viewportRootOffset) {\n      out[0] += viewportRootOffset.offsetLeft;\n      out[1] += viewportRootOffset.offsetTop;\n    }\n  }\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\nvar TooltipHTMLContent = /** @class */function () {\n  function TooltipHTMLContent(api, opt) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._enterable = true;\n    this._alwaysShowContent = false;\n    this._firstShow = true;\n    this._longHide = true;\n    if (env.wxa) {\n      return null;\n    }\n    var el = document.createElement('div');\n    // TODO: TYPE\n    el.domBelongToZr = true;\n    this.el = el;\n    var zr = this._zr = api.getZr();\n    var appendTo = opt.appendTo;\n    var container = appendTo && (isString(appendTo) ? document.querySelector(appendTo) : isDom(appendTo) ? appendTo : isFunction(appendTo) && appendTo(api.getDom()));\n    makeStyleCoord(this._styleCoord, zr, container, api.getWidth() / 2, api.getHeight() / 2);\n    (container || api.getDom()).appendChild(el);\n    this._api = api;\n    this._container = container;\n    // FIXME\n    // Is it needed to trigger zr event manually if\n    // the browser do not support `pointer-events: none`.\n    var self = this;\n    el.onmouseenter = function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n      self._inContent = true;\n    };\n    el.onmousemove = function (e) {\n      e = e || window.event;\n      if (!self._enterable) {\n        // `pointer-events: none` is set to tooltip content div\n        // if `enterable` is set as `false`, and `el.onmousemove`\n        // can not be triggered. But in browser that do not\n        // support `pointer-events`, we need to do this:\n        // Try trigger zrender event to avoid mouse\n        // in and out shape too frequently\n        var handler = zr.handler;\n        var zrViewportRoot = zr.painter.getViewportRoot();\n        normalizeEvent(zrViewportRoot, e, true);\n        handler.dispatch('mousemove', e);\n      }\n    };\n    el.onmouseleave = function () {\n      // set `_inContent` to `false` before `hideLater`\n      self._inContent = false;\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n    };\n  }\n  /**\n   * Update when tooltip is rendered\n   */\n  TooltipHTMLContent.prototype.update = function (tooltipModel) {\n    // FIXME\n    // Move this logic to ec main?\n    if (!this._container) {\n      var container = this._api.getDom();\n      var position = getComputedStyle(container, 'position');\n      var domStyle = container.style;\n      if (domStyle.position !== 'absolute' && position !== 'absolute') {\n        domStyle.position = 'relative';\n      }\n    }\n    // move tooltip if chart resized\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized();\n    // update alwaysShowContent\n    this._alwaysShowContent = alwaysShowContent;\n    // update className\n    this.el.className = tooltipModel.get('className') || '';\n    // Hide the tooltip\n    // PENDING\n    // this.hide();\n  };\n\n  TooltipHTMLContent.prototype.show = function (tooltipModel, nearPointColor) {\n    clearTimeout(this._hideTimeout);\n    clearTimeout(this._longHideTimeout);\n    var el = this.el;\n    var style = el.style;\n    var styleCoord = this._styleCoord;\n    if (!el.innerHTML) {\n      style.display = 'none';\n    } else {\n      style.cssText = gCssText + assembleCssText(tooltipModel, !this._firstShow, this._longHide)\n      // initial transform\n      + assembleTransform(styleCoord[0], styleCoord[1], true) + (\"border-color:\" + convertToColorString(nearPointColor) + \";\") + (tooltipModel.get('extraCssText') || '')\n      // If mouse occasionally move over the tooltip, a mouseout event will be\n      // triggered by canvas, and cause some unexpectable result like dragging\n      // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n      // it. Although it is not supported by IE8~IE10, fortunately it is a rare\n      // scenario.\n      + (\";pointer-events:\" + (this._enterable ? 'auto' : 'none'));\n    }\n    this._show = true;\n    this._firstShow = false;\n    this._longHide = false;\n  };\n  TooltipHTMLContent.prototype.setContent = function (content, markers, tooltipModel, borderColor, arrowPosition) {\n    var el = this.el;\n    if (content == null) {\n      el.innerHTML = '';\n      return;\n    }\n    var arrow = '';\n    if (isString(arrowPosition) && tooltipModel.get('trigger') === 'item' && !shouldTooltipConfine(tooltipModel)) {\n      arrow = assembleArrow(tooltipModel, borderColor, arrowPosition);\n    }\n    if (isString(content)) {\n      el.innerHTML = content + arrow;\n    } else if (content) {\n      // Clear previous\n      el.innerHTML = '';\n      if (!isArray(content)) {\n        content = [content];\n      }\n      for (var i = 0; i < content.length; i++) {\n        if (isDom(content[i]) && content[i].parentNode !== el) {\n          el.appendChild(content[i]);\n        }\n      }\n      // no arrow if empty\n      if (arrow && el.childNodes.length) {\n        // no need to create a new parent element, but it's not supported by IE 10 and older.\n        // const arrowEl = document.createRange().createContextualFragment(arrow);\n        var arrowEl = document.createElement('div');\n        arrowEl.innerHTML = arrow;\n        el.appendChild(arrowEl);\n      }\n    }\n  };\n  TooltipHTMLContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n  TooltipHTMLContent.prototype.getSize = function () {\n    var el = this.el;\n    return [el.offsetWidth, el.offsetHeight];\n  };\n  TooltipHTMLContent.prototype.moveTo = function (zrX, zrY) {\n    var styleCoord = this._styleCoord;\n    makeStyleCoord(styleCoord, this._zr, this._container, zrX, zrY);\n    if (styleCoord[0] != null && styleCoord[1] != null) {\n      var style_1 = this.el.style;\n      var transforms = assembleTransform(styleCoord[0], styleCoord[1]);\n      each(transforms, function (transform) {\n        style_1[transform[0]] = transform[1];\n      });\n    }\n  };\n  /**\n   * when `alwaysShowContent` is true,\n   * move the tooltip after chart resized\n   */\n  TooltipHTMLContent.prototype._moveIfResized = function () {\n    // The ratio of left to width\n    var ratioX = this._styleCoord[2];\n    // The ratio of top to height\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n  TooltipHTMLContent.prototype.hide = function () {\n    var _this = this;\n    var style = this.el.style;\n    style.visibility = 'hidden';\n    style.opacity = '0';\n    env.transform3dSupported && (style.willChange = '');\n    this._show = false;\n    this._longHideTimeout = setTimeout(function () {\n      return _this._longHide = true;\n    }, 500);\n  };\n  TooltipHTMLContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {\n      if (time) {\n        this._hideDelay = time;\n        // Set show false to avoid invoke hideLater multiple times\n        this._show = false;\n        this._hideTimeout = setTimeout(bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n  TooltipHTMLContent.prototype.isShow = function () {\n    return this._show;\n  };\n  TooltipHTMLContent.prototype.dispose = function () {\n    clearTimeout(this._hideTimeout);\n    clearTimeout(this._longHideTimeout);\n    var parentNode = this.el.parentNode;\n    parentNode && parentNode.removeChild(this.el);\n    this.el = this._container = null;\n  };\n  return TooltipHTMLContent;\n}();\nexport default TooltipHTMLContent;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nimport { getPaddingFromTooltipModel } from './tooltipMarkup.js';\nimport { throwError } from '../../util/log.js';\nvar TooltipRichContent = /** @class */function () {\n  function TooltipRichContent(api) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._alwaysShowContent = false;\n    this._enterable = true;\n    this._zr = api.getZr();\n    makeStyleCoord(this._styleCoord, this._zr, api.getWidth() / 2, api.getHeight() / 2);\n  }\n  /**\n   * Update when tooltip is rendered\n   */\n  TooltipRichContent.prototype.update = function (tooltipModel) {\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized();\n    // update alwaysShowContent\n    this._alwaysShowContent = alwaysShowContent;\n  };\n  TooltipRichContent.prototype.show = function () {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n    this.el.show();\n    this._show = true;\n  };\n  /**\n   * Set tooltip content\n   */\n  TooltipRichContent.prototype.setContent = function (content, markupStyleCreator, tooltipModel, borderColor, arrowPosition) {\n    var _this = this;\n    if (zrUtil.isObject(content)) {\n      throwError(process.env.NODE_ENV !== 'production' ? 'Passing DOM nodes as content is not supported in richText tooltip!' : '');\n    }\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    this.el = new ZRText({\n      style: {\n        rich: markupStyleCreator.richTextStyles,\n        text: content,\n        lineHeight: 22,\n        borderWidth: 1,\n        borderColor: borderColor,\n        textShadowColor: textStyleModel.get('textShadowColor'),\n        fill: tooltipModel.get(['textStyle', 'color']),\n        padding: getPaddingFromTooltipModel(tooltipModel, 'richText'),\n        verticalAlign: 'top',\n        align: 'left'\n      },\n      z: tooltipModel.get('z')\n    });\n    zrUtil.each(['backgroundColor', 'borderRadius', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'], function (propName) {\n      _this.el.style[propName] = tooltipModel.get(propName);\n    });\n    zrUtil.each(['textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'], function (propName) {\n      _this.el.style[propName] = textStyleModel.get(propName) || 0;\n    });\n    this._zr.add(this.el);\n    var self = this;\n    this.el.on('mouseover', function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n      self._inContent = false;\n    });\n  };\n  TooltipRichContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n  TooltipRichContent.prototype.getSize = function () {\n    var el = this.el;\n    var bounding = this.el.getBoundingRect();\n    // bounding rect does not include shadow. For renderMode richText,\n    // if overflow, it will be cut. So calculate them accurately.\n    var shadowOuterSize = calcShadowOuterSize(el.style);\n    return [bounding.width + shadowOuterSize.left + shadowOuterSize.right, bounding.height + shadowOuterSize.top + shadowOuterSize.bottom];\n  };\n  TooltipRichContent.prototype.moveTo = function (x, y) {\n    var el = this.el;\n    if (el) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, x, y);\n      x = styleCoord[0];\n      y = styleCoord[1];\n      var style = el.style;\n      var borderWidth = mathMaxWith0(style.borderWidth || 0);\n      var shadowOuterSize = calcShadowOuterSize(style);\n      // rich text x, y do not include border.\n      el.x = x + borderWidth + shadowOuterSize.left;\n      el.y = y + borderWidth + shadowOuterSize.top;\n      el.markRedraw();\n    }\n  };\n  /**\n   * when `alwaysShowContent` is true,\n   * move the tooltip after chart resized\n   */\n  TooltipRichContent.prototype._moveIfResized = function () {\n    // The ratio of left to width\n    var ratioX = this._styleCoord[2];\n    // The ratio of top to height\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n  TooltipRichContent.prototype.hide = function () {\n    if (this.el) {\n      this.el.hide();\n    }\n    this._show = false;\n  };\n  TooltipRichContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {\n      if (time) {\n        this._hideDelay = time;\n        // Set show false to avoid invoke hideLater multiple times\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n  TooltipRichContent.prototype.isShow = function () {\n    return this._show;\n  };\n  TooltipRichContent.prototype.dispose = function () {\n    this._zr.remove(this.el);\n  };\n  return TooltipRichContent;\n}();\nfunction mathMaxWith0(val) {\n  return Math.max(0, val);\n}\nfunction calcShadowOuterSize(style) {\n  var shadowBlur = mathMaxWith0(style.shadowBlur || 0);\n  var shadowOffsetX = mathMaxWith0(style.shadowOffsetX || 0);\n  var shadowOffsetY = mathMaxWith0(style.shadowOffsetY || 0);\n  return {\n    left: mathMaxWith0(shadowBlur - shadowOffsetX),\n    right: mathMaxWith0(shadowBlur + shadowOffsetX),\n    top: mathMaxWith0(shadowBlur - shadowOffsetY),\n    bottom: mathMaxWith0(shadowBlur + shadowOffsetY)\n  };\n}\nfunction makeStyleCoord(out, zr, zrX, zrY) {\n  out[0] = zrX;\n  out[1] = zrY;\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\nexport default TooltipRichContent;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport { __extends } from \"tslib\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { bind, each, clone, trim, isString, isFunction, isArray, isObject, extend } from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport TooltipHTMLContent from './TooltipHTMLContent.js';\nimport TooltipRichContent from './TooltipRichContent.js';\nimport { convertToColorString, formatTpl } from '../../util/format.js';\nimport { parsePercent } from '../../util/number.js';\nimport { Rect } from '../../util/graphic.js';\nimport findPointFromSeries from '../axisPointer/findPointFromSeries.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport Model from '../../model/Model.js';\nimport * as globalListener from '../axisPointer/globalListener.js';\nimport * as axisHelper from '../../coord/axisHelper.js';\nimport * as axisPointerViewHelper from '../axisPointer/viewHelper.js';\nimport { getTooltipRenderMode, preParseFinder, queryReferringComponents } from '../../util/model.js';\nimport ComponentView from '../../view/Component.js';\nimport { format as timeFormat } from '../../util/time.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { shouldTooltipConfine } from './helper.js';\nimport { normalizeTooltipFormatResult } from '../../model/mixin/dataFormat.js';\nimport { createTooltipMarkup, buildTooltipMarkup, TooltipMarkupStyleCreator } from './tooltipMarkup.js';\nimport { findEventDispatcher } from '../../util/event.js';\nimport { clear, createOrUpdate } from '../../util/throttle.js';\nvar proxyRect = new Rect({\n  shape: {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  }\n});\nvar TooltipView = /** @class */function (_super) {\n  __extends(TooltipView, _super);\n  function TooltipView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TooltipView.type;\n    return _this;\n  }\n  TooltipView.prototype.init = function (ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    }\n    var tooltipModel = ecModel.getComponent('tooltip');\n    var renderMode = this._renderMode = getTooltipRenderMode(tooltipModel.get('renderMode'));\n    this._tooltipContent = renderMode === 'richText' ? new TooltipRichContent(api) : new TooltipHTMLContent(api, {\n      appendTo: tooltipModel.get('appendToBody', true) ? 'body' : tooltipModel.get('appendTo', true)\n    });\n  };\n  TooltipView.prototype.render = function (tooltipModel, ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    }\n    // Reset\n    this.group.removeAll();\n    this._tooltipModel = tooltipModel;\n    this._ecModel = ecModel;\n    this._api = api;\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.update(tooltipModel);\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n    this._initGlobalListener();\n    this._keepShow();\n    // PENDING\n    // `mousemove` event will be triggered very frequently when the mouse moves fast,\n    // which causes that the `updatePosition` function was also called frequently.\n    // In Chrome with devtools open and Firefox, tooltip looks laggy and shakes. See #14695 #16101\n    // To avoid frequent triggering,\n    // consider throttling it in 50ms when transition is enabled\n    if (this._renderMode !== 'richText' && tooltipModel.get('transitionDuration')) {\n      createOrUpdate(this, '_updatePosition', 50, 'fixRate');\n    } else {\n      clear(this, '_updatePosition');\n    }\n  };\n  TooltipView.prototype._initGlobalListener = function () {\n    var tooltipModel = this._tooltipModel;\n    var triggerOn = tooltipModel.get('triggerOn');\n    globalListener.register('itemTooltip', this._api, bind(function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none') {\n        if (triggerOn.indexOf(currTrigger) >= 0) {\n          this._tryShow(e, dispatchAction);\n        } else if (currTrigger === 'leave') {\n          this._hide(dispatchAction);\n        }\n      }\n    }, this));\n  };\n  TooltipView.prototype._keepShow = function () {\n    var tooltipModel = this._tooltipModel;\n    var ecModel = this._ecModel;\n    var api = this._api;\n    var triggerOn = tooltipModel.get('triggerOn');\n    // Try to keep the tooltip show when refreshing\n    if (this._lastX != null && this._lastY != null\n    // When user is willing to control tooltip totally using API,\n    // self.manuallyShowTip({x, y}) might cause tooltip hide,\n    // which is not expected.\n    && triggerOn !== 'none' && triggerOn !== 'click') {\n      var self_1 = this;\n      clearTimeout(this._refreshUpdateTimeout);\n      this._refreshUpdateTimeout = setTimeout(function () {\n        // Show tip next tick after other charts are rendered\n        // In case highlight action has wrong result\n        // FIXME\n        !api.isDisposed() && self_1.manuallyShowTip(tooltipModel, ecModel, api, {\n          x: self_1._lastX,\n          y: self_1._lastY,\n          dataByCoordSys: self_1._lastDataByCoordSys\n        });\n      });\n    }\n  };\n  /**\n   * Show tip manually by\n   * dispatchAction({\n   *     type: 'showTip',\n   *     x: 10,\n   *     y: 10\n   * });\n   * Or\n   * dispatchAction({\n   *      type: 'showTip',\n   *      seriesIndex: 0,\n   *      dataIndex or dataIndexInside or name\n   * });\n   *\n   *  TODO Batch\n   */\n  TooltipView.prototype.manuallyShowTip = function (tooltipModel, ecModel, api, payload) {\n    if (payload.from === this.uid || env.node || !api.getDom()) {\n      return;\n    }\n    var dispatchAction = makeDispatchAction(payload, api);\n    // Reset ticket\n    this._ticket = '';\n    // When triggered from axisPointer.\n    var dataByCoordSys = payload.dataByCoordSys;\n    var cmptRef = findComponentReference(payload, ecModel, api);\n    if (cmptRef) {\n      var rect = cmptRef.el.getBoundingRect().clone();\n      rect.applyTransform(cmptRef.el.transform);\n      this._tryShow({\n        offsetX: rect.x + rect.width / 2,\n        offsetY: rect.y + rect.height / 2,\n        target: cmptRef.el,\n        position: payload.position,\n        // When manully trigger, the mouse is not on the el, so we'd better to\n        // position tooltip on the bottom of the el and display arrow is possible.\n        positionDefault: 'bottom'\n      }, dispatchAction);\n    } else if (payload.tooltip && payload.x != null && payload.y != null) {\n      var el = proxyRect;\n      el.x = payload.x;\n      el.y = payload.y;\n      el.update();\n      getECData(el).tooltipConfig = {\n        name: null,\n        option: payload.tooltip\n      };\n      // Manually show tooltip while view is not using zrender elements.\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        target: el\n      }, dispatchAction);\n    } else if (dataByCoordSys) {\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        dataByCoordSys: dataByCoordSys,\n        tooltipOption: payload.tooltipOption\n      }, dispatchAction);\n    } else if (payload.seriesIndex != null) {\n      if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n        return;\n      }\n      var pointInfo = findPointFromSeries(payload, ecModel);\n      var cx = pointInfo.point[0];\n      var cy = pointInfo.point[1];\n      if (cx != null && cy != null) {\n        this._tryShow({\n          offsetX: cx,\n          offsetY: cy,\n          target: pointInfo.el,\n          position: payload.position,\n          // When manully trigger, the mouse is not on the el, so we'd better to\n          // position tooltip on the bottom of the el and display arrow is possible.\n          positionDefault: 'bottom'\n        }, dispatchAction);\n      }\n    } else if (payload.x != null && payload.y != null) {\n      // FIXME\n      // should wrap dispatchAction like `axisPointer/globalListener` ?\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payload.x,\n        y: payload.y\n      });\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        target: api.getZr().findHover(payload.x, payload.y).target\n      }, dispatchAction);\n    }\n  };\n  TooltipView.prototype.manuallyHideTip = function (tooltipModel, ecModel, api, payload) {\n    var tooltipContent = this._tooltipContent;\n    if (this._tooltipModel) {\n      tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n    }\n    this._lastX = this._lastY = this._lastDataByCoordSys = null;\n    if (payload.from !== this.uid) {\n      this._hide(makeDispatchAction(payload, api));\n    }\n  };\n  // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n  // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n  // and tooltip.\n  TooltipView.prototype._manuallyAxisShowTip = function (tooltipModel, ecModel, api, payload) {\n    var seriesIndex = payload.seriesIndex;\n    var dataIndex = payload.dataIndex;\n    // @ts-ignore\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n    if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n      return;\n    }\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    if (!seriesModel) {\n      return;\n    }\n    var data = seriesModel.getData();\n    var tooltipCascadedModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model], this._tooltipModel);\n    if (tooltipCascadedModel.get('trigger') !== 'axis') {\n      return;\n    }\n    api.dispatchAction({\n      type: 'updateAxisPointer',\n      seriesIndex: seriesIndex,\n      dataIndex: dataIndex,\n      position: payload.position\n    });\n    return true;\n  };\n  TooltipView.prototype._tryShow = function (e, dispatchAction) {\n    var el = e.target;\n    var tooltipModel = this._tooltipModel;\n    if (!tooltipModel) {\n      return;\n    }\n    // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n    this._lastX = e.offsetX;\n    this._lastY = e.offsetY;\n    var dataByCoordSys = e.dataByCoordSys;\n    if (dataByCoordSys && dataByCoordSys.length) {\n      this._showAxisTooltip(dataByCoordSys, e);\n    } else if (el) {\n      var ecData = getECData(el);\n      if (ecData.ssrType === 'legend') {\n        // Don't trigger tooltip for legend tooltip item\n        return;\n      }\n      this._lastDataByCoordSys = null;\n      var seriesDispatcher_1;\n      var cmptDispatcher_1;\n      findEventDispatcher(el, function (target) {\n        // Always show item tooltip if mouse is on the element with dataIndex\n        if (getECData(target).dataIndex != null) {\n          seriesDispatcher_1 = target;\n          return true;\n        }\n        // Tooltip provided directly. Like legend.\n        if (getECData(target).tooltipConfig != null) {\n          cmptDispatcher_1 = target;\n          return true;\n        }\n      }, true);\n      if (seriesDispatcher_1) {\n        this._showSeriesItemTooltip(e, seriesDispatcher_1, dispatchAction);\n      } else if (cmptDispatcher_1) {\n        this._showComponentItemTooltip(e, cmptDispatcher_1, dispatchAction);\n      } else {\n        this._hide(dispatchAction);\n      }\n    } else {\n      this._lastDataByCoordSys = null;\n      this._hide(dispatchAction);\n    }\n  };\n  TooltipView.prototype._showOrMove = function (tooltipModel, cb) {\n    // showDelay is used in this case: tooltip.enterable is set\n    // as true. User intent to move mouse into tooltip and click\n    // something. `showDelay` makes it easier to enter the content\n    // but tooltip do not move immediately.\n    var delay = tooltipModel.get('showDelay');\n    cb = bind(cb, this);\n    clearTimeout(this._showTimout);\n    delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n  };\n  TooltipView.prototype._showAxisTooltip = function (dataByCoordSys, e) {\n    var ecModel = this._ecModel;\n    var globalTooltipModel = this._tooltipModel;\n    var point = [e.offsetX, e.offsetY];\n    var singleTooltipModel = buildTooltipModel([e.tooltipOption], globalTooltipModel);\n    var renderMode = this._renderMode;\n    var cbParamsList = [];\n    var articleMarkup = createTooltipMarkup('section', {\n      blocks: [],\n      noHeader: true\n    });\n    // Only for legacy: `Serise['formatTooltip']` returns a string.\n    var markupTextArrLegacy = [];\n    var markupStyleCreator = new TooltipMarkupStyleCreator();\n    each(dataByCoordSys, function (itemCoordSys) {\n      each(itemCoordSys.dataByAxis, function (axisItem) {\n        var axisModel = ecModel.getComponent(axisItem.axisDim + 'Axis', axisItem.axisIndex);\n        var axisValue = axisItem.value;\n        if (!axisModel || axisValue == null) {\n          return;\n        }\n        var axisValueLabel = axisPointerViewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, axisItem.seriesDataIndices, axisItem.valueLabelOpt);\n        var axisSectionMarkup = createTooltipMarkup('section', {\n          header: axisValueLabel,\n          noHeader: !trim(axisValueLabel),\n          sortBlocks: true,\n          blocks: []\n        });\n        articleMarkup.blocks.push(axisSectionMarkup);\n        each(axisItem.seriesDataIndices, function (idxItem) {\n          var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n          var dataIndex = idxItem.dataIndexInside;\n          var cbParams = series.getDataParams(dataIndex);\n          // Can't find data.\n          if (cbParams.dataIndex < 0) {\n            return;\n          }\n          cbParams.axisDim = axisItem.axisDim;\n          cbParams.axisIndex = axisItem.axisIndex;\n          cbParams.axisType = axisItem.axisType;\n          cbParams.axisId = axisItem.axisId;\n          cbParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, {\n            value: axisValue\n          });\n          cbParams.axisValueLabel = axisValueLabel;\n          // Pre-create marker style for makers. Users can assemble richText\n          // text in `formatter` callback and use those markers style.\n          cbParams.marker = markupStyleCreator.makeTooltipMarker('item', convertToColorString(cbParams.color), renderMode);\n          var seriesTooltipResult = normalizeTooltipFormatResult(series.formatTooltip(dataIndex, true, null));\n          var frag = seriesTooltipResult.frag;\n          if (frag) {\n            var valueFormatter = buildTooltipModel([series], globalTooltipModel).get('valueFormatter');\n            axisSectionMarkup.blocks.push(valueFormatter ? extend({\n              valueFormatter: valueFormatter\n            }, frag) : frag);\n          }\n          if (seriesTooltipResult.text) {\n            markupTextArrLegacy.push(seriesTooltipResult.text);\n          }\n          cbParamsList.push(cbParams);\n        });\n      });\n    });\n    // In most cases, the second axis is displays upper on the first one.\n    // So we reverse it to look better.\n    articleMarkup.blocks.reverse();\n    markupTextArrLegacy.reverse();\n    var positionExpr = e.position;\n    var orderMode = singleTooltipModel.get('order');\n    var builtMarkupText = buildTooltipMarkup(articleMarkup, markupStyleCreator, renderMode, orderMode, ecModel.get('useUTC'), singleTooltipModel.get('textStyle'));\n    builtMarkupText && markupTextArrLegacy.unshift(builtMarkupText);\n    var blockBreak = renderMode === 'richText' ? '\\n\\n' : '<br/>';\n    var allMarkupText = markupTextArrLegacy.join(blockBreak);\n    this._showOrMove(singleTooltipModel, function () {\n      if (this._updateContentNotChangedOnAxis(dataByCoordSys, cbParamsList)) {\n        this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, cbParamsList);\n      } else {\n        this._showTooltipContent(singleTooltipModel, allMarkupText, cbParamsList, Math.random() + '', point[0], point[1], positionExpr, null, markupStyleCreator);\n      }\n    });\n    // Do not trigger events here, because this branch only be entered\n    // from dispatchAction.\n  };\n\n  TooltipView.prototype._showSeriesItemTooltip = function (e, dispatcher, dispatchAction) {\n    var ecModel = this._ecModel;\n    var ecData = getECData(dispatcher);\n    // Use dataModel in element if possible\n    // Used when mouseover on a element like markPoint or edge\n    // In which case, the data is not main data in series.\n    var seriesIndex = ecData.seriesIndex;\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    // For example, graph link.\n    var dataModel = ecData.dataModel || seriesModel;\n    var dataIndex = ecData.dataIndex;\n    var dataType = ecData.dataType;\n    var data = dataModel.getData(dataType);\n    var renderMode = this._renderMode;\n    var positionDefault = e.positionDefault;\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model], this._tooltipModel, positionDefault ? {\n      position: positionDefault\n    } : null);\n    var tooltipTrigger = tooltipModel.get('trigger');\n    if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n      return;\n    }\n    var params = dataModel.getDataParams(dataIndex, dataType);\n    var markupStyleCreator = new TooltipMarkupStyleCreator();\n    // Pre-create marker style for makers. Users can assemble richText\n    // text in `formatter` callback and use those markers style.\n    params.marker = markupStyleCreator.makeTooltipMarker('item', convertToColorString(params.color), renderMode);\n    var seriesTooltipResult = normalizeTooltipFormatResult(dataModel.formatTooltip(dataIndex, false, dataType));\n    var orderMode = tooltipModel.get('order');\n    var valueFormatter = tooltipModel.get('valueFormatter');\n    var frag = seriesTooltipResult.frag;\n    var markupText = frag ? buildTooltipMarkup(valueFormatter ? extend({\n      valueFormatter: valueFormatter\n    }, frag) : frag, markupStyleCreator, renderMode, orderMode, ecModel.get('useUTC'), tooltipModel.get('textStyle')) : seriesTooltipResult.text;\n    var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n    this._showOrMove(tooltipModel, function () {\n      this._showTooltipContent(tooltipModel, markupText, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markupStyleCreator);\n    });\n    // FIXME\n    // duplicated showtip if manuallyShowTip is called from dispatchAction.\n    dispatchAction({\n      type: 'showTip',\n      dataIndexInside: dataIndex,\n      dataIndex: data.getRawIndex(dataIndex),\n      seriesIndex: seriesIndex,\n      from: this.uid\n    });\n  };\n  TooltipView.prototype._showComponentItemTooltip = function (e, el, dispatchAction) {\n    var ecData = getECData(el);\n    var tooltipConfig = ecData.tooltipConfig;\n    var tooltipOpt = tooltipConfig.option || {};\n    if (isString(tooltipOpt)) {\n      var content = tooltipOpt;\n      tooltipOpt = {\n        content: content,\n        // Fixed formatter\n        formatter: content\n      };\n    }\n    var tooltipModelCascade = [tooltipOpt];\n    var cmpt = this._ecModel.getComponent(ecData.componentMainType, ecData.componentIndex);\n    if (cmpt) {\n      tooltipModelCascade.push(cmpt);\n    }\n    // In most cases, component tooltip formatter has different params with series tooltip formatter,\n    // so that they cannot share the same formatter. Since the global tooltip formatter is used for series\n    // by convention, we do not use it as the default formatter for component.\n    tooltipModelCascade.push({\n      formatter: tooltipOpt.content\n    });\n    var positionDefault = e.positionDefault;\n    var subTooltipModel = buildTooltipModel(tooltipModelCascade, this._tooltipModel, positionDefault ? {\n      position: positionDefault\n    } : null);\n    var defaultHtml = subTooltipModel.get('content');\n    var asyncTicket = Math.random() + '';\n    // PENDING: this case do not support richText style yet.\n    var markupStyleCreator = new TooltipMarkupStyleCreator();\n    // Do not check whether `trigger` is 'none' here, because `trigger`\n    // only works on coordinate system. In fact, we have not found case\n    // that requires setting `trigger` nothing on component yet.\n    this._showOrMove(subTooltipModel, function () {\n      // Use formatterParams from element defined in component\n      // Avoid users modify it.\n      var formatterParams = clone(subTooltipModel.get('formatterParams') || {});\n      this._showTooltipContent(subTooltipModel, defaultHtml, formatterParams, asyncTicket, e.offsetX, e.offsetY, e.position, el, markupStyleCreator);\n    });\n    // If not dispatch showTip, tip may be hide triggered by axis.\n    dispatchAction({\n      type: 'showTip',\n      from: this.uid\n    });\n  };\n  TooltipView.prototype._showTooltipContent = function (\n  // Use Model<TooltipOption> insteadof TooltipModel because this model may be from series or other options.\n  // Instead of top level tooltip.\n  tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markupStyleCreator) {\n    // Reset ticket\n    this._ticket = '';\n    if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n      return;\n    }\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n    var formatter = tooltipModel.get('formatter');\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var html = defaultHtml;\n    var nearPoint = this._getNearestPoint([x, y], params, tooltipModel.get('trigger'), tooltipModel.get('borderColor'));\n    var nearPointColor = nearPoint.color;\n    if (formatter) {\n      if (isString(formatter)) {\n        var useUTC = tooltipModel.ecModel.get('useUTC');\n        var params0 = isArray(params) ? params[0] : params;\n        var isTimeAxis = params0 && params0.axisType && params0.axisType.indexOf('time') >= 0;\n        html = formatter;\n        if (isTimeAxis) {\n          html = timeFormat(params0.axisValue, html, useUTC);\n        }\n        html = formatTpl(html, params, true);\n      } else if (isFunction(formatter)) {\n        var callback = bind(function (cbTicket, html) {\n          if (cbTicket === this._ticket) {\n            tooltipContent.setContent(html, markupStyleCreator, tooltipModel, nearPointColor, positionExpr);\n            this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n          }\n        }, this);\n        this._ticket = asyncTicket;\n        html = formatter(params, asyncTicket, callback);\n      } else {\n        html = formatter;\n      }\n    }\n    tooltipContent.setContent(html, markupStyleCreator, tooltipModel, nearPointColor, positionExpr);\n    tooltipContent.show(tooltipModel, nearPointColor);\n    this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n  };\n  TooltipView.prototype._getNearestPoint = function (point, tooltipDataParams, trigger, borderColor) {\n    if (trigger === 'axis' || isArray(tooltipDataParams)) {\n      return {\n        color: borderColor || (this._renderMode === 'html' ? '#fff' : 'none')\n      };\n    }\n    if (!isArray(tooltipDataParams)) {\n      return {\n        color: borderColor || tooltipDataParams.color || tooltipDataParams.borderColor\n      };\n    }\n  };\n  TooltipView.prototype._updatePosition = function (tooltipModel, positionExpr, x,\n  // Mouse x\n  y,\n  // Mouse y\n  content, params, el) {\n    var viewWidth = this._api.getWidth();\n    var viewHeight = this._api.getHeight();\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var contentSize = content.getSize();\n    var align = tooltipModel.get('align');\n    var vAlign = tooltipModel.get('verticalAlign');\n    var rect = el && el.getBoundingRect().clone();\n    el && rect.applyTransform(el.transform);\n    if (isFunction(positionExpr)) {\n      // Callback of position can be an array or a string specify the position\n      positionExpr = positionExpr([x, y], params, content.el, rect, {\n        viewSize: [viewWidth, viewHeight],\n        contentSize: contentSize.slice()\n      });\n    }\n    if (isArray(positionExpr)) {\n      x = parsePercent(positionExpr[0], viewWidth);\n      y = parsePercent(positionExpr[1], viewHeight);\n    } else if (isObject(positionExpr)) {\n      var boxLayoutPosition = positionExpr;\n      boxLayoutPosition.width = contentSize[0];\n      boxLayoutPosition.height = contentSize[1];\n      var layoutRect = getLayoutRect(boxLayoutPosition, {\n        width: viewWidth,\n        height: viewHeight\n      });\n      x = layoutRect.x;\n      y = layoutRect.y;\n      align = null;\n      // When positionExpr is left/top/right/bottom,\n      // align and verticalAlign will not work.\n      vAlign = null;\n    }\n    // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n    else if (isString(positionExpr) && el) {\n      var pos = calcTooltipPosition(positionExpr, rect, contentSize, tooltipModel.get('borderWidth'));\n      x = pos[0];\n      y = pos[1];\n    } else {\n      var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n      x = pos[0];\n      y = pos[1];\n    }\n    align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n    vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n    if (shouldTooltipConfine(tooltipModel)) {\n      var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n      x = pos[0];\n      y = pos[1];\n    }\n    content.moveTo(x, y);\n  };\n  // FIXME\n  // Should we remove this but leave this to user?\n  TooltipView.prototype._updateContentNotChangedOnAxis = function (dataByCoordSys, cbParamsList) {\n    var lastCoordSys = this._lastDataByCoordSys;\n    var lastCbParamsList = this._cbParamsList;\n    var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n    contentNotChanged && each(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n      var lastDataByAxis = lastItemCoordSys.dataByAxis || [];\n      var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n      var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n      contentNotChanged = contentNotChanged && lastDataByAxis.length === thisDataByAxis.length;\n      contentNotChanged && each(lastDataByAxis, function (lastItem, indexAxis) {\n        var thisItem = thisDataByAxis[indexAxis] || {};\n        var lastIndices = lastItem.seriesDataIndices || [];\n        var newIndices = thisItem.seriesDataIndices || [];\n        contentNotChanged = contentNotChanged && lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n        contentNotChanged && each(lastIndices, function (lastIdxItem, j) {\n          var newIdxItem = newIndices[j];\n          contentNotChanged = contentNotChanged && lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n        });\n        // check is cbParams data value changed\n        lastCbParamsList && each(lastItem.seriesDataIndices, function (idxItem) {\n          var seriesIdx = idxItem.seriesIndex;\n          var cbParams = cbParamsList[seriesIdx];\n          var lastCbParams = lastCbParamsList[seriesIdx];\n          if (cbParams && lastCbParams && lastCbParams.data !== cbParams.data) {\n            contentNotChanged = false;\n          }\n        });\n      });\n    });\n    this._lastDataByCoordSys = dataByCoordSys;\n    this._cbParamsList = cbParamsList;\n    return !!contentNotChanged;\n  };\n  TooltipView.prototype._hide = function (dispatchAction) {\n    // Do not directly hideLater here, because this behavior may be prevented\n    // in dispatchAction when showTip is dispatched.\n    // FIXME\n    // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n    this._lastDataByCoordSys = null;\n    dispatchAction({\n      type: 'hideTip',\n      from: this.uid\n    });\n  };\n  TooltipView.prototype.dispose = function (ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    }\n    clear(this, '_updatePosition');\n    this._tooltipContent.dispose();\n    globalListener.unregister('itemTooltip', api);\n  };\n  TooltipView.type = 'tooltip';\n  return TooltipView;\n}(ComponentView);\n/**\n * From top to bottom. (the last one should be globalTooltipModel);\n */\nfunction buildTooltipModel(modelCascade, globalTooltipModel, defaultTooltipOption) {\n  // Last is always tooltip model.\n  var ecModel = globalTooltipModel.ecModel;\n  var resultModel;\n  if (defaultTooltipOption) {\n    resultModel = new Model(defaultTooltipOption, ecModel, ecModel);\n    resultModel = new Model(globalTooltipModel.option, resultModel, ecModel);\n  } else {\n    resultModel = globalTooltipModel;\n  }\n  for (var i = modelCascade.length - 1; i >= 0; i--) {\n    var tooltipOpt = modelCascade[i];\n    if (tooltipOpt) {\n      if (tooltipOpt instanceof Model) {\n        tooltipOpt = tooltipOpt.get('tooltip', true);\n      }\n      // In each data item tooltip can be simply write:\n      // {\n      //  value: 10,\n      //  tooltip: 'Something you need to know'\n      // }\n      if (isString(tooltipOpt)) {\n        tooltipOpt = {\n          formatter: tooltipOpt\n        };\n      }\n      if (tooltipOpt) {\n        resultModel = new Model(tooltipOpt, resultModel, ecModel);\n      }\n    }\n  }\n  return resultModel;\n}\nfunction makeDispatchAction(payload, api) {\n  return payload.dispatchAction || bind(api.dispatchAction, api);\n}\nfunction refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n  var size = content.getSize();\n  var width = size[0];\n  var height = size[1];\n  if (gapH != null) {\n    // Add extra 2 pixels for this case:\n    // At present the \"values\" in default tooltip are using CSS `float: right`.\n    // When the right edge of the tooltip box is on the right side of the\n    // viewport, the `float` layout might push the \"values\" to the second line.\n    if (x + width + gapH + 2 > viewWidth) {\n      x -= width + gapH;\n    } else {\n      x += gapH;\n    }\n  }\n  if (gapV != null) {\n    if (y + height + gapV > viewHeight) {\n      y -= height + gapV;\n    } else {\n      y += gapV;\n    }\n  }\n  return [x, y];\n}\nfunction confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n  var size = content.getSize();\n  var width = size[0];\n  var height = size[1];\n  x = Math.min(x + width, viewWidth) - width;\n  y = Math.min(y + height, viewHeight) - height;\n  x = Math.max(x, 0);\n  y = Math.max(y, 0);\n  return [x, y];\n}\nfunction calcTooltipPosition(position, rect, contentSize, borderWidth) {\n  var domWidth = contentSize[0];\n  var domHeight = contentSize[1];\n  var offset = Math.ceil(Math.SQRT2 * borderWidth) + 8;\n  var x = 0;\n  var y = 0;\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n  switch (position) {\n    case 'inside':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n    case 'top':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y - domHeight - offset;\n      break;\n    case 'bottom':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight + offset;\n      break;\n    case 'left':\n      x = rect.x - domWidth - offset;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n    case 'right':\n      x = rect.x + rectWidth + offset;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n  }\n  return [x, y];\n}\nfunction isCenterAlign(align) {\n  return align === 'center' || align === 'middle';\n}\n/**\n * Find target component by payload like:\n * ```js\n * { legendId: 'some_id', name: 'xxx' }\n * { toolboxIndex: 1, name: 'xxx' }\n * { geoName: 'some_name', name: 'xxx' }\n * ```\n * PENDING: at present only\n *\n * If not found, return null/undefined.\n */\nfunction findComponentReference(payload, ecModel, api) {\n  var queryOptionMap = preParseFinder(payload).queryOptionMap;\n  var componentMainType = queryOptionMap.keys()[0];\n  if (!componentMainType || componentMainType === 'series') {\n    return;\n  }\n  var queryResult = queryReferringComponents(ecModel, componentMainType, queryOptionMap.get(componentMainType), {\n    useDefault: false,\n    enableAll: false,\n    enableNone: false\n  });\n  var model = queryResult.models[0];\n  if (!model) {\n    return;\n  }\n  var view = api.getViewOfComponentModel(model);\n  var el;\n  view.group.traverse(function (subEl) {\n    var tooltipConfig = getECData(subEl).tooltipConfig;\n    if (tooltipConfig && tooltipConfig.name === payload.name) {\n      el = subEl;\n      return true; // stop\n    }\n  });\n\n  if (el) {\n    return {\n      componentMainType: componentMainType,\n      componentIndex: model.componentIndex,\n      el: el\n    };\n  }\n}\nexport default TooltipView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { install as installAxisPointer } from '../axisPointer/install.js';\nimport { use } from '../../extension.js';\nimport TooltipModel from './TooltipModel.js';\nimport TooltipView from './TooltipView.js';\nimport { noop } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  use(installAxisPointer);\n  registers.registerComponentModel(TooltipModel);\n  registers.registerComponentView(TooltipView);\n  /**\n   * @action\n   * @property {string} type\n   * @property {number} seriesIndex\n   * @property {number} dataIndex\n   * @property {number} [x]\n   * @property {number} [y]\n   */\n  registers.registerAction({\n    type: 'showTip',\n    event: 'showTip',\n    update: 'tooltip:manuallyShowTip'\n  }, noop);\n  registers.registerAction({\n    type: 'hideTip',\n    event: 'hideTip',\n    update: 'tooltip:manuallyHideTip'\n  }, noop);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { normalizeToArray } from '../../util/model.js';\nvar DEFAULT_TOOLBOX_BTNS = ['rect', 'polygon', 'keep', 'clear'];\nexport default function brushPreprocessor(option, isNew) {\n  var brushComponents = normalizeToArray(option ? option.brush : []);\n  if (!brushComponents.length) {\n    return;\n  }\n  var brushComponentSpecifiedBtns = [];\n  zrUtil.each(brushComponents, function (brushOpt) {\n    var tbs = brushOpt.hasOwnProperty('toolbox') ? brushOpt.toolbox : [];\n    if (tbs instanceof Array) {\n      brushComponentSpecifiedBtns = brushComponentSpecifiedBtns.concat(tbs);\n    }\n  });\n  var toolbox = option && option.toolbox;\n  if (zrUtil.isArray(toolbox)) {\n    toolbox = toolbox[0];\n  }\n  if (!toolbox) {\n    toolbox = {\n      feature: {}\n    };\n    option.toolbox = [toolbox];\n  }\n  var toolboxFeature = toolbox.feature || (toolbox.feature = {});\n  var toolboxBrush = toolboxFeature.brush || (toolboxFeature.brush = {});\n  var brushTypes = toolboxBrush.type || (toolboxBrush.type = []);\n  brushTypes.push.apply(brushTypes, brushComponentSpecifiedBtns);\n  removeDuplicate(brushTypes);\n  if (isNew && !brushTypes.length) {\n    brushTypes.push.apply(brushTypes, DEFAULT_TOOLBOX_BTNS);\n  }\n}\nfunction removeDuplicate(arr) {\n  var map = {};\n  zrUtil.each(arr, function (val) {\n    map[val] = 1;\n  });\n  arr.length = 0;\n  zrUtil.each(map, function (flag, val) {\n    arr.push(val);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * @file Visual solution, for consistent option specification.\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapping from './VisualMapping.js';\nimport { getItemVisualFromData, setItemVisualFromData } from './helper.js';\nvar each = zrUtil.each;\nfunction hasKeys(obj) {\n  if (obj) {\n    for (var name_1 in obj) {\n      if (obj.hasOwnProperty(name_1)) {\n        return true;\n      }\n    }\n  }\n}\nexport function createVisualMappings(option, stateList, supplementVisualOption) {\n  var visualMappings = {};\n  each(stateList, function (state) {\n    var mappings = visualMappings[state] = createMappings();\n    each(option[state], function (visualData, visualType) {\n      if (!VisualMapping.isValidType(visualType)) {\n        return;\n      }\n      var mappingOption = {\n        type: visualType,\n        visual: visualData\n      };\n      supplementVisualOption && supplementVisualOption(mappingOption, state);\n      mappings[visualType] = new VisualMapping(mappingOption);\n      // Prepare a alpha for opacity, for some case that opacity\n      // is not supported, such as rendering using gradient color.\n      if (visualType === 'opacity') {\n        mappingOption = zrUtil.clone(mappingOption);\n        mappingOption.type = 'colorAlpha';\n        mappings.__hidden.__alphaForOpacity = new VisualMapping(mappingOption);\n      }\n    });\n  });\n  return visualMappings;\n  function createMappings() {\n    var Creater = function () {};\n    // Make sure hidden fields will not be visited by\n    // object iteration (with hasOwnProperty checking).\n    Creater.prototype.__hidden = Creater.prototype;\n    var obj = new Creater();\n    return obj;\n  }\n}\nexport function replaceVisualOption(thisOption, newOption, keys) {\n  // Visual attributes merge is not supported, otherwise it\n  // brings overcomplicated merge logic. See #2853. So if\n  // newOption has anyone of these keys, all of these keys\n  // will be reset. Otherwise, all keys remain.\n  var has;\n  zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      has = true;\n    }\n  });\n  has && zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      thisOption[key] = zrUtil.clone(newOption[key]);\n    } else {\n      delete thisOption[key];\n    }\n  });\n}\n/**\n * @param stateList\n * @param visualMappings\n * @param list\n * @param getValueState param: valueOrIndex, return: state.\n * @param scope Scope for getValueState\n * @param dimension Concrete dimension, if used.\n */\n// ???! handle brush?\nexport function applyVisual(stateList, visualMappings, data, getValueState, scope, dimension) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  var dataIndex;\n  function getVisual(key) {\n    return getItemVisualFromData(data, dataIndex, key);\n  }\n  function setVisual(key, value) {\n    setItemVisualFromData(data, dataIndex, key, value);\n  }\n  if (dimension == null) {\n    data.each(eachItem);\n  } else {\n    data.each([dimension], eachItem);\n  }\n  function eachItem(valueOrIndex, index) {\n    dataIndex = dimension == null ? valueOrIndex // First argument is index\n    : index;\n    var rawDataItem = data.getRawDataItem(dataIndex);\n    // Consider performance\n    // @ts-ignore\n    if (rawDataItem && rawDataItem.visualMap === false) {\n      return;\n    }\n    var valueState = getValueState.call(scope, valueOrIndex);\n    var mappings = visualMappings[valueState];\n    var visualTypes = visualTypesMap[valueState];\n    for (var i = 0, len = visualTypes.length; i < len; i++) {\n      var type = visualTypes[i];\n      mappings[type] && mappings[type].applyVisual(valueOrIndex, getVisual, setVisual);\n    }\n  }\n}\n/**\n * @param data\n * @param stateList\n * @param visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\n * @param getValueState param: valueOrIndex, return: state.\n * @param dim dimension or dimension index.\n */\nexport function incrementalApplyVisual(stateList, visualMappings, getValueState, dim) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  return {\n    progress: function progress(params, data) {\n      var dimIndex;\n      if (dim != null) {\n        dimIndex = data.getDimensionIndex(dim);\n      }\n      function getVisual(key) {\n        return getItemVisualFromData(data, dataIndex, key);\n      }\n      function setVisual(key, value) {\n        setItemVisualFromData(data, dataIndex, key, value);\n      }\n      var dataIndex;\n      var store = data.getStore();\n      while ((dataIndex = params.next()) != null) {\n        var rawDataItem = data.getRawDataItem(dataIndex);\n        // Consider performance\n        // @ts-ignore\n        if (rawDataItem && rawDataItem.visualMap === false) {\n          continue;\n        }\n        var value = dim != null ? store.get(dimIndex, dataIndex) : dataIndex;\n        var valueState = getValueState(value);\n        var mappings = visualMappings[valueState];\n        var visualTypes = visualTypesMap[valueState];\n        for (var i = 0, len = visualTypes.length; i < len; i++) {\n          var type = visualTypes[i];\n          mappings[type] && mappings[type].applyVisual(value, getVisual, setVisual);\n        }\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as polygonContain from 'zrender/lib/contain/polygon.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { linePolygonIntersect } from '../../util/graphic.js';\nexport function makeBrushCommonSelectorForSeries(area) {\n  var brushType = area.brushType;\n  // Do not use function binding or curry for performance.\n  var selectors = {\n    point: function (itemLayout) {\n      return selector[brushType].point(itemLayout, selectors, area);\n    },\n    rect: function (itemLayout) {\n      return selector[brushType].rect(itemLayout, selectors, area);\n    }\n  };\n  return selectors;\n}\nvar selector = {\n  lineX: getLineSelectors(0),\n  lineY: getLineSelectors(1),\n  rect: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.intersect(itemLayout);\n    }\n  },\n  polygon: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]) && polygonContain.contain(area.range, itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      var points = area.range;\n      if (!itemLayout || points.length <= 1) {\n        return false;\n      }\n      var x = itemLayout.x;\n      var y = itemLayout.y;\n      var width = itemLayout.width;\n      var height = itemLayout.height;\n      var p = points[0];\n      if (polygonContain.contain(points, x, y) || polygonContain.contain(points, x + width, y) || polygonContain.contain(points, x, y + height) || polygonContain.contain(points, x + width, y + height) || BoundingRect.create(itemLayout).contain(p[0], p[1]) || linePolygonIntersect(x, y, x + width, y, points) || linePolygonIntersect(x, y, x, y + height, points) || linePolygonIntersect(x + width, y, x + width, y + height, points) || linePolygonIntersect(x, y + height, x + width, y + height, points)) {\n        return true;\n      }\n    }\n  }\n};\nfunction getLineSelectors(xyIndex) {\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  return {\n    point: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var p = itemLayout[xyIndex];\n        return inLineRange(p, range);\n      }\n    },\n    rect: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var layoutRange = [itemLayout[xy[xyIndex]], itemLayout[xy[xyIndex]] + itemLayout[wh[xyIndex]]];\n        layoutRange[1] < layoutRange[0] && layoutRange.reverse();\n        return inLineRange(layoutRange[0], range) || inLineRange(layoutRange[1], range) || inLineRange(range[0], layoutRange) || inLineRange(range[1], layoutRange);\n      }\n    }\n  };\n}\nfunction inLineRange(p, range) {\n  return range[0] <= p && p <= range[1];\n}\nexport default selector;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport { makeBrushCommonSelectorForSeries } from './selector.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport BrushTargetManager from '../helper/BrushTargetManager.js';\nvar STATE_LIST = ['inBrush', 'outOfBrush'];\nvar DISPATCH_METHOD = '__ecBrushSelect';\nvar DISPATCH_FLAG = '__ecInBrushSelectEvent';\n;\nexport function layoutCovers(ecModel) {\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    var brushTargetManager = brushModel.brushTargetManager = new BrushTargetManager(brushModel.option, ecModel);\n    brushTargetManager.setInputRanges(brushModel.areas, ecModel);\n  });\n}\n/**\n * Register the visual encoding if this modules required.\n */\nexport default function brushVisual(ecModel, api, payload) {\n  var brushSelected = [];\n  var throttleType;\n  var throttleDelay;\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    payload && payload.type === 'takeGlobalCursor' && brushModel.setBrushOption(payload.key === 'brush' ? payload.brushOption : {\n      brushType: false\n    });\n  });\n  layoutCovers(ecModel);\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel, brushIndex) {\n    var thisBrushSelected = {\n      brushId: brushModel.id,\n      brushIndex: brushIndex,\n      brushName: brushModel.name,\n      areas: zrUtil.clone(brushModel.areas),\n      selected: []\n    };\n    // Every brush component exists in event params, convenient\n    // for user to find by index.\n    brushSelected.push(thisBrushSelected);\n    var brushOption = brushModel.option;\n    var brushLink = brushOption.brushLink;\n    var linkedSeriesMap = [];\n    var selectedDataIndexForLink = [];\n    var rangeInfoBySeries = [];\n    var hasBrushExists = false;\n    if (!brushIndex) {\n      // Only the first throttle setting works.\n      throttleType = brushOption.throttleType;\n      throttleDelay = brushOption.throttleDelay;\n    }\n    // Add boundingRect and selectors to range.\n    var areas = zrUtil.map(brushModel.areas, function (area) {\n      var builder = boundingRectBuilders[area.brushType];\n      var selectableArea = zrUtil.defaults({\n        boundingRect: builder ? builder(area) : void 0\n      }, area);\n      selectableArea.selectors = makeBrushCommonSelectorForSeries(selectableArea);\n      return selectableArea;\n    });\n    var visualMappings = visualSolution.createVisualMappings(brushModel.option, STATE_LIST, function (mappingOption) {\n      mappingOption.mappingMethod = 'fixed';\n    });\n    zrUtil.isArray(brushLink) && zrUtil.each(brushLink, function (seriesIndex) {\n      linkedSeriesMap[seriesIndex] = 1;\n    });\n    function linkOthers(seriesIndex) {\n      return brushLink === 'all' || !!linkedSeriesMap[seriesIndex];\n    }\n    // If no supported brush or no brush on the series,\n    // all visuals should be in original state.\n    function brushed(rangeInfoList) {\n      return !!rangeInfoList.length;\n    }\n    /**\n     * Logic for each series: (If the logic has to be modified one day, do it carefully!)\n     *\n     * ( brushed  && hasBrushExist  && linkOthers  ) => StepA: record,  StepB: visualByRecord.\n     *   !brushed    hasBrushExist                             nothing,        visualByRecord.\n     *                !hasBrushExist                                              nothing.\n     * ( !brushed  && hasBrushExist  && linkOthers  ) => StepA:  nothing,  StepB: visualByRecord.\n     *                !hasBrushExist                                              nothing.\n     * ( brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB: visualByCheck.\n     *   !brushed                                                                  nothing.\n     * ( !brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB:  nothing.\n     */\n    // Step A\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var rangeInfoList = rangeInfoBySeries[seriesIndex] = [];\n      seriesModel.subType === 'parallel' ? stepAParallel(seriesModel, seriesIndex) : stepAOthers(seriesModel, seriesIndex, rangeInfoList);\n    });\n    function stepAParallel(seriesModel, seriesIndex) {\n      var coordSys = seriesModel.coordinateSystem;\n      hasBrushExists = hasBrushExists || coordSys.hasAxisBrushed();\n      linkOthers(seriesIndex) && coordSys.eachActiveState(seriesModel.getData(), function (activeState, dataIndex) {\n        activeState === 'active' && (selectedDataIndexForLink[dataIndex] = 1);\n      });\n    }\n    function stepAOthers(seriesModel, seriesIndex, rangeInfoList) {\n      if (!seriesModel.brushSelector || brushModelNotControll(brushModel, seriesIndex)) {\n        return;\n      }\n      zrUtil.each(areas, function (area) {\n        if (brushModel.brushTargetManager.controlSeries(area, seriesModel, ecModel)) {\n          rangeInfoList.push(area);\n        }\n        hasBrushExists = hasBrushExists || brushed(rangeInfoList);\n      });\n      if (linkOthers(seriesIndex) && brushed(rangeInfoList)) {\n        var data_1 = seriesModel.getData();\n        data_1.each(function (dataIndex) {\n          if (checkInRange(seriesModel, rangeInfoList, data_1, dataIndex)) {\n            selectedDataIndexForLink[dataIndex] = 1;\n          }\n        });\n      }\n    }\n    // Step B\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var seriesBrushSelected = {\n        seriesId: seriesModel.id,\n        seriesIndex: seriesIndex,\n        seriesName: seriesModel.name,\n        dataIndex: []\n      };\n      // Every series exists in event params, convenient\n      // for user to find series by seriesIndex.\n      thisBrushSelected.selected.push(seriesBrushSelected);\n      var rangeInfoList = rangeInfoBySeries[seriesIndex];\n      var data = seriesModel.getData();\n      var getValueState = linkOthers(seriesIndex) ? function (dataIndex) {\n        return selectedDataIndexForLink[dataIndex] ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      } : function (dataIndex) {\n        return checkInRange(seriesModel, rangeInfoList, data, dataIndex) ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      };\n      // If no supported brush or no brush, all visuals are in original state.\n      (linkOthers(seriesIndex) ? hasBrushExists : brushed(rangeInfoList)) && visualSolution.applyVisual(STATE_LIST, visualMappings, data, getValueState);\n    });\n  });\n  dispatchAction(api, throttleType, throttleDelay, brushSelected, payload);\n}\n;\nfunction dispatchAction(api, throttleType, throttleDelay, brushSelected, payload) {\n  // This event will not be triggered when `setOpion`, otherwise dead lock may\n  // triggered when do `setOption` in event listener, which we do not find\n  // satisfactory way to solve yet. Some considered resolutions:\n  // (a) Diff with prevoius selected data ant only trigger event when changed.\n  // But store previous data and diff precisely (i.e., not only by dataIndex, but\n  // also detect value changes in selected data) might bring complexity or fragility.\n  // (b) Use spectial param like `silent` to suppress event triggering.\n  // But such kind of volatile param may be weird in `setOption`.\n  if (!payload) {\n    return;\n  }\n  var zr = api.getZr();\n  if (zr[DISPATCH_FLAG]) {\n    return;\n  }\n  if (!zr[DISPATCH_METHOD]) {\n    zr[DISPATCH_METHOD] = doDispatch;\n  }\n  var fn = throttleUtil.createOrUpdate(zr, DISPATCH_METHOD, throttleDelay, throttleType);\n  fn(api, brushSelected);\n}\nfunction doDispatch(api, brushSelected) {\n  if (!api.isDisposed()) {\n    var zr = api.getZr();\n    zr[DISPATCH_FLAG] = true;\n    api.dispatchAction({\n      type: 'brushSelect',\n      batch: brushSelected\n    });\n    zr[DISPATCH_FLAG] = false;\n  }\n}\nfunction checkInRange(seriesModel, rangeInfoList, data, dataIndex) {\n  for (var i = 0, len = rangeInfoList.length; i < len; i++) {\n    var area = rangeInfoList[i];\n    if (seriesModel.brushSelector(dataIndex, data, area.selectors, area)) {\n      return true;\n    }\n  }\n}\nfunction brushModelNotControll(brushModel, seriesIndex) {\n  var seriesIndices = brushModel.option.seriesIndex;\n  return seriesIndices != null && seriesIndices !== 'all' && (zrUtil.isArray(seriesIndices) ? zrUtil.indexOf(seriesIndices, seriesIndex) < 0 : seriesIndex !== seriesIndices);\n}\nvar boundingRectBuilders = {\n  rect: function (area) {\n    return getBoundingRectFromMinMax(area.range);\n  },\n  polygon: function (area) {\n    var minMax;\n    var range = area.range;\n    for (var i = 0, len = range.length; i < len; i++) {\n      minMax = minMax || [[Infinity, -Infinity], [Infinity, -Infinity]];\n      var rg = range[i];\n      rg[0] < minMax[0][0] && (minMax[0][0] = rg[0]);\n      rg[0] > minMax[0][1] && (minMax[0][1] = rg[0]);\n      rg[1] < minMax[1][0] && (minMax[1][0] = rg[1]);\n      rg[1] > minMax[1][1] && (minMax[1][1] = rg[1]);\n    }\n    return minMax && getBoundingRectFromMinMax(minMax);\n  }\n};\nfunction getBoundingRectFromMinMax(minMax) {\n  return new BoundingRect(minMax[0][0], minMax[1][0], minMax[0][1] - minMax[0][0], minMax[1][1] - minMax[1][0]);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BrushController from '../helper/BrushController.js';\nimport { layoutCovers } from './visualEncoding.js';\nimport ComponentView from '../../view/Component.js';\nvar BrushView = /** @class */function (_super) {\n  __extends(BrushView, _super);\n  function BrushView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BrushView.type;\n    return _this;\n  }\n  BrushView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n    this.model;\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  };\n  BrushView.prototype.render = function (brushModel, ecModel, api, payload) {\n    this.model = brushModel;\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateTransform = function (brushModel, ecModel, api, payload) {\n    // PENDING: `updateTransform` is a little tricky, whose layout need\n    // to be calculate mandatorily and other stages will not be performed.\n    // Take care the correctness of the logic. See #11754 .\n    layoutCovers(ecModel);\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateVisual = function (brushModel, ecModel, api, payload) {\n    this.updateTransform(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateView = function (brushModel, ecModel, api, payload) {\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype._updateController = function (brushModel, ecModel, api, payload) {\n    // Do not update controller when drawing.\n    (!payload || payload.$from !== brushModel.id) && this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice());\n  };\n  // updateLayout: updateController,\n  // updateVisual: updateController,\n  BrushView.prototype.dispose = function () {\n    this._brushController.dispose();\n  };\n  BrushView.prototype._onBrush = function (eventParam) {\n    var modelId = this.model.id;\n    var areas = this.model.brushTargetManager.setOutputRanges(eventParam.areas, this.ecModel);\n    // Action is not dispatched on drag end, because the drag end\n    // emits the same params with the last drag move event, and\n    // may have some delay when using touch pad, which makes\n    // animation not smooth (when using debounce).\n    (!eventParam.isEnd || eventParam.removeOnClick) && this.api.dispatchAction({\n      type: 'brush',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n    eventParam.isEnd && this.api.dispatchAction({\n      type: 'brushEnd',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n  };\n  BrushView.type = 'brush';\n  return BrushView;\n}(ComponentView);\nexport default BrushView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport Model from '../../model/Model.js';\nimport ComponentModel from '../../model/Component.js';\nvar DEFAULT_OUT_OF_BRUSH_COLOR = '#ddd';\nvar BrushModel = /** @class */function (_super) {\n  __extends(BrushModel, _super);\n  function BrushModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BrushModel.type;\n    /**\n     * @readOnly\n     */\n    _this.areas = [];\n    /**\n     * Current brush painting area settings.\n     * @readOnly\n     */\n    _this.brushOption = {};\n    return _this;\n  }\n  BrushModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, ['inBrush', 'outOfBrush']);\n    var inBrush = thisOption.inBrush = thisOption.inBrush || {};\n    // Always give default visual, consider setOption at the second time.\n    thisOption.outOfBrush = thisOption.outOfBrush || {\n      color: DEFAULT_OUT_OF_BRUSH_COLOR\n    };\n    if (!inBrush.hasOwnProperty('liftZ')) {\n      // Bigger than the highlight z lift, otherwise it will\n      // be effected by the highlight z when brush.\n      inBrush.liftZ = 5;\n    }\n  };\n  /**\n   * If `areas` is null/undefined, range state remain.\n   */\n  BrushModel.prototype.setAreas = function (areas) {\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(zrUtil.isArray(areas));\n      zrUtil.each(areas, function (area) {\n        zrUtil.assert(area.brushType, 'Illegal areas');\n      });\n    }\n    // If areas is null/undefined, range state remain.\n    // This helps user to dispatchAction({type: 'brush'}) with no areas\n    // set but just want to get the current brush select info from a `brush` event.\n    if (!areas) {\n      return;\n    }\n    this.areas = zrUtil.map(areas, function (area) {\n      return generateBrushOption(this.option, area);\n    }, this);\n  };\n  /**\n   * Set the current painting brush option.\n   */\n  BrushModel.prototype.setBrushOption = function (brushOption) {\n    this.brushOption = generateBrushOption(this.option, brushOption);\n    this.brushType = this.brushOption.brushType;\n  };\n  BrushModel.type = 'brush';\n  BrushModel.dependencies = ['geo', 'grid', 'xAxis', 'yAxis', 'parallel', 'series'];\n  BrushModel.defaultOption = {\n    seriesIndex: 'all',\n    brushType: 'rect',\n    brushMode: 'single',\n    transformable: true,\n    brushStyle: {\n      borderWidth: 1,\n      color: 'rgba(210,219,238,0.3)',\n      borderColor: '#D2DBEE'\n    },\n    throttleType: 'fixRate',\n    throttleDelay: 0,\n    removeOnClick: true,\n    z: 10000\n  };\n  return BrushModel;\n}(ComponentModel);\nfunction generateBrushOption(option, brushOption) {\n  return zrUtil.merge({\n    brushType: option.brushType,\n    brushMode: option.brushMode,\n    transformable: option.transformable,\n    brushStyle: new Model(option.brushStyle).getItemStyle(),\n    removeOnClick: option.removeOnClick,\n    z: option.z\n  }, brushOption, true);\n}\nexport default BrushModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { ToolboxFeature } from '../featureManager.js';\nvar ICON_TYPES = ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'];\nvar BrushFeature = /** @class */function (_super) {\n  __extends(BrushFeature, _super);\n  function BrushFeature() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  BrushFeature.prototype.render = function (featureModel, ecModel, api) {\n    var brushType;\n    var brushMode;\n    var isBrushed;\n    ecModel.eachComponent({\n      mainType: 'brush'\n    }, function (brushModel) {\n      brushType = brushModel.brushType;\n      brushMode = brushModel.brushOption.brushMode || 'single';\n      isBrushed = isBrushed || !!brushModel.areas.length;\n    });\n    this._brushType = brushType;\n    this._brushMode = brushMode;\n    zrUtil.each(featureModel.get('type', true), function (type) {\n      featureModel.setIconStatus(type, (type === 'keep' ? brushMode === 'multiple' : type === 'clear' ? isBrushed : type === brushType) ? 'emphasis' : 'normal');\n    });\n  };\n  BrushFeature.prototype.updateView = function (featureModel, ecModel, api) {\n    this.render(featureModel, ecModel, api);\n  };\n  BrushFeature.prototype.getIcons = function () {\n    var model = this.model;\n    var availableIcons = model.get('icon', true);\n    var icons = {};\n    zrUtil.each(model.get('type', true), function (type) {\n      if (availableIcons[type]) {\n        icons[type] = availableIcons[type];\n      }\n    });\n    return icons;\n  };\n  ;\n  BrushFeature.prototype.onclick = function (ecModel, api, type) {\n    var brushType = this._brushType;\n    var brushMode = this._brushMode;\n    if (type === 'clear') {\n      // Trigger parallel action firstly\n      api.dispatchAction({\n        type: 'axisAreaSelect',\n        intervals: []\n      });\n      api.dispatchAction({\n        type: 'brush',\n        command: 'clear',\n        // Clear all areas of all brush components.\n        areas: []\n      });\n    } else {\n      api.dispatchAction({\n        type: 'takeGlobalCursor',\n        key: 'brush',\n        brushOption: {\n          brushType: type === 'keep' ? brushType : brushType === type ? false : type,\n          brushMode: type === 'keep' ? brushMode === 'multiple' ? 'single' : 'multiple' : brushMode\n        }\n      });\n    }\n  };\n  ;\n  BrushFeature.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      type: ICON_TYPES.slice(),\n      icon: {\n        /* eslint-disable */\n        rect: 'M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13',\n        polygon: 'M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2',\n        lineX: 'M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4',\n        lineY: 'M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4',\n        keep: 'M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z',\n        clear: 'M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2' // jshint ignore:line\n        /* eslint-enable */\n      },\n\n      // `rect`, `polygon`, `lineX`, `lineY`, `keep`, `clear`\n      title: ecModel.getLocaleModel().get(['toolbox', 'brush', 'title'])\n    };\n    return defaultOption;\n  };\n  return BrushFeature;\n}(ToolboxFeature);\nexport default BrushFeature;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport brushPreprocessor from './preprocessor.js';\nimport BrushView from './BrushView.js';\nimport BrushModel from './BrushModel.js';\nimport brushVisual from './visualEncoding.js';\n// TODO\nimport BrushFeature from '../toolbox/feature/Brush.js';\nimport { registerFeature } from '../toolbox/featureManager.js';\nimport { noop } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  registers.registerComponentView(BrushView);\n  registers.registerComponentModel(BrushModel);\n  registers.registerPreprocessor(brushPreprocessor);\n  registers.registerVisual(registers.PRIORITY.VISUAL.BRUSH, brushVisual);\n  registers.registerAction({\n    type: 'brush',\n    event: 'brush',\n    update: 'updateVisual'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'brush',\n      query: payload\n    }, function (brushModel) {\n      brushModel.setAreas(payload.areas);\n    });\n  });\n  /**\n   * payload: {\n   *      brushComponents: [\n   *          {\n   *              brushId,\n   *              brushIndex,\n   *              brushName,\n   *              series: [\n   *                  {\n   *                      seriesId,\n   *                      seriesIndex,\n   *                      seriesName,\n   *                      rawIndices: [21, 34, ...]\n   *                  },\n   *                  ...\n   *              ]\n   *          },\n   *          ...\n   *      ]\n   * }\n   */\n  registers.registerAction({\n    type: 'brushSelect',\n    event: 'brushSelected',\n    update: 'none'\n  }, noop);\n  registers.registerAction({\n    type: 'brushEnd',\n    event: 'brushEnd',\n    update: 'none'\n  }, noop);\n  registerFeature('brush', BrushFeature);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport ComponentModel from '../../model/Component.js';\nimport ComponentView from '../../view/Component.js';\nimport { windowOpen } from '../../util/format.js';\nvar TitleModel = /** @class */function (_super) {\n  __extends(TitleModel, _super);\n  function TitleModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TitleModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    return _this;\n  }\n  TitleModel.type = 'title';\n  TitleModel.defaultOption = {\n    // zlevel: 0,\n    z: 6,\n    show: true,\n    text: '',\n    target: 'blank',\n    subtext: '',\n    subtarget: 'blank',\n    left: 0,\n    top: 0,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bold',\n      color: '#464646'\n    },\n    subtextStyle: {\n      fontSize: 12,\n      color: '#6E7079'\n    }\n  };\n  return TitleModel;\n}(ComponentModel);\n// View\nvar TitleView = /** @class */function (_super) {\n  __extends(TitleView, _super);\n  function TitleView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TitleView.type;\n    return _this;\n  }\n  TitleView.prototype.render = function (titleModel, ecModel, api) {\n    this.group.removeAll();\n    if (!titleModel.get('show')) {\n      return;\n    }\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textVerticalAlign = zrUtil.retrieve2(titleModel.get('textBaseline'), titleModel.get('textVerticalAlign'));\n    var textEl = new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: titleModel.get('text'),\n        fill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: createTextStyle(subtextStyleModel, {\n        text: subText,\n        fill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        verticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    var triggerEvent = titleModel.get('triggerEvent', true);\n    textEl.silent = !link && !triggerEvent;\n    subTextEl.silent = !sublink && !triggerEvent;\n    if (link) {\n      textEl.on('click', function () {\n        windowOpen(link, '_' + titleModel.get('target'));\n      });\n    }\n    if (sublink) {\n      subTextEl.on('click', function () {\n        windowOpen(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n    getECData(textEl).eventData = getECData(subTextEl).eventData = triggerEvent ? {\n      componentType: 'title',\n      componentIndex: titleModel.componentIndex\n    } : null;\n    group.add(textEl);\n    subText && group.add(subTextEl);\n    // If no subText, but add subTextEl, there will be an empty line.\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRect = getLayoutRect(layoutOption, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }, titleModel.get('padding'));\n    // Adjust text align based on position\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right');\n      // @ts-ignore\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      }\n      // Adjust layout by text align\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n    if (!textVerticalAlign) {\n      textVerticalAlign = titleModel.get('top') || titleModel.get('bottom');\n      // @ts-ignore\n      if (textVerticalAlign === 'center') {\n        textVerticalAlign = 'middle';\n      }\n      if (textVerticalAlign === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textVerticalAlign === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n      textVerticalAlign = textVerticalAlign || 'top';\n    }\n    group.x = layoutRect.x;\n    group.y = layoutRect.y;\n    group.markRedraw();\n    var alignStyle = {\n      align: textAlign,\n      verticalAlign: textVerticalAlign\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle);\n    // Render background\n    // Get groupRect again because textAlign has been changed\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      subPixelOptimize: true,\n      silent: true\n    });\n    group.add(rect);\n  };\n  TitleView.type = 'title';\n  return TitleView;\n}(ComponentView);\nexport function install(registers) {\n  registers.registerComponentModel(TitleModel);\n  registers.registerComponentView(TitleView);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport { each, isObject, clone } from 'zrender/lib/core/util.js';\nimport { convertOptionIdName, getDataItemValue } from '../../util/model.js';\nvar TimelineModel = /** @class */function (_super) {\n  __extends(TimelineModel, _super);\n  function TimelineModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TimelineModel.type;\n    _this.layoutMode = 'box';\n    return _this;\n  }\n  /**\n   * @override\n   */\n  TimelineModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    this._initData();\n  };\n  /**\n   * @override\n   */\n  TimelineModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    this._initData();\n  };\n  TimelineModel.prototype.setCurrentIndex = function (currentIndex) {\n    if (currentIndex == null) {\n      currentIndex = this.option.currentIndex;\n    }\n    var count = this._data.count();\n    if (this.option.loop) {\n      currentIndex = (currentIndex % count + count) % count;\n    } else {\n      currentIndex >= count && (currentIndex = count - 1);\n      currentIndex < 0 && (currentIndex = 0);\n    }\n    this.option.currentIndex = currentIndex;\n  };\n  /**\n   * @return {number} currentIndex\n   */\n  TimelineModel.prototype.getCurrentIndex = function () {\n    return this.option.currentIndex;\n  };\n  /**\n   * @return {boolean}\n   */\n  TimelineModel.prototype.isIndexMax = function () {\n    return this.getCurrentIndex() >= this._data.count() - 1;\n  };\n  /**\n   * @param {boolean} state true: play, false: stop\n   */\n  TimelineModel.prototype.setPlayState = function (state) {\n    this.option.autoPlay = !!state;\n  };\n  /**\n   * @return {boolean} true: play, false: stop\n   */\n  TimelineModel.prototype.getPlayState = function () {\n    return !!this.option.autoPlay;\n  };\n  /**\n   * @private\n   */\n  TimelineModel.prototype._initData = function () {\n    var thisOption = this.option;\n    var dataArr = thisOption.data || [];\n    var axisType = thisOption.axisType;\n    var names = this._names = [];\n    var processedDataArr;\n    if (axisType === 'category') {\n      processedDataArr = [];\n      each(dataArr, function (item, index) {\n        var value = convertOptionIdName(getDataItemValue(item), '');\n        var newItem;\n        if (isObject(item)) {\n          newItem = clone(item);\n          newItem.value = index;\n        } else {\n          newItem = index;\n        }\n        processedDataArr.push(newItem);\n        names.push(value);\n      });\n    } else {\n      processedDataArr = dataArr;\n    }\n    var dimType = {\n      category: 'ordinal',\n      time: 'time',\n      value: 'number'\n    }[axisType] || 'number';\n    var data = this._data = new SeriesData([{\n      name: 'value',\n      type: dimType\n    }], this);\n    data.initData(processedDataArr, names);\n  };\n  TimelineModel.prototype.getData = function () {\n    return this._data;\n  };\n  /**\n   * @public\n   * @return {Array.<string>} categoreis\n   */\n  TimelineModel.prototype.getCategories = function () {\n    if (this.get('axisType') === 'category') {\n      return this._names.slice();\n    }\n  };\n  TimelineModel.type = 'timeline';\n  /**\n   * @protected\n   */\n  TimelineModel.defaultOption = {\n    // zlevel: 0,                  // \n    z: 4,\n    show: true,\n    axisType: 'time',\n    realtime: true,\n    left: '20%',\n    top: null,\n    right: '20%',\n    bottom: 0,\n    width: null,\n    height: 40,\n    padding: 5,\n    controlPosition: 'left',\n    autoPlay: false,\n    rewind: false,\n    loop: true,\n    playInterval: 2000,\n    currentIndex: 0,\n    itemStyle: {},\n    label: {\n      color: '#000'\n    },\n    data: []\n  };\n  return TimelineModel;\n}(ComponentModel);\nexport default TimelineModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport TimelineModel from './TimelineModel.js';\nimport { DataFormatMixin } from '../../model/mixin/dataFormat.js';\nimport { mixin } from 'zrender/lib/core/util.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar SliderTimelineModel = /** @class */function (_super) {\n  __extends(SliderTimelineModel, _super);\n  function SliderTimelineModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderTimelineModel.type;\n    return _this;\n  }\n  SliderTimelineModel.type = 'timeline.slider';\n  /**\n   * @protected\n   */\n  SliderTimelineModel.defaultOption = inheritDefaultOption(TimelineModel.defaultOption, {\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderWidth: 0,\n    orient: 'horizontal',\n    inverse: false,\n    tooltip: {\n      trigger: 'item' // data item may also have tootip attr.\n    },\n\n    symbol: 'circle',\n    symbolSize: 12,\n    lineStyle: {\n      show: true,\n      width: 2,\n      color: '#DAE1F5'\n    },\n    label: {\n      position: 'auto',\n      // When using number, label position is not\n      // restricted by viewRect.\n      // positive: right/bottom, negative: left/top\n      show: true,\n      interval: 'auto',\n      rotate: 0,\n      // formatter: null,\n      // TEXTSTYLE\n      color: '#A4B1D7'\n    },\n    itemStyle: {\n      color: '#A4B1D7',\n      borderWidth: 1\n    },\n    checkpointStyle: {\n      symbol: 'circle',\n      symbolSize: 15,\n      color: '#316bf3',\n      borderColor: '#fff',\n      borderWidth: 2,\n      shadowBlur: 2,\n      shadowOffsetX: 1,\n      shadowOffsetY: 1,\n      shadowColor: 'rgba(0, 0, 0, 0.3)',\n      // borderColor: 'rgba(194,53,49, 0.5)',\n      animation: true,\n      animationDuration: 300,\n      animationEasing: 'quinticInOut'\n    },\n    controlStyle: {\n      show: true,\n      showPlayBtn: true,\n      showPrevBtn: true,\n      showNextBtn: true,\n      itemSize: 24,\n      itemGap: 12,\n      position: 'left',\n      playIcon: 'path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z',\n      stopIcon: 'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z',\n      // eslint-disable-next-line max-len\n      nextIcon: 'M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z',\n      // eslint-disable-next-line max-len\n      prevIcon: 'M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z',\n      prevBtnSize: 18,\n      nextBtnSize: 18,\n      color: '#A4B1D7',\n      borderColor: '#A4B1D7',\n      borderWidth: 1\n    },\n    emphasis: {\n      label: {\n        show: true,\n        // TEXTSTYLE\n        color: '#6f778d'\n      },\n      itemStyle: {\n        color: '#316BF3'\n      },\n      controlStyle: {\n        color: '#316BF3',\n        borderColor: '#316BF3',\n        borderWidth: 2\n      }\n    },\n    progress: {\n      lineStyle: {\n        color: '#316BF3'\n      },\n      itemStyle: {\n        color: '#316BF3'\n      },\n      label: {\n        color: '#6f778d'\n      }\n    },\n    data: []\n  });\n  return SliderTimelineModel;\n}(TimelineModel);\nmixin(SliderTimelineModel, DataFormatMixin.prototype);\nexport default SliderTimelineModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nvar TimelineView = /** @class */function (_super) {\n  __extends(TimelineView, _super);\n  function TimelineView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = TimelineView.type;\n    return _this;\n  }\n  TimelineView.type = 'timeline';\n  return TimelineView;\n}(ComponentView);\nexport default TimelineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../../coord/Axis.js';\n/**\n * Extend axis 2d\n */\nvar TimelineAxis = /** @class */function (_super) {\n  __extends(TimelineAxis, _super);\n  function TimelineAxis(dim, scale, coordExtent, axisType) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n    _this.type = axisType || 'value';\n    return _this;\n  }\n  /**\n   * @override\n   */\n  TimelineAxis.prototype.getLabelModel = function () {\n    // Force override\n    return this.model.getModel('label');\n  };\n  /**\n   * @override\n   */\n  TimelineAxis.prototype.isHorizontal = function () {\n    return this.model.get('orient') === 'horizontal';\n  };\n  return TimelineAxis;\n}(Axis);\nexport default TimelineAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport * as layout from '../../util/layout.js';\nimport TimelineView from './TimelineView.js';\nimport TimelineAxis from './TimelineAxis.js';\nimport { createSymbol, normalizeSymbolOffset, normalizeSymbolSize } from '../../util/symbol.js';\nimport * as numberUtil from '../../util/number.js';\nimport { merge, each, extend, isString, bind, defaults, retrieve2 } from 'zrender/lib/core/util.js';\nimport OrdinalScale from '../../scale/Ordinal.js';\nimport TimeScale from '../../scale/Time.js';\nimport IntervalScale from '../../scale/Interval.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\nimport { makeInner } from '../../util/model.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { createTooltipMarkup } from '../tooltip/tooltipMarkup.js';\nvar PI = Math.PI;\nvar labelDataIndexStore = makeInner();\nvar SliderTimelineView = /** @class */function (_super) {\n  __extends(SliderTimelineView, _super);\n  function SliderTimelineView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderTimelineView.type;\n    return _this;\n  }\n  SliderTimelineView.prototype.init = function (ecModel, api) {\n    this.api = api;\n  };\n  /**\n   * @override\n   */\n  SliderTimelineView.prototype.render = function (timelineModel, ecModel, api) {\n    this.model = timelineModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    this.group.removeAll();\n    if (timelineModel.get('show', true)) {\n      var layoutInfo_1 = this._layout(timelineModel, api);\n      var mainGroup_1 = this._createGroup('_mainGroup');\n      var labelGroup = this._createGroup('_labelGroup');\n      var axis_1 = this._axis = this._createAxis(layoutInfo_1, timelineModel);\n      timelineModel.formatTooltip = function (dataIndex) {\n        var name = axis_1.scale.getLabel({\n          value: dataIndex\n        });\n        return createTooltipMarkup('nameValue', {\n          noName: true,\n          value: name\n        });\n      };\n      each(['AxisLine', 'AxisTick', 'Control', 'CurrentPointer'], function (name) {\n        this['_render' + name](layoutInfo_1, mainGroup_1, axis_1, timelineModel);\n      }, this);\n      this._renderAxisLabel(layoutInfo_1, labelGroup, axis_1, timelineModel);\n      this._position(layoutInfo_1, timelineModel);\n    }\n    this._doPlayStop();\n    this._updateTicksStatus();\n  };\n  /**\n   * @override\n   */\n  SliderTimelineView.prototype.remove = function () {\n    this._clearTimer();\n    this.group.removeAll();\n  };\n  /**\n   * @override\n   */\n  SliderTimelineView.prototype.dispose = function () {\n    this._clearTimer();\n  };\n  SliderTimelineView.prototype._layout = function (timelineModel, api) {\n    var labelPosOpt = timelineModel.get(['label', 'position']);\n    var orient = timelineModel.get('orient');\n    var viewRect = getViewRect(timelineModel, api);\n    var parsedLabelPos;\n    // Auto label offset.\n    if (labelPosOpt == null || labelPosOpt === 'auto') {\n      parsedLabelPos = orient === 'horizontal' ? viewRect.y + viewRect.height / 2 < api.getHeight() / 2 ? '-' : '+' : viewRect.x + viewRect.width / 2 < api.getWidth() / 2 ? '+' : '-';\n    } else if (isString(labelPosOpt)) {\n      parsedLabelPos = {\n        horizontal: {\n          top: '-',\n          bottom: '+'\n        },\n        vertical: {\n          left: '-',\n          right: '+'\n        }\n      }[orient][labelPosOpt];\n    } else {\n      // is number\n      parsedLabelPos = labelPosOpt;\n    }\n    var labelAlignMap = {\n      horizontal: 'center',\n      vertical: parsedLabelPos >= 0 || parsedLabelPos === '+' ? 'left' : 'right'\n    };\n    var labelBaselineMap = {\n      horizontal: parsedLabelPos >= 0 || parsedLabelPos === '+' ? 'top' : 'bottom',\n      vertical: 'middle'\n    };\n    var rotationMap = {\n      horizontal: 0,\n      vertical: PI / 2\n    };\n    // Position\n    var mainLength = orient === 'vertical' ? viewRect.height : viewRect.width;\n    var controlModel = timelineModel.getModel('controlStyle');\n    var showControl = controlModel.get('show', true);\n    var controlSize = showControl ? controlModel.get('itemSize') : 0;\n    var controlGap = showControl ? controlModel.get('itemGap') : 0;\n    var sizePlusGap = controlSize + controlGap;\n    // Special label rotate.\n    var labelRotation = timelineModel.get(['label', 'rotate']) || 0;\n    labelRotation = labelRotation * PI / 180; // To radian.\n    var playPosition;\n    var prevBtnPosition;\n    var nextBtnPosition;\n    var controlPosition = controlModel.get('position', true);\n    var showPlayBtn = showControl && controlModel.get('showPlayBtn', true);\n    var showPrevBtn = showControl && controlModel.get('showPrevBtn', true);\n    var showNextBtn = showControl && controlModel.get('showNextBtn', true);\n    var xLeft = 0;\n    var xRight = mainLength;\n    // position[0] means left, position[1] means middle.\n    if (controlPosition === 'left' || controlPosition === 'bottom') {\n      showPlayBtn && (playPosition = [0, 0], xLeft += sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [xLeft, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    } else {\n      // 'top' 'right'\n      showPlayBtn && (playPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [0, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    }\n    var axisExtent = [xLeft, xRight];\n    if (timelineModel.get('inverse')) {\n      axisExtent.reverse();\n    }\n    return {\n      viewRect: viewRect,\n      mainLength: mainLength,\n      orient: orient,\n      rotation: rotationMap[orient],\n      labelRotation: labelRotation,\n      labelPosOpt: parsedLabelPos,\n      labelAlign: timelineModel.get(['label', 'align']) || labelAlignMap[orient],\n      labelBaseline: timelineModel.get(['label', 'verticalAlign']) || timelineModel.get(['label', 'baseline']) || labelBaselineMap[orient],\n      // Based on mainGroup.\n      playPosition: playPosition,\n      prevBtnPosition: prevBtnPosition,\n      nextBtnPosition: nextBtnPosition,\n      axisExtent: axisExtent,\n      controlSize: controlSize,\n      controlGap: controlGap\n    };\n  };\n  SliderTimelineView.prototype._position = function (layoutInfo, timelineModel) {\n    // Position is be called finally, because bounding rect is needed for\n    // adapt content to fill viewRect (auto adapt offset).\n    // Timeline may be not all in the viewRect when 'offset' is specified\n    // as a number, because it is more appropriate that label aligns at\n    // 'offset' but not the other edge defined by viewRect.\n    var mainGroup = this._mainGroup;\n    var labelGroup = this._labelGroup;\n    var viewRect = layoutInfo.viewRect;\n    if (layoutInfo.orient === 'vertical') {\n      // transform to horizontal, inverse rotate by left-top point.\n      var m = matrix.create();\n      var rotateOriginX = viewRect.x;\n      var rotateOriginY = viewRect.y + viewRect.height;\n      matrix.translate(m, m, [-rotateOriginX, -rotateOriginY]);\n      matrix.rotate(m, m, -PI / 2);\n      matrix.translate(m, m, [rotateOriginX, rotateOriginY]);\n      viewRect = viewRect.clone();\n      viewRect.applyTransform(m);\n    }\n    var viewBound = getBound(viewRect);\n    var mainBound = getBound(mainGroup.getBoundingRect());\n    var labelBound = getBound(labelGroup.getBoundingRect());\n    var mainPosition = [mainGroup.x, mainGroup.y];\n    var labelsPosition = [labelGroup.x, labelGroup.y];\n    labelsPosition[0] = mainPosition[0] = viewBound[0][0];\n    var labelPosOpt = layoutInfo.labelPosOpt;\n    if (labelPosOpt == null || isString(labelPosOpt)) {\n      // '+' or '-'\n      var mainBoundIdx = labelPosOpt === '+' ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      toBound(labelsPosition, labelBound, viewBound, 1, 1 - mainBoundIdx);\n    } else {\n      var mainBoundIdx = labelPosOpt >= 0 ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      labelsPosition[1] = mainPosition[1] + labelPosOpt;\n    }\n    mainGroup.setPosition(mainPosition);\n    labelGroup.setPosition(labelsPosition);\n    mainGroup.rotation = labelGroup.rotation = layoutInfo.rotation;\n    setOrigin(mainGroup);\n    setOrigin(labelGroup);\n    function setOrigin(targetGroup) {\n      targetGroup.originX = viewBound[0][0] - targetGroup.x;\n      targetGroup.originY = viewBound[1][0] - targetGroup.y;\n    }\n    function getBound(rect) {\n      // [[xmin, xmax], [ymin, ymax]]\n      return [[rect.x, rect.x + rect.width], [rect.y, rect.y + rect.height]];\n    }\n    function toBound(fromPos, from, to, dimIdx, boundIdx) {\n      fromPos[dimIdx] += to[dimIdx][boundIdx] - from[dimIdx][boundIdx];\n    }\n  };\n  SliderTimelineView.prototype._createAxis = function (layoutInfo, timelineModel) {\n    var data = timelineModel.getData();\n    var axisType = timelineModel.get('axisType');\n    var scale = createScaleByModel(timelineModel, axisType);\n    // Customize scale. The `tickValue` is `dataIndex`.\n    scale.getTicks = function () {\n      return data.mapArray(['value'], function (value) {\n        return {\n          value: value\n        };\n      });\n    };\n    var dataExtent = data.getDataExtent('value');\n    scale.setExtent(dataExtent[0], dataExtent[1]);\n    scale.calcNiceTicks();\n    var axis = new TimelineAxis('value', scale, layoutInfo.axisExtent, axisType);\n    axis.model = timelineModel;\n    return axis;\n  };\n  SliderTimelineView.prototype._createGroup = function (key) {\n    var newGroup = this[key] = new graphic.Group();\n    this.group.add(newGroup);\n    return newGroup;\n  };\n  SliderTimelineView.prototype._renderAxisLine = function (layoutInfo, group, axis, timelineModel) {\n    var axisExtent = axis.getExtent();\n    if (!timelineModel.get(['lineStyle', 'show'])) {\n      return;\n    }\n    var line = new graphic.Line({\n      shape: {\n        x1: axisExtent[0],\n        y1: 0,\n        x2: axisExtent[1],\n        y2: 0\n      },\n      style: extend({\n        lineCap: 'round'\n      }, timelineModel.getModel('lineStyle').getLineStyle()),\n      silent: true,\n      z2: 1\n    });\n    group.add(line);\n    var progressLine = this._progressLine = new graphic.Line({\n      shape: {\n        x1: axisExtent[0],\n        x2: this._currentPointer ? this._currentPointer.x : axisExtent[0],\n        y1: 0,\n        y2: 0\n      },\n      style: defaults({\n        lineCap: 'round',\n        lineWidth: line.style.lineWidth\n      }, timelineModel.getModel(['progress', 'lineStyle']).getLineStyle()),\n      silent: true,\n      z2: 1\n    });\n    group.add(progressLine);\n  };\n  SliderTimelineView.prototype._renderAxisTick = function (layoutInfo, group, axis, timelineModel) {\n    var _this = this;\n    var data = timelineModel.getData();\n    // Show all ticks, despite ignoring strategy.\n    var ticks = axis.scale.getTicks();\n    this._tickSymbols = [];\n    // The value is dataIndex, see the customized scale.\n    each(ticks, function (tick) {\n      var tickCoord = axis.dataToCoord(tick.value);\n      var itemModel = data.getItemModel(tick.value);\n      var itemStyleModel = itemModel.getModel('itemStyle');\n      var hoverStyleModel = itemModel.getModel(['emphasis', 'itemStyle']);\n      var progressStyleModel = itemModel.getModel(['progress', 'itemStyle']);\n      var symbolOpt = {\n        x: tickCoord,\n        y: 0,\n        onclick: bind(_this._changeTimeline, _this, tick.value)\n      };\n      var el = giveSymbol(itemModel, itemStyleModel, group, symbolOpt);\n      el.ensureState('emphasis').style = hoverStyleModel.getItemStyle();\n      el.ensureState('progress').style = progressStyleModel.getItemStyle();\n      enableHoverEmphasis(el);\n      var ecData = getECData(el);\n      if (itemModel.get('tooltip')) {\n        ecData.dataIndex = tick.value;\n        ecData.dataModel = timelineModel;\n      } else {\n        ecData.dataIndex = ecData.dataModel = null;\n      }\n      _this._tickSymbols.push(el);\n    });\n  };\n  SliderTimelineView.prototype._renderAxisLabel = function (layoutInfo, group, axis, timelineModel) {\n    var _this = this;\n    var labelModel = axis.getLabelModel();\n    if (!labelModel.get('show')) {\n      return;\n    }\n    var data = timelineModel.getData();\n    var labels = axis.getViewLabels();\n    this._tickLabels = [];\n    each(labels, function (labelItem) {\n      // The tickValue is dataIndex, see the customized scale.\n      var dataIndex = labelItem.tickValue;\n      var itemModel = data.getItemModel(dataIndex);\n      var normalLabelModel = itemModel.getModel('label');\n      var hoverLabelModel = itemModel.getModel(['emphasis', 'label']);\n      var progressLabelModel = itemModel.getModel(['progress', 'label']);\n      var tickCoord = axis.dataToCoord(labelItem.tickValue);\n      var textEl = new graphic.Text({\n        x: tickCoord,\n        y: 0,\n        rotation: layoutInfo.labelRotation - layoutInfo.rotation,\n        onclick: bind(_this._changeTimeline, _this, dataIndex),\n        silent: false,\n        style: createTextStyle(normalLabelModel, {\n          text: labelItem.formattedLabel,\n          align: layoutInfo.labelAlign,\n          verticalAlign: layoutInfo.labelBaseline\n        })\n      });\n      textEl.ensureState('emphasis').style = createTextStyle(hoverLabelModel);\n      textEl.ensureState('progress').style = createTextStyle(progressLabelModel);\n      group.add(textEl);\n      enableHoverEmphasis(textEl);\n      labelDataIndexStore(textEl).dataIndex = dataIndex;\n      _this._tickLabels.push(textEl);\n    });\n  };\n  SliderTimelineView.prototype._renderControl = function (layoutInfo, group, axis, timelineModel) {\n    var controlSize = layoutInfo.controlSize;\n    var rotation = layoutInfo.rotation;\n    var itemStyle = timelineModel.getModel('controlStyle').getItemStyle();\n    var hoverStyle = timelineModel.getModel(['emphasis', 'controlStyle']).getItemStyle();\n    var playState = timelineModel.getPlayState();\n    var inverse = timelineModel.get('inverse', true);\n    makeBtn(layoutInfo.nextBtnPosition, 'next', bind(this._changeTimeline, this, inverse ? '-' : '+'));\n    makeBtn(layoutInfo.prevBtnPosition, 'prev', bind(this._changeTimeline, this, inverse ? '+' : '-'));\n    makeBtn(layoutInfo.playPosition, playState ? 'stop' : 'play', bind(this._handlePlayClick, this, !playState), true);\n    function makeBtn(position, iconName, onclick, willRotate) {\n      if (!position) {\n        return;\n      }\n      var iconSize = parsePercent(retrieve2(timelineModel.get(['controlStyle', iconName + 'BtnSize']), controlSize), controlSize);\n      var rect = [0, -iconSize / 2, iconSize, iconSize];\n      var btn = makeControlIcon(timelineModel, iconName + 'Icon', rect, {\n        x: position[0],\n        y: position[1],\n        originX: controlSize / 2,\n        originY: 0,\n        rotation: willRotate ? -rotation : 0,\n        rectHover: true,\n        style: itemStyle,\n        onclick: onclick\n      });\n      btn.ensureState('emphasis').style = hoverStyle;\n      group.add(btn);\n      enableHoverEmphasis(btn);\n    }\n  };\n  SliderTimelineView.prototype._renderCurrentPointer = function (layoutInfo, group, axis, timelineModel) {\n    var data = timelineModel.getData();\n    var currentIndex = timelineModel.getCurrentIndex();\n    var pointerModel = data.getItemModel(currentIndex).getModel('checkpointStyle');\n    var me = this;\n    var callback = {\n      onCreate: function (pointer) {\n        pointer.draggable = true;\n        pointer.drift = bind(me._handlePointerDrag, me);\n        pointer.ondragend = bind(me._handlePointerDragend, me);\n        pointerMoveTo(pointer, me._progressLine, currentIndex, axis, timelineModel, true);\n      },\n      onUpdate: function (pointer) {\n        pointerMoveTo(pointer, me._progressLine, currentIndex, axis, timelineModel);\n      }\n    };\n    // Reuse when exists, for animation and drag.\n    this._currentPointer = giveSymbol(pointerModel, pointerModel, this._mainGroup, {}, this._currentPointer, callback);\n  };\n  SliderTimelineView.prototype._handlePlayClick = function (nextState) {\n    this._clearTimer();\n    this.api.dispatchAction({\n      type: 'timelinePlayChange',\n      playState: nextState,\n      from: this.uid\n    });\n  };\n  SliderTimelineView.prototype._handlePointerDrag = function (dx, dy, e) {\n    this._clearTimer();\n    this._pointerChangeTimeline([e.offsetX, e.offsetY]);\n  };\n  SliderTimelineView.prototype._handlePointerDragend = function (e) {\n    this._pointerChangeTimeline([e.offsetX, e.offsetY], true);\n  };\n  SliderTimelineView.prototype._pointerChangeTimeline = function (mousePos, trigger) {\n    var toCoord = this._toAxisCoord(mousePos)[0];\n    var axis = this._axis;\n    var axisExtent = numberUtil.asc(axis.getExtent().slice());\n    toCoord > axisExtent[1] && (toCoord = axisExtent[1]);\n    toCoord < axisExtent[0] && (toCoord = axisExtent[0]);\n    this._currentPointer.x = toCoord;\n    this._currentPointer.markRedraw();\n    var progressLine = this._progressLine;\n    if (progressLine) {\n      progressLine.shape.x2 = toCoord;\n      progressLine.dirty();\n    }\n    var targetDataIndex = this._findNearestTick(toCoord);\n    var timelineModel = this.model;\n    if (trigger || targetDataIndex !== timelineModel.getCurrentIndex() && timelineModel.get('realtime')) {\n      this._changeTimeline(targetDataIndex);\n    }\n  };\n  SliderTimelineView.prototype._doPlayStop = function () {\n    var _this = this;\n    this._clearTimer();\n    if (this.model.getPlayState()) {\n      this._timer = setTimeout(function () {\n        // Do not cache\n        var timelineModel = _this.model;\n        _this._changeTimeline(timelineModel.getCurrentIndex() + (timelineModel.get('rewind', true) ? -1 : 1));\n      }, this.model.get('playInterval'));\n    }\n  };\n  SliderTimelineView.prototype._toAxisCoord = function (vertex) {\n    var trans = this._mainGroup.getLocalTransform();\n    return graphic.applyTransform(vertex, trans, true);\n  };\n  SliderTimelineView.prototype._findNearestTick = function (axisCoord) {\n    var data = this.model.getData();\n    var dist = Infinity;\n    var targetDataIndex;\n    var axis = this._axis;\n    data.each(['value'], function (value, dataIndex) {\n      var coord = axis.dataToCoord(value);\n      var d = Math.abs(coord - axisCoord);\n      if (d < dist) {\n        dist = d;\n        targetDataIndex = dataIndex;\n      }\n    });\n    return targetDataIndex;\n  };\n  SliderTimelineView.prototype._clearTimer = function () {\n    if (this._timer) {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  };\n  SliderTimelineView.prototype._changeTimeline = function (nextIndex) {\n    var currentIndex = this.model.getCurrentIndex();\n    if (nextIndex === '+') {\n      nextIndex = currentIndex + 1;\n    } else if (nextIndex === '-') {\n      nextIndex = currentIndex - 1;\n    }\n    this.api.dispatchAction({\n      type: 'timelineChange',\n      currentIndex: nextIndex,\n      from: this.uid\n    });\n  };\n  SliderTimelineView.prototype._updateTicksStatus = function () {\n    var currentIndex = this.model.getCurrentIndex();\n    var tickSymbols = this._tickSymbols;\n    var tickLabels = this._tickLabels;\n    if (tickSymbols) {\n      for (var i = 0; i < tickSymbols.length; i++) {\n        tickSymbols && tickSymbols[i] && tickSymbols[i].toggleState('progress', i < currentIndex);\n      }\n    }\n    if (tickLabels) {\n      for (var i = 0; i < tickLabels.length; i++) {\n        tickLabels && tickLabels[i] && tickLabels[i].toggleState('progress', labelDataIndexStore(tickLabels[i]).dataIndex <= currentIndex);\n      }\n    }\n  };\n  SliderTimelineView.type = 'timeline.slider';\n  return SliderTimelineView;\n}(TimelineView);\nfunction createScaleByModel(model, axisType) {\n  axisType = axisType || model.get('type');\n  if (axisType) {\n    switch (axisType) {\n      // Buildin scale\n      case 'category':\n        return new OrdinalScale({\n          ordinalMeta: model.getCategories(),\n          extent: [Infinity, -Infinity]\n        });\n      case 'time':\n        return new TimeScale({\n          locale: model.ecModel.getLocaleModel(),\n          useUTC: model.ecModel.get('useUTC')\n        });\n      default:\n        // default to be value\n        return new IntervalScale();\n    }\n  }\n}\nfunction getViewRect(model, api) {\n  return layout.getLayoutRect(model.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  }, model.get('padding'));\n}\nfunction makeControlIcon(timelineModel, objPath, rect, opts) {\n  var style = opts.style;\n  var icon = graphic.createIcon(timelineModel.get(['controlStyle', objPath]), opts || {}, new BoundingRect(rect[0], rect[1], rect[2], rect[3]));\n  // TODO createIcon won't use style in opt.\n  if (style) {\n    icon.setStyle(style);\n  }\n  return icon;\n}\n/**\n * Create symbol or update symbol\n * opt: basic position and event handlers\n */\nfunction giveSymbol(hostModel, itemStyleModel, group, opt, symbol, callback) {\n  var color = itemStyleModel.get('color');\n  if (!symbol) {\n    var symbolType = hostModel.get('symbol');\n    symbol = createSymbol(symbolType, -1, -1, 2, 2, color);\n    symbol.setStyle('strokeNoScale', true);\n    group.add(symbol);\n    callback && callback.onCreate(symbol);\n  } else {\n    symbol.setColor(color);\n    group.add(symbol); // Group may be new, also need to add.\n    callback && callback.onUpdate(symbol);\n  }\n  // Style\n  var itemStyle = itemStyleModel.getItemStyle(['color']);\n  symbol.setStyle(itemStyle);\n  // Transform and events.\n  opt = merge({\n    rectHover: true,\n    z2: 100\n  }, opt, true);\n  var symbolSize = normalizeSymbolSize(hostModel.get('symbolSize'));\n  opt.scaleX = symbolSize[0] / 2;\n  opt.scaleY = symbolSize[1] / 2;\n  var symbolOffset = normalizeSymbolOffset(hostModel.get('symbolOffset'), symbolSize);\n  if (symbolOffset) {\n    opt.x = (opt.x || 0) + symbolOffset[0];\n    opt.y = (opt.y || 0) + symbolOffset[1];\n  }\n  var symbolRotate = hostModel.get('symbolRotate');\n  opt.rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  symbol.attr(opt);\n  // FIXME\n  // (1) When symbol.style.strokeNoScale is true and updateTransform is not performed,\n  // getBoundingRect will return wrong result.\n  // (This is supposed to be resolved in zrender, but it is a little difficult to\n  // leverage performance and auto updateTransform)\n  // (2) All of ancesters of symbol do not scale, so we can just updateTransform symbol.\n  symbol.updateTransform();\n  return symbol;\n}\nfunction pointerMoveTo(pointer, progressLine, dataIndex, axis, timelineModel, noAnimation) {\n  if (pointer.dragging) {\n    return;\n  }\n  var pointerModel = timelineModel.getModel('checkpointStyle');\n  var toCoord = axis.dataToCoord(timelineModel.getData().get('value', dataIndex));\n  if (noAnimation || !pointerModel.get('animation', true)) {\n    pointer.attr({\n      x: toCoord,\n      y: 0\n    });\n    progressLine && progressLine.attr({\n      shape: {\n        x2: toCoord\n      }\n    });\n  } else {\n    var animationCfg = {\n      duration: pointerModel.get('animationDuration', true),\n      easing: pointerModel.get('animationEasing', true)\n    };\n    pointer.stopAnimation(null, true);\n    pointer.animateTo({\n      x: toCoord,\n      y: 0\n    }, animationCfg);\n    progressLine && progressLine.animateTo({\n      shape: {\n        x2: toCoord\n      }\n    }, animationCfg);\n  }\n}\nexport default SliderTimelineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function timelinePreprocessor(option) {\n  var timelineOpt = option && option.timeline;\n  if (!zrUtil.isArray(timelineOpt)) {\n    timelineOpt = timelineOpt ? [timelineOpt] : [];\n  }\n  zrUtil.each(timelineOpt, function (opt) {\n    if (!opt) {\n      return;\n    }\n    compatibleEC2(opt);\n  });\n}\nfunction compatibleEC2(opt) {\n  var type = opt.type;\n  var ec2Types = {\n    'number': 'value',\n    'time': 'time'\n  };\n  // Compatible with ec2\n  if (ec2Types[type]) {\n    opt.axisType = ec2Types[type];\n    delete opt.type;\n  }\n  transferItem(opt);\n  if (has(opt, 'controlPosition')) {\n    var controlStyle = opt.controlStyle || (opt.controlStyle = {});\n    if (!has(controlStyle, 'position')) {\n      controlStyle.position = opt.controlPosition;\n    }\n    if (controlStyle.position === 'none' && !has(controlStyle, 'show')) {\n      controlStyle.show = false;\n      delete controlStyle.position;\n    }\n    delete opt.controlPosition;\n  }\n  zrUtil.each(opt.data || [], function (dataItem) {\n    if (zrUtil.isObject(dataItem) && !zrUtil.isArray(dataItem)) {\n      if (!has(dataItem, 'value') && has(dataItem, 'name')) {\n        // In ec2, using name as value.\n        dataItem.value = dataItem.name;\n      }\n      transferItem(dataItem);\n    }\n  });\n}\nfunction transferItem(opt) {\n  var itemStyle = opt.itemStyle || (opt.itemStyle = {});\n  var itemStyleEmphasis = itemStyle.emphasis || (itemStyle.emphasis = {});\n  // Transfer label out\n  var label = opt.label || opt.label || {};\n  var labelNormal = label.normal || (label.normal = {});\n  var excludeLabelAttr = {\n    normal: 1,\n    emphasis: 1\n  };\n  zrUtil.each(label, function (value, name) {\n    if (!excludeLabelAttr[name] && !has(labelNormal, name)) {\n      labelNormal[name] = value;\n    }\n  });\n  if (itemStyleEmphasis.label && !has(label, 'emphasis')) {\n    label.emphasis = itemStyleEmphasis.label;\n    delete itemStyleEmphasis.label;\n  }\n}\nfunction has(obj, attr) {\n  return obj.hasOwnProperty(attr);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport SliderTimelineModel from './SliderTimelineModel.js';\nimport SliderTimelineView from './SliderTimelineView.js';\nimport { installTimelineAction } from './timelineAction.js';\nimport preprocessor from './preprocessor.js';\nexport function install(registers) {\n  registers.registerComponentModel(SliderTimelineModel);\n  registers.registerComponentView(SliderTimelineView);\n  registers.registerSubTypeDefaulter('timeline', function () {\n    // Only slider now.\n    return 'slider';\n  });\n  installTimelineAction(registers);\n  registers.registerPreprocessor(preprocessor);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { defaults } from 'zrender/lib/core/util.js';\nexport function installTimelineAction(registers) {\n  registers.registerAction({\n    type: 'timelineChange',\n    event: 'timelineChanged',\n    update: 'prepareAndUpdate'\n  }, function (payload, ecModel, api) {\n    var timelineModel = ecModel.getComponent('timeline');\n    if (timelineModel && payload.currentIndex != null) {\n      timelineModel.setCurrentIndex(payload.currentIndex);\n      if (!timelineModel.get('loop', true) && timelineModel.isIndexMax() && timelineModel.getPlayState()) {\n        timelineModel.setPlayState(false);\n        // The timeline has played to the end, trigger event\n        api.dispatchAction({\n          type: 'timelinePlayChange',\n          playState: false,\n          from: payload.from\n        });\n      }\n    }\n    // Set normalized currentIndex to payload.\n    ecModel.resetOption('timeline', {\n      replaceMerge: timelineModel.get('replaceMerge', true)\n    });\n    return defaults({\n      currentIndex: timelineModel.option.currentIndex\n    }, payload);\n  });\n  registers.registerAction({\n    type: 'timelinePlayChange',\n    event: 'timelinePlayChanged',\n    update: 'update'\n  }, function (payload, ecModel) {\n    var timelineModel = ecModel.getComponent('timeline');\n    if (timelineModel && payload.playState != null) {\n      timelineModel.setPlayState(payload.playState);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util.js';\nexport default function checkMarkerInSeries(seriesOpts, markerType) {\n  if (!seriesOpts) {\n    return false;\n  }\n  var seriesOptArr = isArray(seriesOpts) ? seriesOpts : [seriesOpts];\n  for (var idx = 0; idx < seriesOptArr.length; idx++) {\n    if (seriesOptArr[idx] && seriesOptArr[idx][markerType]) {\n      return true;\n    }\n  }\n  return false;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport { DataFormatMixin } from '../../model/mixin/dataFormat.js';\nimport ComponentModel from '../../model/Component.js';\nimport { makeInner, defaultEmphasis } from '../../util/model.js';\nimport { createTooltipMarkup } from '../tooltip/tooltipMarkup.js';\nfunction fillLabel(opt) {\n  defaultEmphasis(opt, 'label', ['show']);\n}\n// { [componentType]: MarkerModel }\nvar inner = makeInner();\nvar MarkerModel = /** @class */function (_super) {\n  __extends(MarkerModel, _super);\n  function MarkerModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkerModel.type;\n    /**\n     * If marker model is created by self from series\n     */\n    _this.createdBySelf = false;\n    return _this;\n  }\n  /**\n   * @overrite\n   */\n  MarkerModel.prototype.init = function (option, parentModel, ecModel) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.type === 'marker') {\n        throw new Error('Marker component is abstract component. Use markLine, markPoint, markArea instead.');\n      }\n    }\n    this.mergeDefaultAndTheme(option, ecModel);\n    this._mergeOption(option, ecModel, false, true);\n  };\n  MarkerModel.prototype.isAnimationEnabled = function () {\n    if (env.node) {\n      return false;\n    }\n    var hostSeries = this.__hostSeries;\n    return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n  };\n  /**\n   * @overrite\n   */\n  MarkerModel.prototype.mergeOption = function (newOpt, ecModel) {\n    this._mergeOption(newOpt, ecModel, false, false);\n  };\n  MarkerModel.prototype._mergeOption = function (newOpt, ecModel, createdBySelf, isInit) {\n    var componentType = this.mainType;\n    if (!createdBySelf) {\n      ecModel.eachSeries(function (seriesModel) {\n        // mainType can be markPoint, markLine, markArea\n        var markerOpt = seriesModel.get(this.mainType, true);\n        var markerModel = inner(seriesModel)[componentType];\n        if (!markerOpt || !markerOpt.data) {\n          inner(seriesModel)[componentType] = null;\n          return;\n        }\n        if (!markerModel) {\n          if (isInit) {\n            // Default label emphasis `position` and `show`\n            fillLabel(markerOpt);\n          }\n          zrUtil.each(markerOpt.data, function (item) {\n            // FIXME Overwrite fillLabel method ?\n            if (item instanceof Array) {\n              fillLabel(item[0]);\n              fillLabel(item[1]);\n            } else {\n              fillLabel(item);\n            }\n          });\n          markerModel = this.createMarkerModelFromSeries(markerOpt, this, ecModel);\n          // markerModel = new ImplementedMarkerModel(\n          //     markerOpt, this, ecModel\n          // );\n          zrUtil.extend(markerModel, {\n            mainType: this.mainType,\n            // Use the same series index and name\n            seriesIndex: seriesModel.seriesIndex,\n            name: seriesModel.name,\n            createdBySelf: true\n          });\n          markerModel.__hostSeries = seriesModel;\n        } else {\n          markerModel._mergeOption(markerOpt, ecModel, true);\n        }\n        inner(seriesModel)[componentType] = markerModel;\n      }, this);\n    }\n  };\n  MarkerModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var itemName = data.getName(dataIndex);\n    return createTooltipMarkup('section', {\n      header: this.name,\n      blocks: [createTooltipMarkup('nameValue', {\n        name: itemName,\n        value: value,\n        noName: !itemName,\n        noValue: value == null\n      })]\n    });\n  };\n  MarkerModel.prototype.getData = function () {\n    return this._data;\n  };\n  MarkerModel.prototype.setData = function (data) {\n    this._data = data;\n  };\n  MarkerModel.getMarkerModelFromSeries = function (seriesModel,\n  // Support three types of markers. Strict check.\n  componentType) {\n    return inner(seriesModel)[componentType];\n  };\n  MarkerModel.type = 'marker';\n  MarkerModel.dependencies = ['series', 'grid', 'polar', 'geo'];\n  return MarkerModel;\n}(ComponentModel);\nzrUtil.mixin(MarkerModel, DataFormatMixin.prototype);\nexport default MarkerModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkPointModel = /** @class */function (_super) {\n  __extends(MarkPointModel, _super);\n  function MarkPointModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkPointModel.type;\n    return _this;\n  }\n  MarkPointModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkPointModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkPointModel.type = 'markPoint';\n  MarkPointModel.defaultOption = {\n    // zlevel: 0,\n    z: 5,\n    symbol: 'pin',\n    symbolSize: 50,\n    // symbolRotate: 0,\n    // symbolOffset: [0, 0]\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'inside'\n    },\n    itemStyle: {\n      borderWidth: 2\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    }\n  };\n  return MarkPointModel;\n}(MarkerModel);\nexport default MarkPointModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as numberUtil from '../../util/number.js';\nimport { isDimensionStacked } from '../../data/helper/dataStackHelper.js';\nimport { indexOf, curry, clone, isArray } from 'zrender/lib/core/util.js';\nimport { parseDataValue } from '../../data/helper/dataValueHelper.js';\nfunction hasXOrY(item) {\n  return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n}\nfunction hasXAndY(item) {\n  return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n}\nfunction markerTypeCalculatorWithExtent(markerType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n  var coordArr = [];\n  var stacked = isDimensionStacked(data, targetDataDim /* , otherDataDim */);\n  var calcDataDim = stacked ? data.getCalculationInfo('stackResultDimension') : targetDataDim;\n  var value = numCalculate(data, calcDataDim, markerType);\n  var dataIndex = data.indicesOfNearest(calcDataDim, value)[0];\n  coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex);\n  coordArr[targetCoordIndex] = data.get(calcDataDim, dataIndex);\n  var coordArrValue = data.get(targetDataDim, dataIndex);\n  // Make it simple, do not visit all stacked value to count precision.\n  var precision = numberUtil.getPrecision(data.get(targetDataDim, dataIndex));\n  precision = Math.min(precision, 20);\n  if (precision >= 0) {\n    coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n  }\n  return [coordArr, coordArrValue];\n}\n// TODO Specified percent\nvar markerTypeCalculator = {\n  min: curry(markerTypeCalculatorWithExtent, 'min'),\n  max: curry(markerTypeCalculatorWithExtent, 'max'),\n  average: curry(markerTypeCalculatorWithExtent, 'average'),\n  median: curry(markerTypeCalculatorWithExtent, 'median')\n};\n/**\n * Transform markPoint data item to format used in List by do the following\n * 1. Calculate statistic like `max`, `min`, `average`\n * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n */\nexport function dataTransform(seriesModel, item) {\n  if (!item) {\n    return;\n  }\n  var data = seriesModel.getData();\n  var coordSys = seriesModel.coordinateSystem;\n  var dims = coordSys && coordSys.dimensions;\n  // 1. If not specify the position with pixel directly\n  // 2. If `coord` is not a data array. Which uses `xAxis`,\n  // `yAxis` to specify the coord on each dimension\n  // parseFloat first because item.x and item.y can be percent string like '20%'\n  if (!hasXAndY(item) && !isArray(item.coord) && isArray(dims)) {\n    var axisInfo = getAxisInfo(item, data, coordSys, seriesModel);\n    // Clone the option\n    // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n    item = clone(item);\n    if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n      var otherCoordIndex = indexOf(dims, axisInfo.baseAxis.dim);\n      var targetCoordIndex = indexOf(dims, axisInfo.valueAxis.dim);\n      var coordInfo = markerTypeCalculator[item.type](data, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex);\n      item.coord = coordInfo[0];\n      // Force to use the value of calculated value.\n      // let item use the value without stack.\n      item.value = coordInfo[1];\n    } else {\n      // FIXME Only has one of xAxis and yAxis.\n      item.coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis];\n    }\n  }\n  // x y is provided\n  if (item.coord == null || !isArray(dims)) {\n    item.coord = [];\n  } else {\n    // Each coord support max, min, average\n    var coord = item.coord;\n    for (var i = 0; i < 2; i++) {\n      if (markerTypeCalculator[coord[i]]) {\n        coord[i] = numCalculate(data, data.mapDimension(dims[i]), coord[i]);\n      }\n    }\n  }\n  return item;\n}\nexport function getAxisInfo(item, data, coordSys, seriesModel) {\n  var ret = {};\n  if (item.valueIndex != null || item.valueDim != null) {\n    ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n    ret.valueAxis = coordSys.getAxis(dataDimToCoordDim(seriesModel, ret.valueDataDim));\n    ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n  } else {\n    ret.baseAxis = seriesModel.getBaseAxis();\n    ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n    ret.valueDataDim = data.mapDimension(ret.valueAxis.dim);\n  }\n  return ret;\n}\nfunction dataDimToCoordDim(seriesModel, dataDim) {\n  var dimItem = seriesModel.getData().getDimensionInfo(dataDim);\n  return dimItem && dimItem.coordDim;\n}\n/**\n * Filter data which is out of coordinateSystem range\n * [dataFilter description]\n */\nexport function dataFilter(\n// Currently only polar and cartesian has containData.\ncoordSys, item) {\n  // Always return true if there is no coordSys\n  return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n}\nexport function zoneFilter(\n// Currently only polar and cartesian has containData.\ncoordSys, item1, item2) {\n  // Always return true if there is no coordSys\n  return coordSys && coordSys.containZone && item1.coord && item2.coord && !hasXOrY(item1) && !hasXOrY(item2) ? coordSys.containZone(item1.coord, item2.coord) : true;\n}\nexport function createMarkerDimValueGetter(inCoordSys, dims) {\n  return inCoordSys ? function (item, dimName, dataIndex, dimIndex) {\n    var rawVal = dimIndex < 2\n    // x, y, radius, angle\n    ? item.coord && item.coord[dimIndex] : item.value;\n    return parseDataValue(rawVal, dims[dimIndex]);\n  } : function (item, dimName, dataIndex, dimIndex) {\n    return parseDataValue(item.value, dims[dimIndex]);\n  };\n}\nexport function numCalculate(data, valueDataDim, type) {\n  if (type === 'average') {\n    var sum_1 = 0;\n    var count_1 = 0;\n    data.each(valueDataDim, function (val, idx) {\n      if (!isNaN(val)) {\n        sum_1 += val;\n        count_1++;\n      }\n    });\n    return sum_1 / count_1;\n  } else if (type === 'median') {\n    return data.getMedian(valueDataDim);\n  } else {\n    // max & min\n    return data.getDataExtent(valueDataDim)[type === 'max' ? 1 : 0];\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport MarkerModel from './MarkerModel.js';\nimport { makeInner } from '../../util/model.js';\nimport { enterBlur, leaveBlur } from '../../util/states.js';\nvar inner = makeInner();\nvar MarkerView = /** @class */function (_super) {\n  __extends(MarkerView, _super);\n  function MarkerView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkerView.type;\n    return _this;\n  }\n  MarkerView.prototype.init = function () {\n    this.markerGroupMap = createHashMap();\n  };\n  MarkerView.prototype.render = function (markerModel, ecModel, api) {\n    var _this = this;\n    var markerGroupMap = this.markerGroupMap;\n    markerGroupMap.each(function (item) {\n      inner(item).keep = false;\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      var markerModel = MarkerModel.getMarkerModelFromSeries(seriesModel, _this.type);\n      markerModel && _this.renderSeries(seriesModel, markerModel, ecModel, api);\n    });\n    markerGroupMap.each(function (item) {\n      !inner(item).keep && _this.group.remove(item.group);\n    });\n  };\n  MarkerView.prototype.markKeep = function (drawGroup) {\n    inner(drawGroup).keep = true;\n  };\n  MarkerView.prototype.toggleBlurSeries = function (seriesModelList, isBlur) {\n    var _this = this;\n    each(seriesModelList, function (seriesModel) {\n      var markerModel = MarkerModel.getMarkerModelFromSeries(seriesModel, _this.type);\n      if (markerModel) {\n        var data = markerModel.getData();\n        data.eachItemGraphicEl(function (el) {\n          if (el) {\n            isBlur ? enterBlur(el) : leaveBlur(el);\n          }\n        });\n      }\n    });\n  };\n  MarkerView.type = 'marker';\n  return MarkerView;\n}(ComponentView);\nexport default MarkerView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../../chart/helper/SymbolDraw.js';\nimport * as numberUtil from '../../util/number.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport * as markerHelper from './markerHelper.js';\nimport MarkerView from './MarkerView.js';\nimport MarkerModel from './MarkerModel.js';\nimport { isFunction, map, filter, curry, extend } from 'zrender/lib/core/util.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nfunction updateMarkerLayout(mpData, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  mpData.each(function (idx) {\n    var itemModel = mpData.getItemModel(idx);\n    var point;\n    var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n    var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    }\n    // Chart like bar may have there own marker positioning logic\n    else if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions, idx));\n    } else if (coordSys) {\n      var x = mpData.get(coordSys.dimensions[0], idx);\n      var y = mpData.get(coordSys.dimensions[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    }\n    // Use x, y if has any\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n    mpData.setItemLayout(idx, point);\n  });\n}\nvar MarkPointView = /** @class */function (_super) {\n  __extends(MarkPointView, _super);\n  function MarkPointView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkPointView.type;\n    return _this;\n  }\n  MarkPointView.prototype.updateTransform = function (markPointModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mpModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markPoint');\n      if (mpModel) {\n        updateMarkerLayout(mpModel.getData(), seriesModel, api);\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  };\n  MarkPointView.prototype.renderSeries = function (seriesModel, mpModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var symbolDrawMap = this.markerGroupMap;\n    var symbolDraw = symbolDrawMap.get(seriesId) || symbolDrawMap.set(seriesId, new SymbolDraw());\n    var mpData = createData(coordSys, seriesModel, mpModel);\n    // FIXME\n    mpModel.setData(mpData);\n    updateMarkerLayout(mpModel.getData(), seriesModel, api);\n    mpData.each(function (idx) {\n      var itemModel = mpData.getItemModel(idx);\n      var symbol = itemModel.getShallow('symbol');\n      var symbolSize = itemModel.getShallow('symbolSize');\n      var symbolRotate = itemModel.getShallow('symbolRotate');\n      var symbolOffset = itemModel.getShallow('symbolOffset');\n      var symbolKeepAspect = itemModel.getShallow('symbolKeepAspect');\n      // TODO: refactor needed: single data item should not support callback function\n      if (isFunction(symbol) || isFunction(symbolSize) || isFunction(symbolRotate) || isFunction(symbolOffset)) {\n        var rawIdx = mpModel.getRawValue(idx);\n        var dataParams = mpModel.getDataParams(idx);\n        if (isFunction(symbol)) {\n          symbol = symbol(rawIdx, dataParams);\n        }\n        if (isFunction(symbolSize)) {\n          // FIXME  ECharts 2.x2.x \n          symbolSize = symbolSize(rawIdx, dataParams);\n        }\n        if (isFunction(symbolRotate)) {\n          symbolRotate = symbolRotate(rawIdx, dataParams);\n        }\n        if (isFunction(symbolOffset)) {\n          symbolOffset = symbolOffset(rawIdx, dataParams);\n        }\n      }\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      var color = getVisualFromData(seriesData, 'color');\n      if (!style.fill) {\n        style.fill = color;\n      }\n      mpData.setItemVisual(idx, {\n        symbol: symbol,\n        symbolSize: symbolSize,\n        symbolRotate: symbolRotate,\n        symbolOffset: symbolOffset,\n        symbolKeepAspect: symbolKeepAspect,\n        style: style\n      });\n    });\n    // TODO Text are wrong\n    symbolDraw.updateData(mpData);\n    this.group.add(symbolDraw.group);\n    // Set host model for tooltip\n    // FIXME\n    mpData.eachItemGraphicEl(function (el) {\n      el.traverse(function (child) {\n        getECData(child).dataModel = mpModel;\n      });\n    });\n    this.markKeep(symbolDraw);\n    symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkPointView.type = 'markPoint';\n  return MarkPointView;\n}(MarkerView);\nfunction createData(coordSys, seriesModel, mpModel) {\n  var coordDimsInfos;\n  if (coordSys) {\n    coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {};\n      // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n  var mpData = new SeriesData(coordDimsInfos, mpModel);\n  var dataOpt = map(mpModel.get('data'), curry(markerHelper.dataTransform, seriesModel));\n  if (coordSys) {\n    dataOpt = filter(dataOpt, curry(markerHelper.dataFilter, coordSys));\n  }\n  var dimValueGetter = markerHelper.createMarkerDimValueGetter(!!coordSys, coordDimsInfos);\n  mpData.initData(dataOpt, null, dimValueGetter);\n  return mpData;\n}\nexport default MarkPointView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport checkMarkerInSeries from './checkMarkerInSeries.js';\nimport MarkPointModel from './MarkPointModel.js';\nimport MarkPointView from './MarkPointView.js';\nexport function install(registers) {\n  registers.registerComponentModel(MarkPointModel);\n  registers.registerComponentView(MarkPointView);\n  registers.registerPreprocessor(function (opt) {\n    if (checkMarkerInSeries(opt.series, 'markPoint')) {\n      // Make sure markPoint component is enabled\n      opt.markPoint = opt.markPoint || {};\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkLineModel = /** @class */function (_super) {\n  __extends(MarkLineModel, _super);\n  function MarkLineModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkLineModel.type;\n    return _this;\n  }\n  MarkLineModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkLineModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkLineModel.type = 'markLine';\n  MarkLineModel.defaultOption = {\n    // zlevel: 0,\n    z: 5,\n    symbol: ['circle', 'arrow'],\n    symbolSize: [8, 16],\n    // symbolRotate: 0,\n    symbolOffset: 0,\n    precision: 2,\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'end',\n      distance: 5\n    },\n    lineStyle: {\n      type: 'dashed'\n    },\n    emphasis: {\n      label: {\n        show: true\n      },\n      lineStyle: {\n        width: 3\n      }\n    },\n    animationEasing: 'linear'\n  };\n  return MarkLineModel;\n}(MarkerModel);\nexport default MarkLineModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesData from '../../data/SeriesData.js';\nimport * as numberUtil from '../../util/number.js';\nimport * as markerHelper from './markerHelper.js';\nimport LineDraw from '../../chart/helper/LineDraw.js';\nimport MarkerView from './MarkerView.js';\nimport { getStackedDimension } from '../../data/helper/dataStackHelper.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { getECData } from '../../util/innerStore.js';\nimport MarkerModel from './MarkerModel.js';\nimport { isArray, retrieve, retrieve2, clone, extend, logError, merge, map, curry, filter, isNumber } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nvar inner = makeInner();\nvar markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n  var data = seriesModel.getData();\n  var itemArray;\n  if (!isArray(item)) {\n    // Special type markLine like 'min', 'max', 'average', 'median'\n    var mlType = item.type;\n    if (mlType === 'min' || mlType === 'max' || mlType === 'average' || mlType === 'median'\n    // In case\n    // data: [{\n    //   yAxis: 10\n    // }]\n    || item.xAxis != null || item.yAxis != null) {\n      var valueAxis = void 0;\n      var value = void 0;\n      if (item.yAxis != null || item.xAxis != null) {\n        valueAxis = coordSys.getAxis(item.yAxis != null ? 'y' : 'x');\n        value = retrieve(item.yAxis, item.xAxis);\n      } else {\n        var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n        valueAxis = axisInfo.valueAxis;\n        var valueDataDim = getStackedDimension(data, axisInfo.valueDataDim);\n        value = markerHelper.numCalculate(data, valueDataDim, mlType);\n      }\n      var valueIndex = valueAxis.dim === 'x' ? 0 : 1;\n      var baseIndex = 1 - valueIndex;\n      // Normized to 2d data with start and end point\n      var mlFrom = clone(item);\n      var mlTo = {\n        coord: []\n      };\n      mlFrom.type = null;\n      mlFrom.coord = [];\n      mlFrom.coord[baseIndex] = -Infinity;\n      mlTo.coord[baseIndex] = Infinity;\n      var precision = mlModel.get('precision');\n      if (precision >= 0 && isNumber(value)) {\n        value = +value.toFixed(Math.min(precision, 20));\n      }\n      mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n      itemArray = [mlFrom, mlTo, {\n        type: mlType,\n        valueIndex: item.valueIndex,\n        // Force to use the value of calculated value.\n        value: value\n      }];\n    } else {\n      // Invalid data\n      if (process.env.NODE_ENV !== 'production') {\n        logError('Invalid markLine data.');\n      }\n      itemArray = [];\n    }\n  } else {\n    itemArray = item;\n  }\n  var normalizedItem = [markerHelper.dataTransform(seriesModel, itemArray[0]), markerHelper.dataTransform(seriesModel, itemArray[1]), extend({}, itemArray[2])];\n  // Avoid line data type is extended by from(to) data type\n  normalizedItem[2].type = normalizedItem[2].type || null;\n  // Merge from option and to option into line option\n  merge(normalizedItem[2], normalizedItem[0]);\n  merge(normalizedItem[2], normalizedItem[1]);\n  return normalizedItem;\n};\nfunction isInfinity(val) {\n  return !isNaN(val) && !isFinite(val);\n}\n// If a markLine has one dim\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  var dimName = coordSys.dimensions[dimIndex];\n  return isInfinity(fromCoord[otherDimIndex]) && isInfinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n}\nfunction markLineFilter(coordSys, item) {\n  if (coordSys.type === 'cartesian2d') {\n    var fromCoord = item[0].coord;\n    var toCoord = item[1].coord;\n    // In case\n    // {\n    //  markLine: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n  return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n}\nfunction updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n    } else {\n      var dims = coordSys.dimensions;\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    }\n    // Expand line to the edge of grid if value on one axis is Inifnity\n    // In case\n    //  markLine: {\n    //    data: [{\n    //      yAxis: 2\n    //      // or\n    //      type: 'average'\n    //    }]\n    //  }\n    if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n      // TODO: TYPE ts@4.1 may still infer it as Axis instead of Axis2D. Not sure if it's a bug\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var dims = coordSys.dimensions;\n      if (isInfinity(data.get(dims[0], idx))) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n      } else if (isInfinity(data.get(dims[1], idx))) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n      }\n    }\n    // Use x, y if has any\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n  data.setItemLayout(idx, point);\n}\nvar MarkLineView = /** @class */function (_super) {\n  __extends(MarkLineView, _super);\n  function MarkLineView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkLineView.type;\n    return _this;\n  }\n  MarkLineView.prototype.updateTransform = function (markLineModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mlModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markLine');\n      if (mlModel) {\n        var mlData_1 = mlModel.getData();\n        var fromData_1 = inner(mlModel).from;\n        var toData_1 = inner(mlModel).to;\n        // Update visual and layout of from symbol and to symbol\n        fromData_1.each(function (idx) {\n          updateSingleMarkerEndLayout(fromData_1, idx, true, seriesModel, api);\n          updateSingleMarkerEndLayout(toData_1, idx, false, seriesModel, api);\n        });\n        // Update layout of line\n        mlData_1.each(function (idx) {\n          mlData_1.setItemLayout(idx, [fromData_1.getItemLayout(idx), toData_1.getItemLayout(idx)]);\n        });\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  };\n  MarkLineView.prototype.renderSeries = function (seriesModel, mlModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var lineDrawMap = this.markerGroupMap;\n    var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw());\n    this.group.add(lineDraw.group);\n    var mlData = createList(coordSys, seriesModel, mlModel);\n    var fromData = mlData.from;\n    var toData = mlData.to;\n    var lineData = mlData.line;\n    inner(mlModel).from = fromData;\n    inner(mlModel).to = toData;\n    // Line data for tooltip and formatter\n    mlModel.setData(lineData);\n    // TODO\n    // Functionally, `symbolSize` & `symbolOffset` can also be 2D array now.\n    // But the related logic and type definition are not finished yet.\n    // Finish it if required\n    var symbolType = mlModel.get('symbol');\n    var symbolSize = mlModel.get('symbolSize');\n    var symbolRotate = mlModel.get('symbolRotate');\n    var symbolOffset = mlModel.get('symbolOffset');\n    // TODO: support callback function like markPoint\n    if (!isArray(symbolType)) {\n      symbolType = [symbolType, symbolType];\n    }\n    if (!isArray(symbolSize)) {\n      symbolSize = [symbolSize, symbolSize];\n    }\n    if (!isArray(symbolRotate)) {\n      symbolRotate = [symbolRotate, symbolRotate];\n    }\n    if (!isArray(symbolOffset)) {\n      symbolOffset = [symbolOffset, symbolOffset];\n    }\n    // Update visual and layout of from symbol and to symbol\n    mlData.from.each(function (idx) {\n      updateDataVisualAndLayout(fromData, idx, true);\n      updateDataVisualAndLayout(toData, idx, false);\n    });\n    // Update visual and layout of line\n    lineData.each(function (idx) {\n      var lineStyle = lineData.getItemModel(idx).getModel('lineStyle').getLineStyle();\n      // lineData.setItemVisual(idx, {\n      //     color: lineColor || fromData.getItemVisual(idx, 'color')\n      // });\n      lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n      if (lineStyle.stroke == null) {\n        lineStyle.stroke = fromData.getItemVisual(idx, 'style').fill;\n      }\n      lineData.setItemVisual(idx, {\n        fromSymbolKeepAspect: fromData.getItemVisual(idx, 'symbolKeepAspect'),\n        fromSymbolOffset: fromData.getItemVisual(idx, 'symbolOffset'),\n        fromSymbolRotate: fromData.getItemVisual(idx, 'symbolRotate'),\n        fromSymbolSize: fromData.getItemVisual(idx, 'symbolSize'),\n        fromSymbol: fromData.getItemVisual(idx, 'symbol'),\n        toSymbolKeepAspect: toData.getItemVisual(idx, 'symbolKeepAspect'),\n        toSymbolOffset: toData.getItemVisual(idx, 'symbolOffset'),\n        toSymbolRotate: toData.getItemVisual(idx, 'symbolRotate'),\n        toSymbolSize: toData.getItemVisual(idx, 'symbolSize'),\n        toSymbol: toData.getItemVisual(idx, 'symbol'),\n        style: lineStyle\n      });\n    });\n    lineDraw.updateData(lineData);\n    // Set host model for tooltip\n    // FIXME\n    mlData.line.eachItemGraphicEl(function (el) {\n      getECData(el).dataModel = mlModel;\n      el.traverse(function (child) {\n        getECData(child).dataModel = mlModel;\n      });\n    });\n    function updateDataVisualAndLayout(data, idx, isFrom) {\n      var itemModel = data.getItemModel(idx);\n      updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      if (style.fill == null) {\n        style.fill = getVisualFromData(seriesData, 'color');\n      }\n      data.setItemVisual(idx, {\n        symbolKeepAspect: itemModel.get('symbolKeepAspect'),\n        // `0` should be considered as a valid value, so use `retrieve2` instead of `||`\n        symbolOffset: retrieve2(itemModel.get('symbolOffset', true), symbolOffset[isFrom ? 0 : 1]),\n        symbolRotate: retrieve2(itemModel.get('symbolRotate', true), symbolRotate[isFrom ? 0 : 1]),\n        // TODO: when 2d array is supported, it should ignore parent\n        symbolSize: retrieve2(itemModel.get('symbolSize'), symbolSize[isFrom ? 0 : 1]),\n        symbol: retrieve2(itemModel.get('symbol', true), symbolType[isFrom ? 0 : 1]),\n        style: style\n      });\n    }\n    this.markKeep(lineDraw);\n    lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkLineView.type = 'markLine';\n  return MarkLineView;\n}(MarkerView);\nfunction createList(coordSys, seriesModel, mlModel) {\n  var coordDimsInfos;\n  if (coordSys) {\n    coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {};\n      // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n  var fromData = new SeriesData(coordDimsInfos, mlModel);\n  var toData = new SeriesData(coordDimsInfos, mlModel);\n  // No dimensions\n  var lineData = new SeriesData([], mlModel);\n  var optData = map(mlModel.get('data'), curry(markLineTransform, seriesModel, coordSys, mlModel));\n  if (coordSys) {\n    optData = filter(optData, curry(markLineFilter, coordSys));\n  }\n  var dimValueGetter = markerHelper.createMarkerDimValueGetter(!!coordSys, coordDimsInfos);\n  fromData.initData(map(optData, function (item) {\n    return item[0];\n  }), null, dimValueGetter);\n  toData.initData(map(optData, function (item) {\n    return item[1];\n  }), null, dimValueGetter);\n  lineData.initData(map(optData, function (item) {\n    return item[2];\n  }));\n  lineData.hasItemOption = true;\n  return {\n    from: fromData,\n    to: toData,\n    line: lineData\n  };\n}\nexport default MarkLineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport checkMarkerInSeries from './checkMarkerInSeries.js';\nimport MarkLineModel from './MarkLineModel.js';\nimport MarkLineView from './MarkLineView.js';\nexport function install(registers) {\n  registers.registerComponentModel(MarkLineModel);\n  registers.registerComponentView(MarkLineView);\n  registers.registerPreprocessor(function (opt) {\n    if (checkMarkerInSeries(opt.series, 'markLine')) {\n      // Make sure markLine component is enabled\n      opt.markLine = opt.markLine || {};\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkAreaModel = /** @class */function (_super) {\n  __extends(MarkAreaModel, _super);\n  function MarkAreaModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkAreaModel.type;\n    return _this;\n  }\n  MarkAreaModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkAreaModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkAreaModel.type = 'markArea';\n  MarkAreaModel.defaultOption = {\n    // zlevel: 0,\n    // PENDING\n    z: 1,\n    tooltip: {\n      trigger: 'item'\n    },\n    // markArea should fixed on the coordinate system\n    animation: false,\n    label: {\n      show: true,\n      position: 'top'\n    },\n    itemStyle: {\n      // color and borderColor default to use color from series\n      // color: 'auto'\n      // borderColor: 'auto'\n      borderWidth: 0\n    },\n    emphasis: {\n      label: {\n        show: true,\n        position: 'top'\n      }\n    }\n  };\n  return MarkAreaModel;\n}(MarkerModel);\nexport default MarkAreaModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n// TODO Optimize on polar\nimport * as colorUtil from 'zrender/lib/tool/color.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport * as numberUtil from '../../util/number.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis, setStatesStylesFromModel } from '../../util/states.js';\nimport * as markerHelper from './markerHelper.js';\nimport MarkerView from './MarkerView.js';\nimport { retrieve, mergeAll, map, curry, filter, extend, isString } from 'zrender/lib/core/util.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport MarkerModel from './MarkerModel.js';\nimport { makeInner } from '../../util/model.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { parseDataValue } from '../../data/helper/dataValueHelper.js';\nvar inner = makeInner();\nvar markAreaTransform = function (seriesModel, coordSys, maModel, item) {\n  // item may be null\n  var item0 = item[0];\n  var item1 = item[1];\n  if (!item0 || !item1) {\n    return;\n  }\n  var lt = markerHelper.dataTransform(seriesModel, item0);\n  var rb = markerHelper.dataTransform(seriesModel, item1);\n  // FIXME make sure lt is less than rb\n  var ltCoord = lt.coord;\n  var rbCoord = rb.coord;\n  ltCoord[0] = retrieve(ltCoord[0], -Infinity);\n  ltCoord[1] = retrieve(ltCoord[1], -Infinity);\n  rbCoord[0] = retrieve(rbCoord[0], Infinity);\n  rbCoord[1] = retrieve(rbCoord[1], Infinity);\n  // Merge option into one\n  var result = mergeAll([{}, lt, rb]);\n  result.coord = [lt.coord, rb.coord];\n  result.x0 = lt.x;\n  result.y0 = lt.y;\n  result.x1 = rb.x;\n  result.y1 = rb.y;\n  return result;\n};\nfunction isInfinity(val) {\n  return !isNaN(val) && !isFinite(val);\n}\n// If a markArea has one dim\nfunction ifMarkAreaHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  return isInfinity(fromCoord[otherDimIndex]) && isInfinity(toCoord[otherDimIndex]);\n}\nfunction markAreaFilter(coordSys, item) {\n  var fromCoord = item.coord[0];\n  var toCoord = item.coord[1];\n  var item0 = {\n    coord: fromCoord,\n    x: item.x0,\n    y: item.y0\n  };\n  var item1 = {\n    coord: toCoord,\n    x: item.x1,\n    y: item.y1\n  };\n  if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n    // In case\n    // {\n    //  markArea: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n    if (fromCoord && toCoord && (ifMarkAreaHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkAreaHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n    // Directly returning true may also do the work,\n    // because markArea will not be shown automatically\n    // when it's not included in coordinate system.\n    // But filtering ahead can avoid keeping rendering markArea\n    // when there are too many of them.\n    return markerHelper.zoneFilter(coordSys, item0, item1);\n  }\n  return markerHelper.dataFilter(coordSys, item0) || markerHelper.dataFilter(coordSys, item1);\n}\n// dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\nfunction getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get(dims[0]), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get(dims[1]), api.getHeight());\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Consider the case that user input the right-bottom point first\n      // Pick the larger x and y as 'x1' and 'y1'\n      var pointValue0 = data.getValues(['x0', 'y0'], idx);\n      var pointValue1 = data.getValues(['x1', 'y1'], idx);\n      var clampPointValue0 = coordSys.clampData(pointValue0);\n      var clampPointValue1 = coordSys.clampData(pointValue1);\n      var pointValue = [];\n      if (dims[0] === 'x0') {\n        pointValue[0] = clampPointValue0[0] > clampPointValue1[0] ? pointValue1[0] : pointValue0[0];\n      } else {\n        pointValue[0] = clampPointValue0[0] > clampPointValue1[0] ? pointValue0[0] : pointValue1[0];\n      }\n      if (dims[1] === 'y0') {\n        pointValue[1] = clampPointValue0[1] > clampPointValue1[1] ? pointValue1[1] : pointValue0[1];\n      } else {\n        pointValue[1] = clampPointValue0[1] > clampPointValue1[1] ? pointValue0[1] : pointValue1[1];\n      }\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(pointValue, dims, true);\n    } else {\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      var pt = [x, y];\n      coordSys.clampData && coordSys.clampData(pt, pt);\n      point = coordSys.dataToPoint(pt, true);\n    }\n    if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n      // TODO: TYPE ts@4.1 may still infer it as Axis instead of Axis2D. Not sure if it's a bug\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      if (isInfinity(x)) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n      } else if (isInfinity(y)) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n      }\n    }\n    // Use x, y if has any\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n  return point;\n}\nexport var dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\nvar MarkAreaView = /** @class */function (_super) {\n  __extends(MarkAreaView, _super);\n  function MarkAreaView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkAreaView.type;\n    return _this;\n  }\n  MarkAreaView.prototype.updateTransform = function (markAreaModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var maModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markArea');\n      if (maModel) {\n        var areaData_1 = maModel.getData();\n        areaData_1.each(function (idx) {\n          var points = map(dimPermutations, function (dim) {\n            return getSingleMarkerEndPoint(areaData_1, idx, dim, seriesModel, api);\n          });\n          // Layout\n          areaData_1.setItemLayout(idx, points);\n          var el = areaData_1.getItemGraphicEl(idx);\n          el.setShape('points', points);\n        });\n      }\n    }, this);\n  };\n  MarkAreaView.prototype.renderSeries = function (seriesModel, maModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var areaGroupMap = this.markerGroupMap;\n    var polygonGroup = areaGroupMap.get(seriesId) || areaGroupMap.set(seriesId, {\n      group: new graphic.Group()\n    });\n    this.group.add(polygonGroup.group);\n    this.markKeep(polygonGroup);\n    var areaData = createList(coordSys, seriesModel, maModel);\n    // Line data for tooltip and formatter\n    maModel.setData(areaData);\n    // Update visual and layout of line\n    areaData.each(function (idx) {\n      // Layout\n      var points = map(dimPermutations, function (dim) {\n        return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n      });\n      var xAxisScale = coordSys.getAxis('x').scale;\n      var yAxisScale = coordSys.getAxis('y').scale;\n      var xAxisExtent = xAxisScale.getExtent();\n      var yAxisExtent = yAxisScale.getExtent();\n      var xPointExtent = [xAxisScale.parse(areaData.get('x0', idx)), xAxisScale.parse(areaData.get('x1', idx))];\n      var yPointExtent = [yAxisScale.parse(areaData.get('y0', idx)), yAxisScale.parse(areaData.get('y1', idx))];\n      numberUtil.asc(xPointExtent);\n      numberUtil.asc(yPointExtent);\n      var overlapped = !(xAxisExtent[0] > xPointExtent[1] || xAxisExtent[1] < xPointExtent[0] || yAxisExtent[0] > yPointExtent[1] || yAxisExtent[1] < yPointExtent[0]);\n      // If none of the area is inside coordSys, allClipped is set to be true\n      // in layout so that label will not be displayed. See #12591\n      var allClipped = !overlapped;\n      areaData.setItemLayout(idx, {\n        points: points,\n        allClipped: allClipped\n      });\n      var style = areaData.getItemModel(idx).getModel('itemStyle').getItemStyle();\n      var color = getVisualFromData(seriesData, 'color');\n      if (!style.fill) {\n        style.fill = color;\n        if (isString(style.fill)) {\n          style.fill = colorUtil.modifyAlpha(style.fill, 0.4);\n        }\n      }\n      if (!style.stroke) {\n        style.stroke = color;\n      }\n      // Visual\n      areaData.setItemVisual(idx, 'style', style);\n    });\n    areaData.diff(inner(polygonGroup).data).add(function (idx) {\n      var layout = areaData.getItemLayout(idx);\n      if (!layout.allClipped) {\n        var polygon = new graphic.Polygon({\n          shape: {\n            points: layout.points\n          }\n        });\n        areaData.setItemGraphicEl(idx, polygon);\n        polygonGroup.group.add(polygon);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var polygon = inner(polygonGroup).data.getItemGraphicEl(oldIdx);\n      var layout = areaData.getItemLayout(newIdx);\n      if (!layout.allClipped) {\n        if (polygon) {\n          graphic.updateProps(polygon, {\n            shape: {\n              points: layout.points\n            }\n          }, maModel, newIdx);\n        } else {\n          polygon = new graphic.Polygon({\n            shape: {\n              points: layout.points\n            }\n          });\n        }\n        areaData.setItemGraphicEl(newIdx, polygon);\n        polygonGroup.group.add(polygon);\n      } else if (polygon) {\n        polygonGroup.group.remove(polygon);\n      }\n    }).remove(function (idx) {\n      var polygon = inner(polygonGroup).data.getItemGraphicEl(idx);\n      polygonGroup.group.remove(polygon);\n    }).execute();\n    areaData.eachItemGraphicEl(function (polygon, idx) {\n      var itemModel = areaData.getItemModel(idx);\n      var style = areaData.getItemVisual(idx, 'style');\n      polygon.useStyle(areaData.getItemVisual(idx, 'style'));\n      setLabelStyle(polygon, getLabelStatesModels(itemModel), {\n        labelFetcher: maModel,\n        labelDataIndex: idx,\n        defaultText: areaData.getName(idx) || '',\n        inheritColor: isString(style.fill) ? colorUtil.modifyAlpha(style.fill, 1) : '#000'\n      });\n      setStatesStylesFromModel(polygon, itemModel);\n      toggleHoverEmphasis(polygon, null, null, itemModel.get(['emphasis', 'disabled']));\n      getECData(polygon).dataModel = maModel;\n    });\n    inner(polygonGroup).data = areaData;\n    polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkAreaView.type = 'markArea';\n  return MarkAreaView;\n}(MarkerView);\nfunction createList(coordSys, seriesModel, maModel) {\n  var areaData;\n  var dataDims;\n  var dims = ['x0', 'y0', 'x1', 'y1'];\n  if (coordSys) {\n    var coordDimsInfos_1 = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var data = seriesModel.getData();\n      var info = data.getDimensionInfo(data.mapDimension(coordDim)) || {};\n      // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n    dataDims = map(dims, function (dim, idx) {\n      return {\n        name: dim,\n        type: coordDimsInfos_1[idx % 2].type\n      };\n    });\n    areaData = new SeriesData(dataDims, maModel);\n  } else {\n    dataDims = [{\n      name: 'value',\n      type: 'float'\n    }];\n    areaData = new SeriesData(dataDims, maModel);\n  }\n  var optData = map(maModel.get('data'), curry(markAreaTransform, seriesModel, coordSys, maModel));\n  if (coordSys) {\n    optData = filter(optData, curry(markAreaFilter, coordSys));\n  }\n  var dimValueGetter = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n    // TODO should convert to ParsedValue?\n    var rawVal = item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n    return parseDataValue(rawVal, dataDims[dimIndex]);\n  } : function (item, dimName, dataIndex, dimIndex) {\n    return parseDataValue(item.value, dataDims[dimIndex]);\n  };\n  areaData.initData(optData, null, dimValueGetter);\n  areaData.hasItemOption = true;\n  return areaData;\n}\nexport default MarkAreaView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport checkMarkerInSeries from './checkMarkerInSeries.js';\nimport MarkAreaModel from './MarkAreaModel.js';\nimport MarkAreaView from './MarkAreaView.js';\nexport function install(registers) {\n  registers.registerComponentModel(MarkAreaModel);\n  registers.registerComponentView(MarkAreaView);\n  registers.registerPreprocessor(function (opt) {\n    if (checkMarkerInSeries(opt.series, 'markArea')) {\n      // Make sure markArea component is enabled\n      opt.markArea = opt.markArea || {};\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from '../../model/Model.js';\nimport { isNameSpecified } from '../../util/model.js';\nimport ComponentModel from '../../model/Component.js';\nvar getDefaultSelectorOptions = function (ecModel, type) {\n  if (type === 'all') {\n    return {\n      type: 'all',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'all'])\n    };\n  } else if (type === 'inverse') {\n    return {\n      type: 'inverse',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'inverse'])\n    };\n  }\n};\nvar LegendModel = /** @class */function (_super) {\n  __extends(LegendModel, _super);\n  function LegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LegendModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas real width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    };\n    return _this;\n  }\n  LegendModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n    this._updateSelector(option);\n  };\n  LegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n    this._updateSelector(option);\n  };\n  LegendModel.prototype._updateSelector = function (option) {\n    var selector = option.selector;\n    var ecModel = this.ecModel;\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, getDefaultSelectorOptions(ecModel, item.type));\n      });\n    }\n  };\n  LegendModel.prototype.optionUpdated = function () {\n    this._updateData(this.ecModel);\n    var legendData = this._data;\n    // If selectedMode is single, try to select one\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false;\n      // If has any selected in option.selected\n      for (var i = 0; i < legendData.length; i++) {\n        var name_1 = legendData[i].get('name');\n        if (this.isSelected(name_1)) {\n          // Force to unselect others\n          this.select(name_1);\n          hasSelected = true;\n          break;\n        }\n      }\n      // Try select the first if selectedMode is single\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  };\n  LegendModel.prototype._updateData = function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n    this._availableNames = availableNames;\n    // If legend.data is not specified in option, use availableNames as data,\n    // which is convenient for user preparing option.\n    var rawData = this.get('data') || potentialData;\n    var legendNameMap = zrUtil.createHashMap();\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (zrUtil.isString(dataItem) || zrUtil.isNumber(dataItem)) {\n        dataItem = {\n          name: dataItem\n        };\n      }\n      if (legendNameMap.get(dataItem.name)) {\n        // remove legend name duplicate\n        return null;\n      }\n      legendNameMap.set(dataItem.name, true);\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n    this._data = zrUtil.filter(legendData, function (item) {\n      return !!item;\n    });\n  };\n  LegendModel.prototype.getData = function () {\n    return this._data;\n  };\n  LegendModel.prototype.select = function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n    selected[name] = true;\n  };\n  LegendModel.prototype.unSelect = function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  };\n  LegendModel.prototype.toggleSelected = function (name) {\n    var selected = this.option.selected;\n    // Default is true\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  };\n  LegendModel.prototype.allSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  };\n  LegendModel.prototype.inverseSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true);\n      // Initially, default value is true\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n      selected[name] = !selected[name];\n    });\n  };\n  LegendModel.prototype.isSelected = function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  };\n  LegendModel.prototype.getOrient = function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  };\n  LegendModel.type = 'legend.plain';\n  LegendModel.dependencies = ['series'];\n  LegendModel.defaultOption = {\n    // zlevel: 0,\n    z: 4,\n    show: true,\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    itemWidth: 25,\n    itemHeight: 14,\n    symbolRotate: 'inherit',\n    symbolKeepAspect: true,\n    inactiveColor: '#ccc',\n    inactiveBorderColor: '#ccc',\n    inactiveBorderWidth: 'auto',\n    itemStyle: {\n      color: 'inherit',\n      opacity: 'inherit',\n      borderColor: 'inherit',\n      borderWidth: 'auto',\n      borderCap: 'inherit',\n      borderJoin: 'inherit',\n      borderDashOffset: 'inherit',\n      borderMiterLimit: 'inherit'\n    },\n    lineStyle: {\n      width: 'auto',\n      color: 'inherit',\n      inactiveColor: '#ccc',\n      inactiveWidth: 2,\n      opacity: 'inherit',\n      type: 'inherit',\n      cap: 'inherit',\n      join: 'inherit',\n      dashOffset: 'inherit',\n      miterLimit: 'inherit'\n    },\n    textStyle: {\n      color: '#333'\n    },\n    selectedMode: true,\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: 'sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    tooltip: {\n      show: false\n    }\n  };\n  return LegendModel;\n}(ComponentModel);\nexport default LegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parse, stringify } from 'zrender/lib/tool/color.js';\nimport * as graphic from '../../util/graphic.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { setLabelStyle, createTextStyle } from '../../label/labelStyle.js';\nimport { makeBackground } from '../helper/listComponent.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport ComponentView from '../../view/Component.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\nimport { getECData } from '../../util/innerStore.js';\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\nvar LegendView = /** @class */function (_super) {\n  __extends(LegendView, _super);\n  function LegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LegendView.type;\n    _this.newlineDisabled = false;\n    return _this;\n  }\n  LegendView.prototype.init = function () {\n    this.group.add(this._contentGroup = new Group());\n    this.group.add(this._selectorGroup = new Group());\n    this._isFirstRender = true;\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.getContentGroup = function () {\n    return this._contentGroup;\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.getSelectorGroup = function () {\n    return this._selectorGroup;\n  };\n  /**\n   * @override\n   */\n  LegendView.prototype.render = function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    }\n    // selector has been normalized to an array in model\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n    // Perform layout.\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition);\n    // Place mainGroup, based on the calculated `mainRect`.\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.x = layoutRect.x - mainRect.x;\n    this.group.y = layoutRect.y - mainRect.y;\n    this.group.markRedraw();\n    // Render background after group is layout.\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  };\n  LegendView.prototype.resetInner = function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  };\n  LegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (legendItemModel, dataIndex) {\n      var name = legendItemModel.get('name');\n      // Use empty string or \\n as a newline string\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        var g = new Group();\n        // @ts-ignore\n        g.newline = true;\n        contentGroup.add(g);\n        return;\n      }\n      // Representitive series.\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n      if (legendDrawnMap.get(name)) {\n        // Have been drawn\n        return;\n      }\n      // Legend to control series.\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var lineVisualStyle = data.getVisual('legendLineStyle') || {};\n        var legendIcon = data.getVisual('legendIcon');\n        /**\n         * `data.getVisual('style')` may be the color from the register\n         * in series. For example, for line series,\n         */\n        var style = data.getVisual('style');\n        var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, style, legendIcon, selectMode, api);\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        if (ecModel.ssr) {\n          itemGroup.eachChild(function (child) {\n            var ecData = getECData(child);\n            ecData.seriesIndex = seriesModel.seriesIndex;\n            ecData.dataIndex = dataIndex;\n            ecData.ssrType = 'legend';\n          });\n        }\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n            if (!provider.containName(name)) {\n              return;\n            }\n            var idx = provider.indexOfName(name);\n            var style = provider.getItemVisual(idx, 'style');\n            var legendIcon = provider.getItemVisual(idx, 'legendIcon');\n            var colorArr = parse(style.fill);\n            // Color may be set to transparent in visualMap when data is out of range.\n            // Do not show nothing.\n            if (colorArr && colorArr[3] === 0) {\n              colorArr[3] = 0.2;\n              // TODO color is set to 0, 0, 0, 0. Should show correct RGBA\n              style = zrUtil.extend(zrUtil.extend({}, style), {\n                fill: stringify(colorArr, 'rgba')\n              });\n            }\n            var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, {}, style, legendIcon, selectMode, api);\n            // FIXME: consider different series has items with the same name.\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId))\n            // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            if (ecModel.ssr) {\n              itemGroup.eachChild(function (child) {\n                var ecData = getECData(child);\n                ecData.seriesIndex = seriesModel.seriesIndex;\n                ecData.dataIndex = dataIndex;\n                ecData.ssrType = 'legend';\n              });\n            }\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        if (!legendDrawnMap.get(name)) {\n          console.warn(name + ' series not exists. Legend data should be same with series name or data name.');\n        }\n      }\n    }, this);\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  };\n  LegendView.prototype._createSelector = function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel(['emphasis', 'selectorLabel']);\n      setLabelStyle(labelText, {\n        normal: labelModel,\n        emphasis: emphasisLabelModel\n      }, {\n        defaultText: selectorItem.title\n      });\n      enableHoverEmphasis(labelText);\n    });\n  };\n  LegendView.prototype._createItem = function (seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, itemVisualStyle, legendIcon, selectMode, api) {\n    var drawType = seriesModel.visualDrawType;\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var isSelected = legendModel.isSelected(name);\n    var iconRotate = legendItemModel.get('symbolRotate');\n    var symbolKeepAspect = legendItemModel.get('symbolKeepAspect');\n    var legendIconType = legendItemModel.get('icon');\n    legendIcon = legendIconType || legendIcon || 'roundRect';\n    var style = getLegendStyle(legendIcon, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api);\n    var itemGroup = new Group();\n    var textStyleModel = legendItemModel.getModel('textStyle');\n    if (zrUtil.isFunction(seriesModel.getLegendIcon) && (!legendIconType || legendIconType === 'inherit')) {\n      // Series has specific way to define legend icon\n      itemGroup.add(seriesModel.getLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: iconRotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    } else {\n      // Use default legend icon policy for most series\n      var rotate = legendIconType === 'inherit' && seriesModel.getData().getVisual('symbol') ? iconRotate === 'inherit' ? seriesModel.getData().getVisual('symbolRotate') : iconRotate : 0; // No rotation for no icon\n      itemGroup.add(getDefaultLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: rotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    }\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n    if (zrUtil.isString(formatter) && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (zrUtil.isFunction(formatter)) {\n      content = formatter(name);\n    }\n    var textColor = isSelected ? textStyleModel.getTextColor() : legendItemModel.get('inactiveColor');\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        fill: textColor,\n        align: textAlign,\n        verticalAlign: 'middle'\n      }, {\n        inheritColor: textColor\n      })\n    }));\n    // Add a invisible rect to increase the area of mouse hover\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      style: {\n        // Cannot use 'invisible' because SVG SSR will miss the node\n        fill: 'transparent'\n      }\n    });\n    var tooltipModel = legendItemModel.getModel('tooltip');\n    if (tooltipModel.get('show')) {\n      graphic.setTooltipConfig({\n        el: hitRect,\n        componentModel: legendModel,\n        itemName: name,\n        itemTooltipOption: tooltipModel.option\n      });\n    }\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    enableHoverEmphasis(itemGroup);\n    // @ts-ignore\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  };\n  LegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup();\n    // Place items in contentGroup.\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n    selectorGroup.markRedraw();\n    contentGroup.markRedraw();\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box(\n      // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      }\n      // Always align selector to content as 'middle'\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      return this.group.getBoundingRect();\n    }\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.remove = function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  };\n  LegendView.type = 'legend.plain';\n  return LegendView;\n}(ComponentView);\nfunction getLegendStyle(iconType, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api) {\n  /**\n   * Use series style if is inherit;\n   * elsewise, use legend style\n   */\n  function handleCommonProps(style, visualStyle) {\n    // If lineStyle.width is 'auto', it is set to be 2 if series has border\n    if (style.lineWidth === 'auto') {\n      style.lineWidth = visualStyle.lineWidth > 0 ? 2 : 0;\n    }\n    each(style, function (propVal, propName) {\n      style[propName] === 'inherit' && (style[propName] = visualStyle[propName]);\n    });\n  }\n  // itemStyle\n  var itemStyleModel = legendItemModel.getModel('itemStyle');\n  var itemStyle = itemStyleModel.getItemStyle();\n  var iconBrushType = iconType.lastIndexOf('empty', 0) === 0 ? 'fill' : 'stroke';\n  var decalStyle = itemStyleModel.getShallow('decal');\n  itemStyle.decal = !decalStyle || decalStyle === 'inherit' ? itemVisualStyle.decal : createOrUpdatePatternFromDecal(decalStyle, api);\n  if (itemStyle.fill === 'inherit') {\n    /**\n     * Series with visualDrawType as 'stroke' should have\n     * series stroke as legend fill\n     */\n    itemStyle.fill = itemVisualStyle[drawType];\n  }\n  if (itemStyle.stroke === 'inherit') {\n    /**\n     * icon type with \"emptyXXX\" should use fill color\n     * in visual style\n     */\n    itemStyle.stroke = itemVisualStyle[iconBrushType];\n  }\n  if (itemStyle.opacity === 'inherit') {\n    /**\n     * Use lineStyle.opacity if drawType is stroke\n     */\n    itemStyle.opacity = (drawType === 'fill' ? itemVisualStyle : lineVisualStyle).opacity;\n  }\n  handleCommonProps(itemStyle, itemVisualStyle);\n  // lineStyle\n  var legendLineModel = legendItemModel.getModel('lineStyle');\n  var lineStyle = legendLineModel.getLineStyle();\n  handleCommonProps(lineStyle, lineVisualStyle);\n  // Fix auto color to real color\n  itemStyle.fill === 'auto' && (itemStyle.fill = itemVisualStyle.fill);\n  itemStyle.stroke === 'auto' && (itemStyle.stroke = itemVisualStyle.fill);\n  lineStyle.stroke === 'auto' && (lineStyle.stroke = itemVisualStyle.fill);\n  if (!isSelected) {\n    var borderWidth = legendItemModel.get('inactiveBorderWidth');\n    /**\n     * Since stroke is set to be inactiveBorderColor, it may occur that\n     * there is no border in series but border in legend, so we need to\n     * use border only when series has border if is set to be auto\n     */\n    var visualHasBorder = itemStyle[iconBrushType];\n    itemStyle.lineWidth = borderWidth === 'auto' ? itemVisualStyle.lineWidth > 0 && visualHasBorder ? 2 : 0 : itemStyle.lineWidth;\n    itemStyle.fill = legendItemModel.get('inactiveColor');\n    itemStyle.stroke = legendItemModel.get('inactiveBorderColor');\n    lineStyle.stroke = legendLineModel.get('inactiveColor');\n    lineStyle.lineWidth = legendLineModel.get('inactiveWidth');\n  }\n  return {\n    itemStyle: itemStyle,\n    lineStyle: lineStyle\n  };\n}\nfunction getDefaultLegendIcon(opt) {\n  var symboType = opt.icon || 'roundRect';\n  var icon = createSymbol(symboType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill, opt.symbolKeepAspect);\n  icon.setStyle(opt.itemStyle);\n  icon.rotation = (opt.iconRotate || 0) * Math.PI / 180;\n  icon.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n  if (symboType.indexOf('empty') > -1) {\n    icon.style.stroke = icon.style.fill;\n    icon.style.fill = '#fff';\n    icon.style.lineWidth = 2;\n  }\n  return icon;\n}\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  });\n  // highlight after select\n  // TODO highlight immediately may cause animation loss.\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\nfunction isUseHoverLayer(api) {\n  var list = api.getZr().storage.getDisplayList();\n  var emphasisState;\n  var i = 0;\n  var len = list.length;\n  while (i < len && !(emphasisState = list[i].states.emphasis)) {\n    i++;\n  }\n  return emphasisState && emphasisState.hoverLayer;\n}\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\nexport default LegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function legendFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n      return true;\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { curry, each } from 'zrender/lib/core/util.js';\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected;\n  // Update all legend components\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n    var legendData = legendModel.getData();\n    each(legendData, function (model) {\n      var name = model.get('name');\n      // Wrap element\n      if (name === '\\n' || name === '') {\n        return;\n      }\n      var isItemSelected = legendModel.isSelected(name);\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  });\n  // Return the event explicitly\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\nexport function installLegendAction(registers) {\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendToggleSelect', 'legendselectchanged', curry(legendSelectActionHandler, 'toggleSelected'));\n  registers.registerAction('legendAllSelect', 'legendselectall', curry(legendSelectActionHandler, 'allSelect'));\n  registers.registerAction('legendInverseSelect', 'legendinverseselect', curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendSelect', 'legendselected', curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendUnSelect', 'legendunselected', curry(legendSelectActionHandler, 'unSelect'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LegendModel from './LegendModel.js';\nimport LegendView from './LegendView.js';\nimport legendFilter from './legendFilter.js';\nimport { installLegendAction } from './legendAction.js';\nexport function install(registers) {\n  registers.registerComponentModel(LegendModel);\n  registers.registerComponentView(LegendView);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  registers.registerSubTypeDefaulter('legend', function () {\n    return 'plain';\n  });\n  installLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LegendModel from './LegendModel.js';\nimport { mergeLayoutParam, getLayoutParams } from '../../util/layout.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar ScrollableLegendModel = /** @class */function (_super) {\n  __extends(ScrollableLegendModel, _super);\n  function ScrollableLegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ScrollableLegendModel.type;\n    return _this;\n  }\n  /**\n   * @param {number} scrollDataIndex\n   */\n  ScrollableLegendModel.prototype.setScrollDataIndex = function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  };\n  ScrollableLegendModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  };\n  ScrollableLegendModel.type = 'legend.scroll';\n  ScrollableLegendModel.defaultOption = inheritDefaultOption(LegendModel.defaultOption, {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    pageFormatter: '{current}/{total}',\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: '#2f4554',\n    pageIconInactiveColor: '#aaa',\n    pageIconSize: 15,\n    pageTextStyle: {\n      color: '#333'\n    },\n    animationDurationUpdate: 800\n  });\n  return ScrollableLegendModel;\n}(LegendModel);\n;\n// Do not `ignoreSize` to enable setting {left: 10, right: 10}.\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: !!ignoreSize\n  });\n}\nexport default ScrollableLegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport LegendView from './LegendView.js';\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\nvar ScrollableLegendView = /** @class */function (_super) {\n  __extends(ScrollableLegendView, _super);\n  function ScrollableLegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ScrollableLegendView.type;\n    _this.newlineDisabled = true;\n    _this._currentIndex = 0;\n    return _this;\n  }\n  ScrollableLegendView.prototype.init = function () {\n    _super.prototype.init.call(this);\n    this.group.add(this._containerGroup = new Group());\n    this._containerGroup.add(this.getContentGroup());\n    this.group.add(this._controllerGroup = new Group());\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.resetInner = function () {\n    _super.prototype.resetInner.call(this);\n    this._controllerGroup.removeAll();\n    this._containerGroup.removeClipPath();\n    this._containerGroup.__rectSize = null;\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var self = this;\n    // Render content items.\n    _super.prototype.renderInner.call(this, itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n    var controllerGroup = this._controllerGroup;\n    // FIXME: support be 'auto' adapt to size number text length,\n    // e.g., '3/12345' should not overlap with the control arrow button.\n    var pageIconSize = legendModel.get('pageIconSize', true);\n    var pageIconSizeArr = zrUtil.isArray(pageIconSize) ? pageIconSize : [pageIconSize, pageIconSize];\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        // Placeholder to calculate a proper layout.\n        text: 'xx/xx',\n        fill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        verticalAlign: 'middle',\n        align: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(self._pageGo, self, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSizeArr[0] / 2,\n        y: -pageIconSizeArr[1] / 2,\n        width: pageIconSizeArr[0],\n        height: pageIconSizeArr[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx];\n    selector && layoutUtil.box(\n    // Buttons in selectorGroup always layout horizontally\n    'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n    var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n    var selectorRect = selectorGroup.getBoundingRect();\n    var selectorPos = [-selectorRect.x, -selectorRect.y];\n    var processMaxSize = zrUtil.clone(maxSize);\n    selector && (processMaxSize[wh] = maxSize[wh] - selectorRect[wh] - selectorButtonGap);\n    var mainRect = this._layoutContentAndController(legendModel, isFirstRender, processMaxSize, orientIdx, wh, hw, yx, xy);\n    if (selector) {\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += mainRect[wh] + selectorButtonGap;\n      } else {\n        var offset = selectorRect[wh] + selectorButtonGap;\n        selectorPos[orientIdx] -= offset;\n        mainRect[xy] -= offset;\n      }\n      mainRect[wh] += selectorRect[wh] + selectorButtonGap;\n      selectorPos[1 - orientIdx] += mainRect[yx] + mainRect[hw] / 2 - selectorRect[hw] / 2;\n      mainRect[hw] = Math.max(mainRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(mainRect[yx], selectorRect[yx] + selectorPos[1 - orientIdx]);\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      selectorGroup.markRedraw();\n    }\n    return mainRect;\n  };\n  ScrollableLegendView.prototype._layoutContentAndController = function (legendModel, isFirstRender, maxSize, orientIdx, wh, hw, yx, xy) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup;\n    // Place items in contentGroup.\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box(\n    // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh];\n    // In case that the inner elements of contentGroup layout do not based on [0, 0]\n    var contentPos = [-contentRect.x, -contentRect.y];\n    // Remain contentPos when scroll animation perfroming.\n    // If first rendering, `contentGroup.position` is [0, 0], which\n    // does not make sense and may cause unexepcted animation if adopted.\n    if (!isFirstRender) {\n      contentPos[orientIdx] = contentGroup[xy];\n    }\n    // Layout container group based on 0.\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true));\n    // Place containerGroup and controllerGroup and contentGroup.\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true);\n      // controller is on the right / bottom.\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      }\n      // controller is on the left / top.\n      else {\n        containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n      }\n    }\n    // Always align controller to content as 'middle'.\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.setPosition(contentPos);\n    containerGroup.setPosition(containerPos);\n    controllerGroup.setPosition(controllerPos);\n    // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n    var mainRect = {\n      x: 0,\n      y: 0\n    };\n    // Consider content may be overflow (should be clipped).\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]);\n    // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      }));\n      // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as placeholders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    }\n    // Content translate animation.\n    var pageInfo = this._getPageInfo(legendModel);\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      x: pageInfo.contentPosition[0],\n      y: pageInfo.contentPosition[1]\n    },\n    // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird effect.\n    showController ? legendModel : null);\n    this._updatePageInfoView(legendModel, pageInfo);\n    return mainRect;\n  };\n  ScrollableLegendView.prototype._pageGo = function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  };\n  ScrollableLegendView.prototype._updatePageInfoView = function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var key = name + 'DataIndex';\n      var canJump = pageInfo[key] != null;\n      var icon = controllerGroup.childOfName(name);\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current == null ? '' : current + '').replace('{total}', total == null ? '' : total + '') : pageFormatter({\n      current: current,\n      total: total\n    }));\n  };\n  /**\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no previous page.\n   *  pageNextDataIndex: number, null when no next page.\n   * }\n   */\n  ScrollableLegendView.prototype._getPageInfo = function (legendModel) {\n    var scrollDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var targetItemIndex = this._findTargetItemIndex(scrollDataIndex);\n    var children = contentGroup.children();\n    var targetItem = children[targetItemIndex];\n    var itemCount = children.length;\n    var pCount = !itemCount ? 0 : 1;\n    var result = {\n      contentPosition: [contentGroup.x, contentGroup.y],\n      pageCount: pCount,\n      pageIndex: pCount - 1,\n      pagePrevDataIndex: null,\n      pageNextDataIndex: null\n    };\n    if (!targetItem) {\n      return result;\n    }\n    var targetItemInfo = getItemInfo(targetItem);\n    result.contentPosition[orientIdx] = -targetItemInfo.s;\n    // Strategy:\n    // (1) Always align based on the left/top most item.\n    // (2) It is user-friendly that the last item shown in the\n    // current window is shown at the begining of next window.\n    // Otherwise if half of the last item is cut by the window,\n    // it will have no chance to display entirely.\n    // (3) Consider that item size probably be different, we\n    // have calculate pageIndex by size rather than item index,\n    // and we can not get page index directly by division.\n    // (4) The window is to narrow to contain more than\n    // one item, we should make sure that the page can be fliped.\n    for (var i = targetItemIndex + 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i <= itemCount; ++i) {\n      currItemInfo = getItemInfo(children[i]);\n      if (\n      // Half of the last item is out of the window.\n      !currItemInfo && winEndItemInfo.e > winStartItemInfo.s + containerRectSize\n      // If the current item does not intersect with the window, the new page\n      // can be started at the current item or the last item.\n      || currItemInfo && !intersect(currItemInfo, winStartItemInfo.s)) {\n        if (winEndItemInfo.i > winStartItemInfo.i) {\n          winStartItemInfo = winEndItemInfo;\n        } else {\n          // e.g., when page size is smaller than item size.\n          winStartItemInfo = currItemInfo;\n        }\n        if (winStartItemInfo) {\n          if (result.pageNextDataIndex == null) {\n            result.pageNextDataIndex = winStartItemInfo.i;\n          }\n          ++result.pageCount;\n        }\n      }\n      winEndItemInfo = currItemInfo;\n    }\n    for (var i = targetItemIndex - 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i >= -1; --i) {\n      currItemInfo = getItemInfo(children[i]);\n      if (\n      // If the the end item does not intersect with the window started\n      // from the current item, a page can be settled.\n      (!currItemInfo || !intersect(winEndItemInfo, currItemInfo.s)\n      // e.g., when page size is smaller than item size.\n      ) && winStartItemInfo.i < winEndItemInfo.i) {\n        winEndItemInfo = winStartItemInfo;\n        if (result.pagePrevDataIndex == null) {\n          result.pagePrevDataIndex = winStartItemInfo.i;\n        }\n        ++result.pageCount;\n        ++result.pageIndex;\n      }\n      winStartItemInfo = currItemInfo;\n    }\n    return result;\n    function getItemInfo(el) {\n      if (el) {\n        var itemRect = el.getBoundingRect();\n        var start = itemRect[xy] + el[xy];\n        return {\n          s: start,\n          e: start + itemRect[wh],\n          i: el.__legendDataIndex\n        };\n      }\n    }\n    function intersect(itemInfo, winStart) {\n      return itemInfo.e >= winStart && itemInfo.s <= winStart + containerRectSize;\n    }\n  };\n  ScrollableLegendView.prototype._findTargetItemIndex = function (targetDataIndex) {\n    if (!this._showController) {\n      return 0;\n    }\n    var index;\n    var contentGroup = this.getContentGroup();\n    var defaultIndex;\n    contentGroup.eachChild(function (child, idx) {\n      var legendDataIdx = child.__legendDataIndex;\n      // FIXME\n      // If the given targetDataIndex (from model) is illegal,\n      // we use defaultIndex. But the index on the legend model and\n      // action payload is still illegal. That case will not be\n      // changed until some scenario requires.\n      if (defaultIndex == null && legendDataIdx != null) {\n        defaultIndex = idx;\n      }\n      if (legendDataIdx === targetDataIndex) {\n        index = idx;\n      }\n    });\n    return index != null ? index : defaultIndex;\n  };\n  ScrollableLegendView.type = 'legend.scroll';\n  return ScrollableLegendView;\n}(LegendView);\nexport default ScrollableLegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport ScrollableLegendModel from './ScrollableLegendModel.js';\nimport ScrollableLegendView from './ScrollableLegendView.js';\nimport installScrollableLegendAction from './scrollableLegendAction.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  registers.registerComponentModel(ScrollableLegendModel);\n  registers.registerComponentView(ScrollableLegendView);\n  installScrollableLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function installScrollableLegendAction(registers) {\n  /**\n   * @event legendScroll\n   * @type {Object}\n   * @property {string} type 'legendScroll'\n   * @property {string} scrollDataIndex\n   */\n  registers.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n    var scrollDataIndex = payload.scrollDataIndex;\n    scrollDataIndex != null && ecModel.eachComponent({\n      mainType: 'legend',\n      subType: 'scroll',\n      query: payload\n    }, function (legendModel) {\n      legendModel.setScrollDataIndex(scrollDataIndex);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport { install as installLegendScroll } from './installLegendScroll.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  use(installLegendScroll);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar InsideZoomModel = /** @class */function (_super) {\n  __extends(InsideZoomModel, _super);\n  function InsideZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = InsideZoomModel.type;\n    return _this;\n  }\n  InsideZoomModel.type = 'dataZoom.inside';\n  InsideZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    disabled: false,\n    zoomLock: false,\n    zoomOnMouseWheel: true,\n    moveOnMouseMove: true,\n    moveOnMouseWheel: false,\n    preventDefaultMouseMove: true\n  });\n  return InsideZoomModel;\n}(DataZoomModel);\nexport default InsideZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\nimport RoamController from '../../component/helper/RoamController.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport { makeInner } from '../../util/model.js';\nimport { each, curry, createHashMap } from 'zrender/lib/core/util.js';\nimport { collectReferCoordSysModelInfo } from './helper.js';\nvar inner = makeInner();\nexport function setViewInfoToCoordSysRecord(api, dataZoomModel, getRange) {\n  inner(api).coordSysRecordMap.each(function (coordSysRecord) {\n    var dzInfo = coordSysRecord.dataZoomInfoMap.get(dataZoomModel.uid);\n    if (dzInfo) {\n      dzInfo.getRange = getRange;\n    }\n  });\n}\nexport function disposeCoordSysRecordIfNeeded(api, dataZoomModel) {\n  var coordSysRecordMap = inner(api).coordSysRecordMap;\n  var coordSysKeyArr = coordSysRecordMap.keys();\n  for (var i = 0; i < coordSysKeyArr.length; i++) {\n    var coordSysKey = coordSysKeyArr[i];\n    var coordSysRecord = coordSysRecordMap.get(coordSysKey);\n    var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n    if (dataZoomInfoMap) {\n      var dzUid = dataZoomModel.uid;\n      var dzInfo = dataZoomInfoMap.get(dzUid);\n      if (dzInfo) {\n        dataZoomInfoMap.removeKey(dzUid);\n        if (!dataZoomInfoMap.keys().length) {\n          disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        }\n      }\n    }\n  }\n}\nfunction disposeCoordSysRecord(coordSysRecordMap, coordSysRecord) {\n  if (coordSysRecord) {\n    coordSysRecordMap.removeKey(coordSysRecord.model.uid);\n    var controller = coordSysRecord.controller;\n    controller && controller.dispose();\n  }\n}\nfunction createCoordSysRecord(api, coordSysModel) {\n  // These init props will never change after record created.\n  var coordSysRecord = {\n    model: coordSysModel,\n    containsPoint: curry(containsPoint, coordSysModel),\n    dispatchAction: curry(dispatchAction, api),\n    dataZoomInfoMap: null,\n    controller: null\n  };\n  // Must not do anything depends on coordSysRecord outside the event handler here,\n  // because coordSysRecord not completed yet.\n  var controller = coordSysRecord.controller = new RoamController(api.getZr());\n  each(['pan', 'zoom', 'scrollMove'], function (eventName) {\n    controller.on(eventName, function (event) {\n      var batch = [];\n      coordSysRecord.dataZoomInfoMap.each(function (dzInfo) {\n        // Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,\n        // moveOnMouseWheel, ...) enabled.\n        if (!event.isAvailableBehavior(dzInfo.model.option)) {\n          return;\n        }\n        var method = (dzInfo.getRange || {})[eventName];\n        var range = method && method(dzInfo.dzReferCoordSysInfo, coordSysRecord.model.mainType, coordSysRecord.controller, event);\n        !dzInfo.model.get('disabled', true) && range && batch.push({\n          dataZoomId: dzInfo.model.id,\n          start: range[0],\n          end: range[1]\n        });\n      });\n      batch.length && coordSysRecord.dispatchAction(batch);\n    });\n  });\n  return coordSysRecord;\n}\n/**\n * This action will be throttled.\n */\nfunction dispatchAction(api, batch) {\n  if (!api.isDisposed()) {\n    api.dispatchAction({\n      type: 'dataZoom',\n      animation: {\n        easing: 'cubicOut',\n        duration: 100\n      },\n      batch: batch\n    });\n  }\n}\nfunction containsPoint(coordSysModel, e, x, y) {\n  return coordSysModel.coordinateSystem.containPoint([x, y]);\n}\n/**\n * Merge roamController settings when multiple dataZooms share one roamController.\n */\nfunction mergeControllerParams(dataZoomInfoMap) {\n  var controlType;\n  // DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated\n  // as string, it is probably revert to reserved word by compress tool. See #7411.\n  var prefix = 'type_';\n  var typePriority = {\n    'type_true': 2,\n    'type_move': 1,\n    'type_false': 0,\n    'type_undefined': -1\n  };\n  var preventDefaultMouseMove = true;\n  dataZoomInfoMap.each(function (dataZoomInfo) {\n    var dataZoomModel = dataZoomInfo.model;\n    var oneType = dataZoomModel.get('disabled', true) ? false : dataZoomModel.get('zoomLock', true) ? 'move' : true;\n    if (typePriority[prefix + oneType] > typePriority[prefix + controlType]) {\n      controlType = oneType;\n    }\n    // Prevent default move event by default. If one false, do not prevent. Otherwise\n    // users may be confused why it does not work when multiple insideZooms exist.\n    preventDefaultMouseMove = preventDefaultMouseMove && dataZoomModel.get('preventDefaultMouseMove', true);\n  });\n  return {\n    controlType: controlType,\n    opt: {\n      // RoamController will enable all of these functionalities,\n      // and the final behavior is determined by its event listener\n      // provided by each inside zoom.\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      moveOnMouseWheel: true,\n      preventDefaultMouseMove: !!preventDefaultMouseMove\n    }\n  };\n}\nexport function installDataZoomRoamProcessor(registers) {\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, function (ecModel, api) {\n    var apiInner = inner(api);\n    var coordSysRecordMap = apiInner.coordSysRecordMap || (apiInner.coordSysRecordMap = createHashMap());\n    coordSysRecordMap.each(function (coordSysRecord) {\n      // `coordSysRecordMap` always exists (because it holds the `roam controller`, which should\n      // better not re-create each time), but clear `dataZoomInfoMap` each round of the workflow.\n      coordSysRecord.dataZoomInfoMap = null;\n    });\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'inside'\n    }, function (dataZoomModel) {\n      var dzReferCoordSysWrap = collectReferCoordSysModelInfo(dataZoomModel);\n      each(dzReferCoordSysWrap.infoList, function (dzCoordSysInfo) {\n        var coordSysUid = dzCoordSysInfo.model.uid;\n        var coordSysRecord = coordSysRecordMap.get(coordSysUid) || coordSysRecordMap.set(coordSysUid, createCoordSysRecord(api, dzCoordSysInfo.model));\n        var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap || (coordSysRecord.dataZoomInfoMap = createHashMap());\n        // Notice these props might be changed each time for a single dataZoomModel.\n        dataZoomInfoMap.set(dataZoomModel.uid, {\n          dzReferCoordSysInfo: dzCoordSysInfo,\n          model: dataZoomModel,\n          getRange: null\n        });\n      });\n    });\n    // (1) Merge dataZoom settings for each coord sys and set to the roam controller.\n    // (2) Clear coord sys if not refered by any dataZoom.\n    coordSysRecordMap.each(function (coordSysRecord) {\n      var controller = coordSysRecord.controller;\n      var firstDzInfo;\n      var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n      if (dataZoomInfoMap) {\n        var firstDzKey = dataZoomInfoMap.keys()[0];\n        if (firstDzKey != null) {\n          firstDzInfo = dataZoomInfoMap.get(firstDzKey);\n        }\n      }\n      if (!firstDzInfo) {\n        disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        return;\n      }\n      var controllerParams = mergeControllerParams(dataZoomInfoMap);\n      controller.enable(controllerParams.controlType, controllerParams.opt);\n      controller.setPointerChecker(coordSysRecord.containsPoint);\n      throttleUtil.createOrUpdate(coordSysRecord, 'dispatchAction', firstDzInfo.model.get('throttle', true), 'fixRate');\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport * as roams from './roams.js';\nimport { bind } from 'zrender/lib/core/util.js';\nvar InsideZoomView = /** @class */function (_super) {\n  __extends(InsideZoomView, _super);\n  function InsideZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataZoom.inside';\n    return _this;\n  }\n  InsideZoomView.prototype.render = function (dataZoomModel, ecModel, api) {\n    _super.prototype.render.apply(this, arguments);\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n      return;\n    }\n    // Hence the `throttle` util ensures to preserve command order,\n    // here simply updating range all the time will not cause missing\n    // any of the the roam change.\n    this.range = dataZoomModel.getPercentRange();\n    // Reset controllers.\n    roams.setViewInfoToCoordSysRecord(api, dataZoomModel, {\n      pan: bind(getRangeHandlers.pan, this),\n      zoom: bind(getRangeHandlers.zoom, this),\n      scrollMove: bind(getRangeHandlers.scrollMove, this)\n    });\n  };\n  InsideZoomView.prototype.dispose = function () {\n    this._clear();\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  InsideZoomView.prototype._clear = function () {\n    roams.disposeCoordSysRecordIfNeeded(this.api, this.dataZoomModel);\n    this.range = null;\n  };\n  InsideZoomView.type = 'dataZoom.inside';\n  return InsideZoomView;\n}(DataZoomView);\nvar getRangeHandlers = {\n  zoom: function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice();\n    // Calculate transform by the first axis.\n    var axisModel = coordSysInfo.axisModels[0];\n    if (!axisModel) {\n      return;\n    }\n    var directionInfo = getDirectionInfo[coordSysMainType](null, [e.originX, e.originY], axisModel, controller, coordSysInfo);\n    var percentPoint = (directionInfo.signal > 0 ? directionInfo.pixelStart + directionInfo.pixelLength - directionInfo.pixel : directionInfo.pixel - directionInfo.pixelStart) / directionInfo.pixelLength * (range[1] - range[0]) + range[0];\n    var scale = Math.max(1 / e.scale, 0);\n    range[0] = (range[0] - percentPoint) * scale + percentPoint;\n    range[1] = (range[1] - percentPoint) * scale + percentPoint;\n    // Restrict range.\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    sliderMove(0, range, [0, 100], 0, minMaxSpan.minSpan, minMaxSpan.maxSpan);\n    this.range = range;\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  },\n  pan: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([e.oldX, e.oldY], [e.newX, e.newY], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * directionInfo.pixel / directionInfo.pixelLength;\n  }),\n  scrollMove: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([0, 0], [e.scrollDelta, e.scrollDelta], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * e.scrollDelta;\n  })\n};\nfunction makeMover(getPercentDelta) {\n  return function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice();\n    // Calculate transform by the first axis.\n    var axisModel = coordSysInfo.axisModels[0];\n    if (!axisModel) {\n      return;\n    }\n    var percentDelta = getPercentDelta(range, axisModel, coordSysInfo, coordSysMainType, controller, e);\n    sliderMove(percentDelta, range, [0, 100], 'all');\n    this.range = range;\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  };\n}\nvar getDirectionInfo = {\n  grid: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    oldPoint = oldPoint || [0, 0];\n    if (axis.dim === 'x') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // axis.dim === 'y'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  },\n  polar: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var polar = coordSysInfo.model.coordinateSystem;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var angleExtent = polar.getAngleAxis().getExtent();\n    oldPoint = oldPoint ? polar.pointToCoord(oldPoint) : [0, 0];\n    newPoint = polar.pointToCoord(newPoint);\n    if (axisModel.mainType === 'radiusAxis') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      // ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);\n      // ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);\n      ret.pixelLength = radiusExtent[1] - radiusExtent[0];\n      ret.pixelStart = radiusExtent[0];\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'angleAxis'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      // ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);\n      // ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);\n      ret.pixelLength = angleExtent[1] - angleExtent[0];\n      ret.pixelStart = angleExtent[0];\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  },\n  singleAxis: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    var ret = {};\n    oldPoint = oldPoint || [0, 0];\n    if (axis.orient === 'horizontal') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'vertical'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  }\n};\nexport default InsideZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport InsideZoomModel from './InsideZoomModel.js';\nimport InsideZoomView from './InsideZoomView.js';\nimport { installDataZoomRoamProcessor } from './roams.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  installCommon(registers);\n  registers.registerComponentModel(InsideZoomModel);\n  registers.registerComponentView(InsideZoomView);\n  installDataZoomRoamProcessor(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar SliderZoomModel = /** @class */function (_super) {\n  __extends(SliderZoomModel, _super);\n  function SliderZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderZoomModel.type;\n    return _this;\n  }\n  SliderZoomModel.type = 'dataZoom.slider';\n  SliderZoomModel.layoutMode = 'box';\n  SliderZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    show: true,\n    // deault value can only be drived in view stage.\n    right: 'ph',\n    top: 'ph',\n    width: 'ph',\n    height: 'ph',\n    left: null,\n    bottom: null,\n    borderColor: '#d2dbee',\n    borderRadius: 3,\n    backgroundColor: 'rgba(47,69,84,0)',\n    // dataBackgroundColor: '#ddd',\n    dataBackground: {\n      lineStyle: {\n        color: '#d2dbee',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#d2dbee',\n        opacity: 0.2\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#8fb0f7',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#8fb0f7',\n        opacity: 0.2\n      }\n    },\n    // Color of selected window.\n    fillerColor: 'rgba(135,175,274,0.2)',\n    handleIcon: 'path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z',\n    // Percent of the slider height\n    handleSize: '100%',\n    handleStyle: {\n      color: '#fff',\n      borderColor: '#ACB8D1'\n    },\n    moveHandleSize: 7,\n    moveHandleIcon: 'path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z',\n    moveHandleStyle: {\n      color: '#D2DBEE',\n      opacity: 0.7\n    },\n    showDetail: true,\n    showDataShadow: 'auto',\n    realtime: true,\n    zoomLock: false,\n    textStyle: {\n      color: '#6E7079'\n    },\n    brushSelect: true,\n    brushStyle: {\n      color: 'rgba(135,175,274,0.15)'\n    },\n    emphasis: {\n      handleStyle: {\n        borderColor: '#8FB0F7'\n      },\n      moveHandleStyle: {\n        color: '#8FB0F7'\n      }\n    }\n  });\n  return SliderZoomModel;\n}(DataZoomModel);\nexport default SliderZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, isFunction, isString, indexOf } from 'zrender/lib/core/util.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as throttle from '../../util/throttle.js';\nimport DataZoomView from './DataZoomView.js';\nimport { linearMap, asc, parsePercent } from '../../util/number.js';\nimport * as layout from '../../util/layout.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { getAxisMainType, collectReferCoordSysModelInfo } from './helper.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { createSymbol, symbolBuildProxies } from '../../util/symbol.js';\nimport { deprecateLog } from '../../util/log.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nvar Rect = graphic.Rect;\n// Constants\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar DEFAULT_MOVE_HANDLE_SIZE = 7;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar REALTIME_ANIMATION_CONFIG = {\n  easing: 'cubicOut',\n  duration: 100,\n  delay: 0\n};\nvar SliderZoomView = /** @class */function (_super) {\n  __extends(SliderZoomView, _super);\n  function SliderZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderZoomView.type;\n    _this._displayables = {};\n    return _this;\n  }\n  SliderZoomView.prototype.init = function (ecModel, api) {\n    this.api = api;\n    // A unique handler for each dataZoom component\n    this._onBrush = bind(this._onBrush, this);\n    this._onBrushEnd = bind(this._onBrushEnd, this);\n  };\n  SliderZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    _super.prototype.render.apply(this, arguments);\n    throttle.createOrUpdate(this, '_dispatchZoomAction', dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.getOrient();\n    if (dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n      this.group.removeAll();\n      return;\n    }\n    // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n    this._updateView();\n  };\n  SliderZoomView.prototype.dispose = function () {\n    this._clear();\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  SliderZoomView.prototype._clear = function () {\n    throttle.clear(this, '_dispatchZoomAction');\n    var zr = this.api.getZr();\n    zr.off('mousemove', this._onBrush);\n    zr.off('mouseup', this._onBrushEnd);\n  };\n  SliderZoomView.prototype._buildView = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._brushing = false;\n    this._displayables.brushRect = null;\n    this._resetLocation();\n    this._resetInterval();\n    var barGroup = this._displayables.sliderGroup = new graphic.Group();\n    this._renderBackground();\n    this._renderHandle();\n    this._renderDataShadow();\n    thisGroup.add(barGroup);\n    this._positionGroup();\n  };\n  SliderZoomView.prototype._resetLocation = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var showMoveHandle = dataZoomModel.get('brushSelect');\n    var moveHandleSize = showMoveHandle ? DEFAULT_MOVE_HANDLE_SIZE : 0;\n    // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n    var coordRect = this._findCoordRect();\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    // Default align by coordinate system rect.\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP - moveHandleSize,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    };\n    // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option);\n    // Replace the placeholder value.\n    each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  };\n  SliderZoomView.prototype._positionGroup = function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient;\n    // Just use the first axis to determine mapping.\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var sliderGroup = this._displayables.sliderGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse;\n    // Transform barGroup.\n    sliderGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: 1\n    } : orient === HORIZONTAL && inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: -1\n    } : orient === VERTICAL && !inverse ? {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: 1,\n      rotation: Math.PI / 2\n    }\n    // Don't use Math.PI, considering shadow direction.\n    : {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: -1,\n      rotation: Math.PI / 2\n    });\n    // Position barGroup\n    var rect = thisGroup.getBoundingRect([sliderGroup]);\n    thisGroup.x = location.x - rect.x;\n    thisGroup.y = location.y - rect.y;\n    thisGroup.markRedraw();\n  };\n  SliderZoomView.prototype._getViewExtent = function () {\n    return [0, this._size[0]];\n  };\n  SliderZoomView.prototype._renderBackground = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.sliderGroup;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    }));\n    // Click panel, over shadow, below handles.\n    var clickPanel = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: bind(this._onClickPanel, this)\n    });\n    var zr = this.api.getZr();\n    if (brushSelect) {\n      clickPanel.on('mousedown', this._onBrushStart, this);\n      clickPanel.cursor = 'crosshair';\n      zr.on('mousemove', this._onBrush);\n      zr.on('mouseup', this._onBrushEnd);\n    } else {\n      zr.off('mousemove', this._onBrush);\n      zr.off('mouseup', this._onBrushEnd);\n    }\n    barGroup.add(clickPanel);\n  };\n  SliderZoomView.prototype._renderDataShadow = function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n    this._displayables.dataShadowSegs = [];\n    if (!info) {\n      return;\n    }\n    var size = this._size;\n    var oldSize = this._shadowSize || [];\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var candlestickDim = seriesModel.getShadowDim && seriesModel.getShadowDim();\n    var otherDim = candlestickDim && data.getDimensionInfo(candlestickDim) ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n    if (otherDim == null) {\n      return;\n    }\n    var polygonPts = this._shadowPolygonPts;\n    var polylinePts = this._shadowPolylinePts;\n    // Not re-render if data doesn't change.\n    if (data !== this._shadowData || otherDim !== this._shadowDim || size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      var otherDataExtent_1 = data.getDataExtent(otherDim);\n      // Nice extent.\n      var otherOffset = (otherDataExtent_1[1] - otherDataExtent_1[0]) * 0.3;\n      otherDataExtent_1 = [otherDataExtent_1[0] - otherOffset, otherDataExtent_1[1] + otherOffset];\n      var otherShadowExtent_1 = [0, size[1]];\n      var thisShadowExtent = [0, size[0]];\n      var areaPoints_1 = [[size[0], 0], [0, 0]];\n      var linePoints_1 = [];\n      var step_1 = thisShadowExtent[1] / (data.count() - 1);\n      var thisCoord_1 = 0;\n      // Optimize for large data shadow\n      var stride_1 = Math.round(data.count() / size[0]);\n      var lastIsEmpty_1;\n      data.each([otherDim], function (value, index) {\n        if (stride_1 > 0 && index % stride_1) {\n          thisCoord_1 += step_1;\n          return;\n        }\n        // FIXME\n        // Should consider axis.min/axis.max when drawing dataShadow.\n        // FIXME\n        // list\n        var isEmpty = value == null || isNaN(value) || value === '';\n        // See #4235.\n        var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent_1, otherShadowExtent_1, true);\n        // Attempt to draw data shadow precisely when there are empty value.\n        if (isEmpty && !lastIsEmpty_1 && index) {\n          areaPoints_1.push([areaPoints_1[areaPoints_1.length - 1][0], 0]);\n          linePoints_1.push([linePoints_1[linePoints_1.length - 1][0], 0]);\n        } else if (!isEmpty && lastIsEmpty_1) {\n          areaPoints_1.push([thisCoord_1, 0]);\n          linePoints_1.push([thisCoord_1, 0]);\n        }\n        areaPoints_1.push([thisCoord_1, otherCoord]);\n        linePoints_1.push([thisCoord_1, otherCoord]);\n        thisCoord_1 += step_1;\n        lastIsEmpty_1 = isEmpty;\n      });\n      polygonPts = this._shadowPolygonPts = areaPoints_1;\n      polylinePts = this._shadowPolylinePts = linePoints_1;\n    }\n    this._shadowData = data;\n    this._shadowDim = otherDim;\n    this._shadowSize = [size[0], size[1]];\n    var dataZoomModel = this.dataZoomModel;\n    function createDataShadowGroup(isSelectedArea) {\n      var model = dataZoomModel.getModel(isSelectedArea ? 'selectedDataBackground' : 'dataBackground');\n      var group = new graphic.Group();\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: polygonPts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('areaStyle').getAreaStyle(),\n        silent: true,\n        z2: -20\n      });\n      var polyline = new graphic.Polyline({\n        shape: {\n          points: polylinePts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('lineStyle').getLineStyle(),\n        silent: true,\n        z2: -19\n      });\n      group.add(polygon);\n      group.add(polyline);\n      return group;\n    }\n    // let dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n    for (var i = 0; i < 3; i++) {\n      var group = createDataShadowGroup(i === 1);\n      this._displayables.sliderGroup.add(group);\n      this._displayables.dataShadowSegs.push(group);\n    }\n  };\n  SliderZoomView.prototype._prepareDataShadowInfo = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n    if (showDataShadow === false) {\n      return;\n    }\n    // Find a representative series.\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(axisDim, axisIndex).getTargetSeriesModels();\n      each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n        if (showDataShadow !== true && indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n        var thisAxis = ecModel.getComponent(getAxisMainType(axisDim), axisIndex).axis;\n        var otherDim = getOtherDim(axisDim);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: axisDim,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  };\n  SliderZoomView.prototype._renderHandle = function () {\n    var thisGroup = this.group;\n    var displayables = this._displayables;\n    var handles = displayables.handles = [null, null];\n    var handleLabels = displayables.handleLabels = [null, null];\n    var sliderGroup = this._displayables.sliderGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var borderRadius = dataZoomModel.get('borderRadius') || 0;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    var filler = displayables.filler = new Rect({\n      silent: brushSelect,\n      style: {\n        fill: dataZoomModel.get('fillerColor')\n      },\n      textConfig: {\n        position: 'inside'\n      }\n    });\n    sliderGroup.add(filler);\n    // Frame border.\n    sliderGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1],\n        r: borderRadius\n      },\n      style: {\n        // deprecated option\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    }));\n    // Left and right handle to resize\n    each([0, 1], function (handleIndex) {\n      var iconStr = dataZoomModel.get('handleIcon');\n      if (!symbolBuildProxies[iconStr] && iconStr.indexOf('path://') < 0 && iconStr.indexOf('image://') < 0) {\n        // Compatitable with the old icon parsers. Which can use a path string without path://\n        iconStr = 'path://' + iconStr;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('handleIcon now needs \\'path://\\' prefix when using a path string');\n        }\n      }\n      var path = createSymbol(iconStr, -1, 0, 2, 2, null, true);\n      path.attr({\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false),\n        z2: 5\n      });\n      var bRect = path.getBoundingRect();\n      var handleSize = dataZoomModel.get('handleSize');\n      this._handleHeight = parsePercent(handleSize, this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      path.style.strokeNoScale = true;\n      path.rectHover = true;\n      path.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n      enableHoverEmphasis(path);\n      var handleColor = dataZoomModel.get('handleColor'); // deprecated option\n      // Compatitable with previous version\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n      sliderGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.getModel('textStyle');\n      thisGroup.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: createTextStyle(textStyleModel, {\n          x: 0,\n          y: 0,\n          text: '',\n          verticalAlign: 'middle',\n          align: 'center',\n          fill: textStyleModel.getTextColor(),\n          font: textStyleModel.getFont()\n        }),\n        z2: 10\n      }));\n    }, this);\n    // Handle to move. Only visible when brushSelect is set true.\n    var actualMoveZone = filler;\n    if (brushSelect) {\n      var moveHandleHeight = parsePercent(dataZoomModel.get('moveHandleSize'), size[1]);\n      var moveHandle_1 = displayables.moveHandle = new graphic.Rect({\n        style: dataZoomModel.getModel('moveHandleStyle').getItemStyle(),\n        silent: true,\n        shape: {\n          r: [0, 0, 2, 2],\n          y: size[1] - 0.5,\n          height: moveHandleHeight\n        }\n      });\n      var iconSize = moveHandleHeight * 0.8;\n      var moveHandleIcon = displayables.moveHandleIcon = createSymbol(dataZoomModel.get('moveHandleIcon'), -iconSize / 2, -iconSize / 2, iconSize, iconSize, '#fff', true);\n      moveHandleIcon.silent = true;\n      moveHandleIcon.y = size[1] + moveHandleHeight / 2 - 0.5;\n      moveHandle_1.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'moveHandleStyle']).getItemStyle();\n      var moveZoneExpandSize = Math.min(size[1] / 2, Math.max(moveHandleHeight, 10));\n      actualMoveZone = displayables.moveZone = new graphic.Rect({\n        invisible: true,\n        shape: {\n          y: size[1] - moveZoneExpandSize,\n          height: moveHandleHeight + moveZoneExpandSize\n        }\n      });\n      actualMoveZone.on('mouseover', function () {\n        api.enterEmphasis(moveHandle_1);\n      }).on('mouseout', function () {\n        api.leaveEmphasis(moveHandle_1);\n      });\n      sliderGroup.add(moveHandle_1);\n      sliderGroup.add(moveHandleIcon);\n      sliderGroup.add(actualMoveZone);\n    }\n    actualMoveZone.attr({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false)\n    });\n  };\n  SliderZoomView.prototype._resetInterval = function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n    var viewExtent = this._getViewExtent();\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  };\n  SliderZoomView.prototype._updateInterval = function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n    var viewExtend = this._getViewExtent();\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  };\n  SliderZoomView.prototype._updateView = function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scaleX: handleHeight / 2,\n        scaleY: handleHeight / 2,\n        // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.\n        // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.\n        x: handleEnds[handleIndex] + (handleIndex ? -1 : 1),\n        y: size[1] / 2 - handleHeight / 2\n      });\n    }, this);\n    // Filler\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    var viewExtent = {\n      x: handleInterval[0],\n      width: handleInterval[1] - handleInterval[0]\n    };\n    // Move handle\n    if (displaybles.moveHandle) {\n      displaybles.moveHandle.setShape(viewExtent);\n      displaybles.moveZone.setShape(viewExtent);\n      // Force update path on the invisible object\n      displaybles.moveZone.getBoundingRect();\n      displaybles.moveHandleIcon && displaybles.moveHandleIcon.attr('x', viewExtent.x + viewExtent.width / 2);\n    }\n    // update clip path of shadow.\n    var dataShadowSegs = displaybles.dataShadowSegs;\n    var segIntervals = [0, handleInterval[0], handleInterval[1], size[0]];\n    for (var i = 0; i < dataShadowSegs.length; i++) {\n      var segGroup = dataShadowSegs[i];\n      var clipPath = segGroup.getClipPath();\n      if (!clipPath) {\n        clipPath = new graphic.Rect();\n        segGroup.setClipPath(clipPath);\n      }\n      clipPath.setShape({\n        x: segIntervals[i],\n        y: 0,\n        width: segIntervals[i + 1] - segIntervals[i],\n        height: size[1]\n      });\n    }\n    this._updateDataInfo(nonRealtime);\n  };\n  SliderZoomView.prototype._updateDataInfo = function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', ''];\n    // FIXME\n    // dateformatterautoformatterec2 date.getAutoFormatter\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime\n        // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        verticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        align: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  };\n  SliderZoomView.prototype._formatLabel = function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n    var valueStr = value == null || isNaN(value) ? ''\n    // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel({\n      value: Math.round(value)\n    })\n    // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return isFunction(labelFormatter) ? labelFormatter(value, valueStr) : isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  };\n  /**\n   * @param showOrHide true: show, false: hide\n   */\n  SliderZoomView.prototype._showDataInfo = function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var displayables = this._displayables;\n    var handleLabels = displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide);\n    // Highlight move handle\n    displayables.moveHandle && this.api[showOrHide ? 'enterEmphasis' : 'leaveEmphasis'](displayables.moveHandle, 1);\n  };\n  SliderZoomView.prototype._onDragMove = function (handleIndex, dx, dy, event) {\n    this._dragging = true;\n    // For mobile device, prevent screen slider on the button.\n    eventTool.stop(event.event);\n    // Transform dx, dy to bar coordination.\n    var barTransform = this._displayables.sliderGroup.getLocalTransform();\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n    var realtime = this.dataZoomModel.get('realtime');\n    this._updateView(!realtime);\n    // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n    changed && realtime && this._dispatchZoomAction(true);\n  };\n  SliderZoomView.prototype._onDragEnd = function () {\n    this._dragging = false;\n    this._showDataInfo(false);\n    // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onClickPanel = function (e) {\n    var size = this._size;\n    var localPoint = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n    var changed = this._updateInterval('all', localPoint[0] - center);\n    this._updateView();\n    changed && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrushStart = function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    this._brushStart = new graphic.Point(x, y);\n    this._brushing = true;\n    this._brushStartTime = +new Date();\n    // this._updateBrushRect(x, y);\n  };\n\n  SliderZoomView.prototype._onBrushEnd = function (e) {\n    if (!this._brushing) {\n      return;\n    }\n    var brushRect = this._displayables.brushRect;\n    this._brushing = false;\n    if (!brushRect) {\n      return;\n    }\n    brushRect.attr('ignore', true);\n    var brushShape = brushRect.shape;\n    var brushEndTime = +new Date();\n    // console.log(brushEndTime - this._brushStartTime);\n    if (brushEndTime - this._brushStartTime < 200 && Math.abs(brushShape.width) < 5) {\n      // Will treat it as a click\n      return;\n    }\n    var viewExtend = this._getViewExtent();\n    var percentExtent = [0, 100];\n    this._range = asc([linearMap(brushShape.x, viewExtend, percentExtent, true), linearMap(brushShape.x + brushShape.width, viewExtend, percentExtent, true)]);\n    this._handleEnds = [brushShape.x, brushShape.x + brushShape.width];\n    this._updateView();\n    this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrush = function (e) {\n    if (this._brushing) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n      this._updateBrushRect(e.offsetX, e.offsetY);\n    }\n  };\n  SliderZoomView.prototype._updateBrushRect = function (mouseX, mouseY) {\n    var displayables = this._displayables;\n    var dataZoomModel = this.dataZoomModel;\n    var brushRect = displayables.brushRect;\n    if (!brushRect) {\n      brushRect = displayables.brushRect = new Rect({\n        silent: true,\n        style: dataZoomModel.getModel('brushStyle').getItemStyle()\n      });\n      displayables.sliderGroup.add(brushRect);\n    }\n    brushRect.attr('ignore', false);\n    var brushStart = this._brushStart;\n    var sliderGroup = this._displayables.sliderGroup;\n    var endPoint = sliderGroup.transformCoordToLocal(mouseX, mouseY);\n    var startPoint = sliderGroup.transformCoordToLocal(brushStart.x, brushStart.y);\n    var size = this._size;\n    endPoint[0] = Math.max(Math.min(size[0], endPoint[0]), 0);\n    brushRect.setShape({\n      x: startPoint[0],\n      y: 0,\n      width: endPoint[0] - startPoint[0],\n      height: size[1]\n    });\n  };\n  /**\n   * This action will be throttled.\n   */\n  SliderZoomView.prototype._dispatchZoomAction = function (realtime) {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      animation: realtime ? REALTIME_ANIMATION_CONFIG : null,\n      start: range[0],\n      end: range[1]\n    });\n  };\n  SliderZoomView.prototype._findCoordRect = function () {\n    // Find the grid corresponding to the first axis referred by dataZoom.\n    var rect;\n    var coordSysInfoList = collectReferCoordSysModelInfo(this.dataZoomModel).infoList;\n    if (!rect && coordSysInfoList.length) {\n      var coordSys = coordSysInfoList[0].model.coordinateSystem;\n      rect = coordSys.getRect && coordSys.getRect();\n    }\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n    return rect;\n  };\n  SliderZoomView.type = 'dataZoom.slider';\n  return SliderZoomView;\n}(DataZoomView);\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // getOtherAxis\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\nexport default SliderZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SliderZoomModel from './SliderZoomModel.js';\nimport SliderZoomView from './SliderZoomView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(SliderZoomModel);\n  registers.registerComponentView(SliderZoomView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installDataZoomInside } from './installDataZoomInside.js';\nimport { install as installDataZoomSlider } from './installDataZoomSlider.js';\nexport function install(registers) {\n  use(installDataZoomInside);\n  use(installDataZoomSlider);\n  // Do not install './dataZoomSelect',\n  // since it only work for toolbox dataZoom.\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * @file Visual mapping.\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar visualDefault = {\n  /**\n   * @public\n   */\n  get: function (visualType, key, isCategory) {\n    var value = zrUtil.clone((defaultOption[visualType] || {})[key]);\n    return isCategory ? zrUtil.isArray(value) ? value[value.length - 1] : value : value;\n  }\n};\nvar defaultOption = {\n  color: {\n    active: ['#006edd', '#e0ffff'],\n    inactive: ['rgba(0,0,0,0)']\n  },\n  colorHue: {\n    active: [0, 360],\n    inactive: [0, 0]\n  },\n  colorSaturation: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  colorLightness: {\n    active: [0.9, 0.5],\n    inactive: [0, 0]\n  },\n  colorAlpha: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  opacity: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  symbol: {\n    active: ['circle', 'roundRect', 'diamond'],\n    inactive: ['none']\n  },\n  symbolSize: {\n    active: [10, 50],\n    inactive: [0, 0]\n  }\n};\nexport default visualDefault;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport visualDefault from '../../visual/visualDefault.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport * as modelUtil from '../../util/model.js';\nimport * as numberUtil from '../../util/number.js';\nimport ComponentModel from '../../model/Component.js';\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\nvar VisualMapModel = /** @class */function (_super) {\n  __extends(VisualMapModel, _super);\n  function VisualMapModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = VisualMapModel.type;\n    _this.stateList = ['inRange', 'outOfRange'];\n    _this.replacableOptionKeys = ['inRange', 'outOfRange', 'target', 'controller', 'color'];\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    /**\n     * [lowerBound, upperBound]\n     */\n    _this.dataBound = [-Infinity, Infinity];\n    _this.targetVisuals = {};\n    _this.controllerVisuals = {};\n    return _this;\n  }\n  VisualMapModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n  /**\n   * @protected\n   */\n  VisualMapModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  };\n  /**\n   * @protected\n   */\n  VisualMapModel.prototype.resetVisual = function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  };\n  /**\n   * @public\n   */\n  VisualMapModel.prototype.getItemSymbol = function () {\n    return null;\n  };\n  /**\n   * @protected\n   * @return {Array.<number>} An array of series indices.\n   */\n  VisualMapModel.prototype.getTargetSeriesIndices = function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n    return seriesIndices;\n  };\n  /**\n   * @public\n   */\n  VisualMapModel.prototype.eachTargetSeries = function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      var seriesModel = this.ecModel.getSeriesByIndex(seriesIndex);\n      if (seriesModel) {\n        callback.call(context, seriesModel);\n      }\n    }, this);\n  };\n  /**\n   * @pubilc\n   */\n  VisualMapModel.prototype.isTargetSeries = function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  };\n  /**\n   * @example\n   * this.formatValueText(someVal); // format single numeric value to text.\n   * this.formatValueText(someVal, true); // format single category value to text.\n   * this.formatValueText([min, max]); // format numeric min-max to text.\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n   *\n   * @param value Real value, or this.dataBound[0 or 1].\n   * @param isCategory Only available when value is number.\n   * @param edgeSymbols Open-close symbol when value is interval.\n   * @protected\n   */\n  VisualMapModel.prototype.formatValueText = function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n    var textValue = isCategory ? value // Value is string when isCategory\n    : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  };\n  /**\n   * @protected\n   */\n  VisualMapModel.prototype.resetExtent = function () {\n    var thisOption = this.option;\n    // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  };\n  /**\n   * PENDING:\n   * delete this method if no outer usage.\n   *\n   * Return  Concrete dimension. If null/undefined is returned, no dimension is used.\n   */\n  // getDataDimension(data: SeriesData) {\n  //     const optDim = this.option.dimension;\n  //     if (optDim != null) {\n  //         return data.getDimension(optDim);\n  //     }\n  //     const dimNames = data.dimensions;\n  //     for (let i = dimNames.length - 1; i >= 0; i--) {\n  //         const dimName = dimNames[i];\n  //         const dimInfo = data.getDimensionInfo(dimName);\n  //         if (!dimInfo.isCalculationCoord) {\n  //             return dimName;\n  //         }\n  //     }\n  // }\n  VisualMapModel.prototype.getDataDimensionIndex = function (data) {\n    var optDim = this.option.dimension;\n    if (optDim != null) {\n      return data.getDimensionIndex(optDim);\n    }\n    var dimNames = data.dimensions;\n    for (var i = dimNames.length - 1; i >= 0; i--) {\n      var dimName = dimNames[i];\n      var dimInfo = data.getDimensionInfo(dimName);\n      if (!dimInfo.isCalculationCoord) {\n        return dimInfo.storeDimIndex;\n      }\n    }\n  };\n  VisualMapModel.prototype.getExtent = function () {\n    return this._dataExtent.slice();\n  };\n  VisualMapModel.prototype.completeVisualOption = function () {\n    var ecModel = this.ecModel;\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n    zrUtil.merge(controller, base); // Do not override\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange');\n    // completeInactive.call(this, target, 'outOfRange', 'inRange');\n    completeController.call(this, controller);\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color)\n      // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      }\n      // Compatible with previous logic, always give a default color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the default color, set inRange: {color: null}.\n      base.inRange = base.inRange || {\n        color: ecModel.get('gradientColor')\n      };\n    }\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n          if (defa != null) {\n            optAbsent[visualType] = defa;\n            // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      var itemSymbol = this.getItemSymbol();\n      var defaultSymbol = itemSymbol || 'roundRect';\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state];\n        // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        }\n        // Consistent symbol and symbolSize if not specified.\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? defaultSymbol : [defaultSymbol]);\n        }\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        }\n        // Filter none\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' ? defaultSymbol : symbol;\n        });\n        // Normalize symbolSize\n        var symbolSize = visuals.symbolSize;\n        if (symbolSize != null) {\n          var max_1 = -Infinity;\n          // symbolSize can be object when categories defined.\n          eachVisual(symbolSize, function (value) {\n            value > max_1 && (max_1 = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max_1], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  };\n  VisualMapModel.prototype.resetItemSize = function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  };\n  VisualMapModel.prototype.isCategory = function () {\n    return !!this.option.categories;\n  };\n  /**\n   * @public\n   * @abstract\n   */\n  VisualMapModel.prototype.setSelected = function (selected) {};\n  VisualMapModel.prototype.getSelected = function () {\n    return null;\n  };\n  /**\n   * @public\n   * @abstract\n   */\n  VisualMapModel.prototype.getValueState = function (value) {\n    return null;\n  };\n  /**\n   * FIXME\n   * Do not publish to thirt-part-dev temporarily\n   * util the interface is stable. (Should it return\n   * a function but not visual meta?)\n   *\n   * @pubilc\n   * @abstract\n   * @param getColorVisual\n   *        params: value, valueState\n   *        return: color\n   * @return {Object} visualMeta\n   *        should includes {stops, outerColors}\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n   */\n  VisualMapModel.prototype.getVisualMeta = function (getColorVisual) {\n    return null;\n  };\n  VisualMapModel.type = 'visualMap';\n  VisualMapModel.dependencies = ['series'];\n  VisualMapModel.defaultOption = {\n    show: true,\n    // zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    min: 0,\n    max: 200,\n    left: 0,\n    right: null,\n    top: null,\n    bottom: 0,\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    padding: 5,\n    // css\n    textGap: 10,\n    precision: 0,\n    textStyle: {\n      color: '#333' // \n    }\n  };\n\n  return VisualMapModel;\n}(ComponentModel);\nexport default VisualMapModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapModel from './VisualMapModel.js';\nimport * as numberUtil from '../../util/number.js';\nimport { inheritDefaultOption } from '../../util/component.js';\n// Constant\nvar DEFAULT_BAR_BOUND = [20, 140];\nvar ContinuousModel = /** @class */function (_super) {\n  __extends(ContinuousModel, _super);\n  function ContinuousModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ContinuousModel.type;\n    return _this;\n  }\n  /**\n   * @override\n   */\n  ContinuousModel.prototype.optionUpdated = function (newOption, isInit) {\n    _super.prototype.optionUpdated.apply(this, arguments);\n    this.resetExtent();\n    this.resetVisual(function (mappingOption) {\n      mappingOption.mappingMethod = 'linear';\n      mappingOption.dataExtent = this.getExtent();\n    });\n    this._resetRange();\n  };\n  /**\n   * @protected\n   * @override\n   */\n  ContinuousModel.prototype.resetItemSize = function () {\n    _super.prototype.resetItemSize.apply(this, arguments);\n    var itemSize = this.itemSize;\n    (itemSize[0] == null || isNaN(itemSize[0])) && (itemSize[0] = DEFAULT_BAR_BOUND[0]);\n    (itemSize[1] == null || isNaN(itemSize[1])) && (itemSize[1] = DEFAULT_BAR_BOUND[1]);\n  };\n  /**\n   * @private\n   */\n  ContinuousModel.prototype._resetRange = function () {\n    var dataExtent = this.getExtent();\n    var range = this.option.range;\n    if (!range || range.auto) {\n      // `range` should always be array (so we don't use other\n      // value like 'auto') for user-friend. (consider getOption).\n      dataExtent.auto = 1;\n      this.option.range = dataExtent;\n    } else if (zrUtil.isArray(range)) {\n      if (range[0] > range[1]) {\n        range.reverse();\n      }\n      range[0] = Math.max(range[0], dataExtent[0]);\n      range[1] = Math.min(range[1], dataExtent[1]);\n    }\n  };\n  /**\n   * @protected\n   * @override\n   */\n  ContinuousModel.prototype.completeVisualOption = function () {\n    _super.prototype.completeVisualOption.apply(this, arguments);\n    zrUtil.each(this.stateList, function (state) {\n      var symbolSize = this.option.controller[state].symbolSize;\n      if (symbolSize && symbolSize[0] !== symbolSize[1]) {\n        symbolSize[0] = symbolSize[1] / 3; // For good looking.\n      }\n    }, this);\n  };\n  /**\n   * @override\n   */\n  ContinuousModel.prototype.setSelected = function (selected) {\n    this.option.range = selected.slice();\n    this._resetRange();\n  };\n  /**\n   * @public\n   */\n  ContinuousModel.prototype.getSelected = function () {\n    var dataExtent = this.getExtent();\n    var dataInterval = numberUtil.asc((this.get('range') || []).slice());\n    // Clamp\n    dataInterval[0] > dataExtent[1] && (dataInterval[0] = dataExtent[1]);\n    dataInterval[1] > dataExtent[1] && (dataInterval[1] = dataExtent[1]);\n    dataInterval[0] < dataExtent[0] && (dataInterval[0] = dataExtent[0]);\n    dataInterval[1] < dataExtent[0] && (dataInterval[1] = dataExtent[0]);\n    return dataInterval;\n  };\n  /**\n   * @override\n   */\n  ContinuousModel.prototype.getValueState = function (value) {\n    var range = this.option.range;\n    var dataExtent = this.getExtent();\n    // When range[0] === dataExtent[0], any value larger than dataExtent[0] maps to 'inRange'.\n    // range[1] is processed likewise.\n    return (range[0] <= dataExtent[0] || range[0] <= value) && (range[1] >= dataExtent[1] || value <= range[1]) ? 'inRange' : 'outOfRange';\n  };\n  ContinuousModel.prototype.findTargetDataIndices = function (range) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimensionIndex(data), function (value, dataIndex) {\n        range[0] <= value && value <= range[1] && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  };\n  /**\n   * @implement\n   */\n  ContinuousModel.prototype.getVisualMeta = function (getColorVisual) {\n    var oVals = getColorStopValues(this, 'outOfRange', this.getExtent());\n    var iVals = getColorStopValues(this, 'inRange', this.option.range.slice());\n    var stops = [];\n    function setStop(value, valueState) {\n      stops.push({\n        value: value,\n        color: getColorVisual(value, valueState)\n      });\n    }\n    // Format to: outOfRange -- inRange -- outOfRange.\n    var iIdx = 0;\n    var oIdx = 0;\n    var iLen = iVals.length;\n    var oLen = oVals.length;\n    for (; oIdx < oLen && (!iVals.length || oVals[oIdx] <= iVals[0]); oIdx++) {\n      // If oVal[oIdx] === iVals[iIdx], oVal[oIdx] should be ignored.\n      if (oVals[oIdx] < iVals[iIdx]) {\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n    for (var first = 1; iIdx < iLen; iIdx++, first = 0) {\n      // If range is full, value beyond min, max will be clamped.\n      // make a singularity\n      first && stops.length && setStop(iVals[iIdx], 'outOfRange');\n      setStop(iVals[iIdx], 'inRange');\n    }\n    for (var first = 1; oIdx < oLen; oIdx++) {\n      if (!iVals.length || iVals[iVals.length - 1] < oVals[oIdx]) {\n        // make a singularity\n        if (first) {\n          stops.length && setStop(stops[stops.length - 1].value, 'outOfRange');\n          first = 0;\n        }\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n    var stopsLen = stops.length;\n    return {\n      stops: stops,\n      outerColors: [stopsLen ? stops[0].color : 'transparent', stopsLen ? stops[stopsLen - 1].color : 'transparent']\n    };\n  };\n  ContinuousModel.type = 'visualMap.continuous';\n  ContinuousModel.defaultOption = inheritDefaultOption(VisualMapModel.defaultOption, {\n    align: 'auto',\n    calculable: false,\n    hoverLink: true,\n    realtime: true,\n    handleIcon: 'path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z',\n    handleSize: '120%',\n    handleStyle: {\n      borderColor: '#fff',\n      borderWidth: 1\n    },\n    indicatorIcon: 'circle',\n    indicatorSize: '50%',\n    indicatorStyle: {\n      borderColor: '#fff',\n      borderWidth: 2,\n      shadowBlur: 2,\n      shadowOffsetX: 1,\n      shadowOffsetY: 1,\n      shadowColor: 'rgba(0,0,0,0.2)'\n    }\n    // emphasis: {\n    //     handleStyle: {\n    //         shadowBlur: 3,\n    //         shadowOffsetX: 1,\n    //         shadowOffsetY: 1,\n    //         shadowColor: 'rgba(0,0,0,0.2)'\n    //     }\n    // }\n  });\n\n  return ContinuousModel;\n}(VisualMapModel);\nfunction getColorStopValues(visualMapModel, valueState, dataExtent) {\n  if (dataExtent[0] === dataExtent[1]) {\n    return dataExtent.slice();\n  }\n  // When using colorHue mapping, it is not linear color any more.\n  // Moreover, canvas gradient seems not to be accurate linear.\n  // FIXME\n  // Should be arbitrary value 100? or based on pixel size?\n  var count = 200;\n  var step = (dataExtent[1] - dataExtent[0]) / count;\n  var value = dataExtent[0];\n  var stopValues = [];\n  for (var i = 0; i <= count && value < dataExtent[1]; i++) {\n    stopValues.push(value);\n    value += step;\n  }\n  stopValues.push(dataExtent[1]);\n  return stopValues;\n}\nexport default ContinuousModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { Rect } from '../../util/graphic.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as layout from '../../util/layout.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport ComponentView from '../../view/Component.js';\nvar VisualMapView = /** @class */function (_super) {\n  __extends(VisualMapView, _super);\n  function VisualMapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = VisualMapView.type;\n    _this.autoPositionValues = {\n      left: 1,\n      right: 1,\n      top: 1,\n      bottom: 1\n    };\n    return _this;\n  }\n  VisualMapView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n  /**\n   * @protected\n   */\n  VisualMapView.prototype.render = function (visualMapModel, ecModel, api, payload // TODO: TYPE\n  ) {\n    this.visualMapModel = visualMapModel;\n    if (visualMapModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n    this.doRender(visualMapModel, ecModel, api, payload);\n  };\n  /**\n   * @protected\n   */\n  VisualMapView.prototype.renderBackground = function (group) {\n    var visualMapModel = this.visualMapModel;\n    var padding = formatUtil.normalizeCssArray(visualMapModel.get('padding') || 0);\n    var rect = group.getBoundingRect();\n    group.add(new Rect({\n      z2: -1,\n      silent: true,\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[3] + padding[1],\n        height: rect.height + padding[0] + padding[2]\n      },\n      style: {\n        fill: visualMapModel.get('backgroundColor'),\n        stroke: visualMapModel.get('borderColor'),\n        lineWidth: visualMapModel.get('borderWidth')\n      }\n    }));\n  };\n  /**\n   * @protected\n   * @param targetValue can be Infinity or -Infinity\n   * @param visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\n   * @param opts\n   * @param opts.forceState Specify state, instead of using getValueState method.\n   * @param opts.convertOpacityToAlpha For color gradient in controller widget.\n   * @return {*} Visual value.\n   */\n  VisualMapView.prototype.getControllerVisual = function (targetValue, visualCluster, opts) {\n    opts = opts || {};\n    var forceState = opts.forceState;\n    var visualMapModel = this.visualMapModel;\n    var visualObj = {};\n    // Default values.\n    if (visualCluster === 'color') {\n      var defaultColor = visualMapModel.get('contentColor');\n      visualObj.color = defaultColor;\n    }\n    function getter(key) {\n      return visualObj[key];\n    }\n    function setter(key, value) {\n      visualObj[key] = value;\n    }\n    var mappings = visualMapModel.controllerVisuals[forceState || visualMapModel.getValueState(targetValue)];\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n    zrUtil.each(visualTypes, function (type) {\n      var visualMapping = mappings[type];\n      if (opts.convertOpacityToAlpha && type === 'opacity') {\n        type = 'colorAlpha';\n        visualMapping = mappings.__alphaForOpacity;\n      }\n      if (VisualMapping.dependsOn(type, visualCluster)) {\n        visualMapping && visualMapping.applyVisual(targetValue, getter, setter);\n      }\n    });\n    return visualObj[visualCluster];\n  };\n  VisualMapView.prototype.positionGroup = function (group) {\n    var model = this.visualMapModel;\n    var api = this.api;\n    layout.positionElement(group, model.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n  VisualMapView.prototype.doRender = function (visualMapModel, ecModel, api, payload) {};\n  VisualMapView.type = 'visualMap';\n  return VisualMapView;\n}(ComponentView);\nexport default VisualMapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getLayoutRect } from '../../util/layout.js';\nvar paramsSet = [['left', 'right', 'width'], ['top', 'bottom', 'height']];\n/**\n * @param visualMapModel\n * @param api\n * @param itemSize always [short, long]\n * @return {string} 'left' or 'right' or 'top' or 'bottom'\n */\nexport function getItemAlign(visualMapModel, api, itemSize) {\n  var modelOption = visualMapModel.option;\n  var itemAlign = modelOption.align;\n  if (itemAlign != null && itemAlign !== 'auto') {\n    return itemAlign;\n  }\n  // Auto decision align.\n  var ecSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var realIndex = modelOption.orient === 'horizontal' ? 1 : 0;\n  var reals = paramsSet[realIndex];\n  var fakeValue = [0, null, 10];\n  var layoutInput = {};\n  for (var i = 0; i < 3; i++) {\n    layoutInput[paramsSet[1 - realIndex][i]] = fakeValue[i];\n    layoutInput[reals[i]] = i === 2 ? itemSize[0] : modelOption[reals[i]];\n  }\n  var rParam = [['x', 'width', 3], ['y', 'height', 0]][realIndex];\n  var rect = getLayoutRect(layoutInput, ecSize, modelOption.padding);\n  return reals[(rect.margin[rParam[2]] || 0) + rect[rParam[0]] + rect[rParam[1]] * 0.5 < ecSize[rParam[1]] * 0.5 ? 0 : 1];\n}\n/**\n * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and\n * dataIndexInside means filtered index.\n */\n// TODO: TYPE more specified payload types.\nexport function makeHighDownBatch(batch, visualMapModel) {\n  zrUtil.each(batch || [], function (batchItem) {\n    if (batchItem.dataIndex != null) {\n      batchItem.dataIndexInside = batchItem.dataIndex;\n      batchItem.dataIndex = null;\n    }\n    batchItem.highlightKey = 'visualMap' + (visualMapModel ? visualMapModel.componentIndex : '');\n  });\n  return batch;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport LinearGradient from 'zrender/lib/graphic/LinearGradient.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport VisualMapView from './VisualMapView.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as numberUtil from '../../util/number.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport * as helper from './helper.js';\nimport * as modelUtil from '../../util/model.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\nimport { setAsHighDownDispatcher } from '../../util/states.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { findEventDispatcher } from '../../util/event.js';\nvar linearMap = numberUtil.linearMap;\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n// Arbitrary value\nvar HOVER_LINK_SIZE = 12;\nvar HOVER_LINK_OUT = 6;\n// Notice:\n// Any \"interval\" should be by the order of [low, high].\n// \"handle0\" (handleIndex === 0) maps to\n// low data value: this._dataInterval[0] and has low coord.\n// \"handle1\" (handleIndex === 1) maps to\n// high data value: this._dataInterval[1] and has high coord.\n// The logic of transform is implemented in this._createBarGroup.\nvar ContinuousView = /** @class */function (_super) {\n  __extends(ContinuousView, _super);\n  function ContinuousView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ContinuousView.type;\n    _this._shapes = {};\n    _this._dataInterval = [];\n    _this._handleEnds = [];\n    _this._hoverLinkDataIndices = [];\n    return _this;\n  }\n  ContinuousView.prototype.init = function (ecModel, api) {\n    _super.prototype.init.call(this, ecModel, api);\n    this._hoverLinkFromSeriesMouseOver = zrUtil.bind(this._hoverLinkFromSeriesMouseOver, this);\n    this._hideIndicator = zrUtil.bind(this._hideIndicator, this);\n  };\n  ContinuousView.prototype.doRender = function (visualMapModel, ecModel, api, payload) {\n    if (!payload || payload.type !== 'selectDataRange' || payload.from !== this.uid) {\n      this._buildView();\n    }\n  };\n  ContinuousView.prototype._buildView = function () {\n    this.group.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var thisGroup = this.group;\n    this._orient = visualMapModel.get('orient');\n    this._useHandle = visualMapModel.get('calculable');\n    this._resetInterval();\n    this._renderBar(thisGroup);\n    var dataRangeText = visualMapModel.get('text');\n    this._renderEndsText(thisGroup, dataRangeText, 0);\n    this._renderEndsText(thisGroup, dataRangeText, 1);\n    // Do this for background size calculation.\n    this._updateView(true);\n    // After updating view, inner shapes is built completely,\n    // and then background can be rendered.\n    this.renderBackground(thisGroup);\n    // Real update view\n    this._updateView();\n    this._enableHoverLinkToSeries();\n    this._enableHoverLinkFromSeries();\n    this.positionGroup(thisGroup);\n  };\n  ContinuousView.prototype._renderEndsText = function (group, dataRangeText, endsIndex) {\n    if (!dataRangeText) {\n      return;\n    }\n    // Compatible with ec2, text[0] map to high value, text[1] map low value.\n    var text = dataRangeText[1 - endsIndex];\n    text = text != null ? text + '' : '';\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var itemSize = visualMapModel.itemSize;\n    var barGroup = this._shapes.mainGroup;\n    var position = this._applyTransform([itemSize[0] / 2, endsIndex === 0 ? -textGap : itemSize[1] + textGap], barGroup);\n    var align = this._applyTransform(endsIndex === 0 ? 'bottom' : 'top', barGroup);\n    var orient = this._orient;\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    this.group.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        x: position[0],\n        y: position[1],\n        verticalAlign: orient === 'horizontal' ? 'middle' : align,\n        align: orient === 'horizontal' ? align : 'center',\n        text: text\n      })\n    }));\n  };\n  ContinuousView.prototype._renderBar = function (targetGroup) {\n    var visualMapModel = this.visualMapModel;\n    var shapes = this._shapes;\n    var itemSize = visualMapModel.itemSize;\n    var orient = this._orient;\n    var useHandle = this._useHandle;\n    var itemAlign = helper.getItemAlign(visualMapModel, this.api, itemSize);\n    var mainGroup = shapes.mainGroup = this._createBarGroup(itemAlign);\n    var gradientBarGroup = new graphic.Group();\n    mainGroup.add(gradientBarGroup);\n    // Bar\n    gradientBarGroup.add(shapes.outOfRange = createPolygon());\n    gradientBarGroup.add(shapes.inRange = createPolygon(null, useHandle ? getCursor(this._orient) : null, zrUtil.bind(this._dragHandle, this, 'all', false), zrUtil.bind(this._dragHandle, this, 'all', true)));\n    // A border radius clip.\n    gradientBarGroup.setClipPath(new graphic.Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: itemSize[0],\n        height: itemSize[1],\n        r: 3\n      }\n    }));\n    var textRect = visualMapModel.textStyleModel.getTextRect('');\n    var textSize = mathMax(textRect.width, textRect.height);\n    // Handle\n    if (useHandle) {\n      shapes.handleThumbs = [];\n      shapes.handleLabels = [];\n      shapes.handleLabelPoints = [];\n      this._createHandle(visualMapModel, mainGroup, 0, itemSize, textSize, orient);\n      this._createHandle(visualMapModel, mainGroup, 1, itemSize, textSize, orient);\n    }\n    this._createIndicator(visualMapModel, mainGroup, itemSize, textSize, orient);\n    targetGroup.add(mainGroup);\n  };\n  ContinuousView.prototype._createHandle = function (visualMapModel, mainGroup, handleIndex, itemSize, textSize, orient) {\n    var onDrift = zrUtil.bind(this._dragHandle, this, handleIndex, false);\n    var onDragEnd = zrUtil.bind(this._dragHandle, this, handleIndex, true);\n    var handleSize = parsePercent(visualMapModel.get('handleSize'), itemSize[0]);\n    var handleThumb = createSymbol(visualMapModel.get('handleIcon'), -handleSize / 2, -handleSize / 2, handleSize, handleSize, null, true);\n    var cursor = getCursor(this._orient);\n    handleThumb.attr({\n      cursor: cursor,\n      draggable: true,\n      drift: onDrift,\n      ondragend: onDragEnd,\n      onmousemove: function (e) {\n        eventTool.stop(e.event);\n      }\n    });\n    handleThumb.x = itemSize[0] / 2;\n    handleThumb.useStyle(visualMapModel.getModel('handleStyle').getItemStyle());\n    handleThumb.setStyle({\n      strokeNoScale: true,\n      strokeFirst: true\n    });\n    handleThumb.style.lineWidth *= 2;\n    handleThumb.ensureState('emphasis').style = visualMapModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n    setAsHighDownDispatcher(handleThumb, true);\n    mainGroup.add(handleThumb);\n    // Text is always horizontal layout but should not be effected by\n    // transform (orient/inverse). So label is built separately but not\n    // use zrender/graphic/helper/RectText, and is located based on view\n    // group (according to handleLabelPoint) but not barGroup.\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var handleLabel = new graphic.Text({\n      cursor: cursor,\n      draggable: true,\n      drift: onDrift,\n      onmousemove: function (e) {\n        // For mobile device, prevent screen slider on the button.\n        eventTool.stop(e.event);\n      },\n      ondragend: onDragEnd,\n      style: createTextStyle(textStyleModel, {\n        x: 0,\n        y: 0,\n        text: ''\n      })\n    });\n    handleLabel.ensureState('blur').style = {\n      opacity: 0.1\n    };\n    handleLabel.stateTransition = {\n      duration: 200\n    };\n    this.group.add(handleLabel);\n    var handleLabelPoint = [handleSize, 0];\n    var shapes = this._shapes;\n    shapes.handleThumbs[handleIndex] = handleThumb;\n    shapes.handleLabelPoints[handleIndex] = handleLabelPoint;\n    shapes.handleLabels[handleIndex] = handleLabel;\n  };\n  ContinuousView.prototype._createIndicator = function (visualMapModel, mainGroup, itemSize, textSize, orient) {\n    var scale = parsePercent(visualMapModel.get('indicatorSize'), itemSize[0]);\n    var indicator = createSymbol(visualMapModel.get('indicatorIcon'), -scale / 2, -scale / 2, scale, scale, null, true);\n    indicator.attr({\n      cursor: 'move',\n      invisible: true,\n      silent: true,\n      x: itemSize[0] / 2\n    });\n    var indicatorStyle = visualMapModel.getModel('indicatorStyle').getItemStyle();\n    if (indicator instanceof ZRImage) {\n      var pathStyle = indicator.style;\n      indicator.useStyle(zrUtil.extend({\n        // TODO other properties like x, y ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, indicatorStyle));\n    } else {\n      indicator.useStyle(indicatorStyle);\n    }\n    mainGroup.add(indicator);\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var indicatorLabel = new graphic.Text({\n      silent: true,\n      invisible: true,\n      style: createTextStyle(textStyleModel, {\n        x: 0,\n        y: 0,\n        text: ''\n      })\n    });\n    this.group.add(indicatorLabel);\n    var indicatorLabelPoint = [(orient === 'horizontal' ? textSize / 2 : HOVER_LINK_OUT) + itemSize[0] / 2, 0];\n    var shapes = this._shapes;\n    shapes.indicator = indicator;\n    shapes.indicatorLabel = indicatorLabel;\n    shapes.indicatorLabelPoint = indicatorLabelPoint;\n    this._firstShowIndicator = true;\n  };\n  ContinuousView.prototype._dragHandle = function (handleIndex, isEnd,\n  // dx is event from ondragend if isEnd is true. It's not used\n  dx, dy) {\n    if (!this._useHandle) {\n      return;\n    }\n    this._dragging = !isEnd;\n    if (!isEnd) {\n      // Transform dx, dy to bar coordination.\n      var vertex = this._applyTransform([dx, dy], this._shapes.mainGroup, true);\n      this._updateInterval(handleIndex, vertex[1]);\n      this._hideIndicator();\n      // Considering realtime, update view should be executed\n      // before dispatch action.\n      this._updateView();\n    }\n    // dragEnd do not dispatch action when realtime.\n    if (isEnd === !this.visualMapModel.get('realtime')) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'selectDataRange',\n        from: this.uid,\n        visualMapId: this.visualMapModel.id,\n        selected: this._dataInterval.slice()\n      });\n    }\n    if (isEnd) {\n      !this._hovering && this._clearHoverLinkToSeries();\n    } else if (useHoverLinkOnHandle(this.visualMapModel)) {\n      this._doHoverLinkToSeries(this._handleEnds[handleIndex], false);\n    }\n  };\n  ContinuousView.prototype._resetInterval = function () {\n    var visualMapModel = this.visualMapModel;\n    var dataInterval = this._dataInterval = visualMapModel.getSelected();\n    var dataExtent = visualMapModel.getExtent();\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    this._handleEnds = [linearMap(dataInterval[0], dataExtent, sizeExtent, true), linearMap(dataInterval[1], dataExtent, sizeExtent, true)];\n  };\n  /**\n   * @private\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\n   * @param {number} dx\n   * @param {number} dy\n   */\n  ContinuousView.prototype._updateInterval = function (handleIndex, delta) {\n    delta = delta || 0;\n    var visualMapModel = this.visualMapModel;\n    var handleEnds = this._handleEnds;\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    sliderMove(delta, handleEnds, sizeExtent, handleIndex,\n    // cross is forbidden\n    0);\n    var dataExtent = visualMapModel.getExtent();\n    // Update data interval.\n    this._dataInterval = [linearMap(handleEnds[0], sizeExtent, dataExtent, true), linearMap(handleEnds[1], sizeExtent, dataExtent, true)];\n  };\n  ContinuousView.prototype._updateView = function (forSketch) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var shapes = this._shapes;\n    var outOfRangeHandleEnds = [0, visualMapModel.itemSize[1]];\n    var inRangeHandleEnds = forSketch ? outOfRangeHandleEnds : this._handleEnds;\n    var visualInRange = this._createBarVisual(this._dataInterval, dataExtent, inRangeHandleEnds, 'inRange');\n    var visualOutOfRange = this._createBarVisual(dataExtent, dataExtent, outOfRangeHandleEnds, 'outOfRange');\n    shapes.inRange.setStyle({\n      fill: visualInRange.barColor\n      // opacity: visualInRange.opacity\n    }).setShape('points', visualInRange.barPoints);\n    shapes.outOfRange.setStyle({\n      fill: visualOutOfRange.barColor\n      // opacity: visualOutOfRange.opacity\n    }).setShape('points', visualOutOfRange.barPoints);\n    this._updateHandle(inRangeHandleEnds, visualInRange);\n  };\n  ContinuousView.prototype._createBarVisual = function (dataInterval, dataExtent, handleEnds, forceState) {\n    var opts = {\n      forceState: forceState,\n      convertOpacityToAlpha: true\n    };\n    var colorStops = this._makeColorGradient(dataInterval, opts);\n    var symbolSizes = [this.getControllerVisual(dataInterval[0], 'symbolSize', opts), this.getControllerVisual(dataInterval[1], 'symbolSize', opts)];\n    var barPoints = this._createBarPoints(handleEnds, symbolSizes);\n    return {\n      barColor: new LinearGradient(0, 0, 0, 1, colorStops),\n      barPoints: barPoints,\n      handlesColor: [colorStops[0].color, colorStops[colorStops.length - 1].color]\n    };\n  };\n  ContinuousView.prototype._makeColorGradient = function (dataInterval, opts) {\n    // Considering colorHue, which is not linear, so we have to sample\n    // to calculate gradient color stops, but not only calculate head\n    // and tail.\n    var sampleNumber = 100; // Arbitrary value.\n    var colorStops = [];\n    var step = (dataInterval[1] - dataInterval[0]) / sampleNumber;\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[0], 'color', opts),\n      offset: 0\n    });\n    for (var i = 1; i < sampleNumber; i++) {\n      var currValue = dataInterval[0] + step * i;\n      if (currValue > dataInterval[1]) {\n        break;\n      }\n      colorStops.push({\n        color: this.getControllerVisual(currValue, 'color', opts),\n        offset: i / sampleNumber\n      });\n    }\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[1], 'color', opts),\n      offset: 1\n    });\n    return colorStops;\n  };\n  ContinuousView.prototype._createBarPoints = function (handleEnds, symbolSizes) {\n    var itemSize = this.visualMapModel.itemSize;\n    return [[itemSize[0] - symbolSizes[0], handleEnds[0]], [itemSize[0], handleEnds[0]], [itemSize[0], handleEnds[1]], [itemSize[0] - symbolSizes[1], handleEnds[1]]];\n  };\n  ContinuousView.prototype._createBarGroup = function (itemAlign) {\n    var orient = this._orient;\n    var inverse = this.visualMapModel.get('inverse');\n    return new graphic.Group(orient === 'horizontal' && !inverse ? {\n      scaleX: itemAlign === 'bottom' ? 1 : -1,\n      rotation: Math.PI / 2\n    } : orient === 'horizontal' && inverse ? {\n      scaleX: itemAlign === 'bottom' ? -1 : 1,\n      rotation: -Math.PI / 2\n    } : orient === 'vertical' && !inverse ? {\n      scaleX: itemAlign === 'left' ? 1 : -1,\n      scaleY: -1\n    } : {\n      scaleX: itemAlign === 'left' ? 1 : -1\n    });\n  };\n  ContinuousView.prototype._updateHandle = function (handleEnds, visualInRange) {\n    if (!this._useHandle) {\n      return;\n    }\n    var shapes = this._shapes;\n    var visualMapModel = this.visualMapModel;\n    var handleThumbs = shapes.handleThumbs;\n    var handleLabels = shapes.handleLabels;\n    var itemSize = visualMapModel.itemSize;\n    var dataExtent = visualMapModel.getExtent();\n    each([0, 1], function (handleIndex) {\n      var handleThumb = handleThumbs[handleIndex];\n      handleThumb.setStyle('fill', visualInRange.handlesColor[handleIndex]);\n      handleThumb.y = handleEnds[handleIndex];\n      var val = linearMap(handleEnds[handleIndex], [0, itemSize[1]], dataExtent, true);\n      var symbolSize = this.getControllerVisual(val, 'symbolSize');\n      handleThumb.scaleX = handleThumb.scaleY = symbolSize / itemSize[0];\n      handleThumb.x = itemSize[0] - symbolSize / 2;\n      // Update handle label position.\n      var textPoint = graphic.applyTransform(shapes.handleLabelPoints[handleIndex], graphic.getTransform(handleThumb, this.group));\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        text: visualMapModel.formatValueText(this._dataInterval[handleIndex]),\n        verticalAlign: 'middle',\n        align: this._orient === 'vertical' ? this._applyTransform('left', shapes.mainGroup) : 'center'\n      });\n    }, this);\n  };\n  ContinuousView.prototype._showIndicator = function (cursorValue, textValue, rangeSymbol, halfHoverLinkSize) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var itemSize = visualMapModel.itemSize;\n    var sizeExtent = [0, itemSize[1]];\n    var shapes = this._shapes;\n    var indicator = shapes.indicator;\n    if (!indicator) {\n      return;\n    }\n    indicator.attr('invisible', false);\n    var opts = {\n      convertOpacityToAlpha: true\n    };\n    var color = this.getControllerVisual(cursorValue, 'color', opts);\n    var symbolSize = this.getControllerVisual(cursorValue, 'symbolSize');\n    var y = linearMap(cursorValue, dataExtent, sizeExtent, true);\n    var x = itemSize[0] - symbolSize / 2;\n    var oldIndicatorPos = {\n      x: indicator.x,\n      y: indicator.y\n    };\n    // Update handle label position.\n    indicator.y = y;\n    indicator.x = x;\n    var textPoint = graphic.applyTransform(shapes.indicatorLabelPoint, graphic.getTransform(indicator, this.group));\n    var indicatorLabel = shapes.indicatorLabel;\n    indicatorLabel.attr('invisible', false);\n    var align = this._applyTransform('left', shapes.mainGroup);\n    var orient = this._orient;\n    var isHorizontal = orient === 'horizontal';\n    indicatorLabel.setStyle({\n      text: (rangeSymbol ? rangeSymbol : '') + visualMapModel.formatValueText(textValue),\n      verticalAlign: isHorizontal ? align : 'middle',\n      align: isHorizontal ? 'center' : align\n    });\n    var indicatorNewProps = {\n      x: x,\n      y: y,\n      style: {\n        fill: color\n      }\n    };\n    var labelNewProps = {\n      style: {\n        x: textPoint[0],\n        y: textPoint[1]\n      }\n    };\n    if (visualMapModel.ecModel.isAnimationEnabled() && !this._firstShowIndicator) {\n      var animationCfg = {\n        duration: 100,\n        easing: 'cubicInOut',\n        additive: true\n      };\n      indicator.x = oldIndicatorPos.x;\n      indicator.y = oldIndicatorPos.y;\n      indicator.animateTo(indicatorNewProps, animationCfg);\n      indicatorLabel.animateTo(labelNewProps, animationCfg);\n    } else {\n      indicator.attr(indicatorNewProps);\n      indicatorLabel.attr(labelNewProps);\n    }\n    this._firstShowIndicator = false;\n    var handleLabels = this._shapes.handleLabels;\n    if (handleLabels) {\n      for (var i = 0; i < handleLabels.length; i++) {\n        // Fade out handle labels.\n        // NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.\n        this.api.enterBlur(handleLabels[i]);\n      }\n    }\n  };\n  ContinuousView.prototype._enableHoverLinkToSeries = function () {\n    var self = this;\n    this._shapes.mainGroup.on('mousemove', function (e) {\n      self._hovering = true;\n      if (!self._dragging) {\n        var itemSize = self.visualMapModel.itemSize;\n        var pos = self._applyTransform([e.offsetX, e.offsetY], self._shapes.mainGroup, true, true);\n        // For hover link show when hover handle, which might be\n        // below or upper than sizeExtent.\n        pos[1] = mathMin(mathMax(0, pos[1]), itemSize[1]);\n        self._doHoverLinkToSeries(pos[1], 0 <= pos[0] && pos[0] <= itemSize[0]);\n      }\n    }).on('mouseout', function () {\n      // When mouse is out of handle, hoverLink still need\n      // to be displayed when realtime is set as false.\n      self._hovering = false;\n      !self._dragging && self._clearHoverLinkToSeries();\n    });\n  };\n  ContinuousView.prototype._enableHoverLinkFromSeries = function () {\n    var zr = this.api.getZr();\n    if (this.visualMapModel.option.hoverLink) {\n      zr.on('mouseover', this._hoverLinkFromSeriesMouseOver, this);\n      zr.on('mouseout', this._hideIndicator, this);\n    } else {\n      this._clearHoverLinkFromSeries();\n    }\n  };\n  ContinuousView.prototype._doHoverLinkToSeries = function (cursorPos, hoverOnBar) {\n    var visualMapModel = this.visualMapModel;\n    var itemSize = visualMapModel.itemSize;\n    if (!visualMapModel.option.hoverLink) {\n      return;\n    }\n    var sizeExtent = [0, itemSize[1]];\n    var dataExtent = visualMapModel.getExtent();\n    // For hover link show when hover handle, which might be below or upper than sizeExtent.\n    cursorPos = mathMin(mathMax(sizeExtent[0], cursorPos), sizeExtent[1]);\n    var halfHoverLinkSize = getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent);\n    var hoverRange = [cursorPos - halfHoverLinkSize, cursorPos + halfHoverLinkSize];\n    var cursorValue = linearMap(cursorPos, sizeExtent, dataExtent, true);\n    var valueRange = [linearMap(hoverRange[0], sizeExtent, dataExtent, true), linearMap(hoverRange[1], sizeExtent, dataExtent, true)];\n    // Consider data range is out of visualMap range, see test/visualMap-continuous.html,\n    // where china and india has very large population.\n    hoverRange[0] < sizeExtent[0] && (valueRange[0] = -Infinity);\n    hoverRange[1] > sizeExtent[1] && (valueRange[1] = Infinity);\n    // Do not show indicator when mouse is over handle,\n    // otherwise labels overlap, especially when dragging.\n    if (hoverOnBar) {\n      if (valueRange[0] === -Infinity) {\n        this._showIndicator(cursorValue, valueRange[1], '< ', halfHoverLinkSize);\n      } else if (valueRange[1] === Infinity) {\n        this._showIndicator(cursorValue, valueRange[0], '> ', halfHoverLinkSize);\n      } else {\n        this._showIndicator(cursorValue, cursorValue, ' ', halfHoverLinkSize);\n      }\n    }\n    // When realtime is set as false, handles, which are in barGroup,\n    // also trigger hoverLink, which help user to realize where they\n    // focus on when dragging. (see test/heatmap-large.html)\n    // When realtime is set as true, highlight will not show when hover\n    // handle, because the label on handle, which displays a exact value\n    // but not range, might mislead users.\n    var oldBatch = this._hoverLinkDataIndices;\n    var newBatch = [];\n    if (hoverOnBar || useHoverLinkOnHandle(visualMapModel)) {\n      newBatch = this._hoverLinkDataIndices = visualMapModel.findTargetDataIndices(valueRange);\n    }\n    var resultBatches = modelUtil.compressBatches(oldBatch, newBatch);\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(resultBatches[0], visualMapModel));\n    this._dispatchHighDown('highlight', helper.makeHighDownBatch(resultBatches[1], visualMapModel));\n  };\n  ContinuousView.prototype._hoverLinkFromSeriesMouseOver = function (e) {\n    var ecData;\n    findEventDispatcher(e.target, function (target) {\n      var currECData = getECData(target);\n      if (currECData.dataIndex != null) {\n        ecData = currECData;\n        return true;\n      }\n    }, true);\n    if (!ecData) {\n      return;\n    }\n    var dataModel = this.ecModel.getSeriesByIndex(ecData.seriesIndex);\n    var visualMapModel = this.visualMapModel;\n    if (!visualMapModel.isTargetSeries(dataModel)) {\n      return;\n    }\n    var data = dataModel.getData(ecData.dataType);\n    var value = data.getStore().get(visualMapModel.getDataDimensionIndex(data), ecData.dataIndex);\n    if (!isNaN(value)) {\n      this._showIndicator(value, value);\n    }\n  };\n  ContinuousView.prototype._hideIndicator = function () {\n    var shapes = this._shapes;\n    shapes.indicator && shapes.indicator.attr('invisible', true);\n    shapes.indicatorLabel && shapes.indicatorLabel.attr('invisible', true);\n    var handleLabels = this._shapes.handleLabels;\n    if (handleLabels) {\n      for (var i = 0; i < handleLabels.length; i++) {\n        // Fade out handle labels.\n        // NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.\n        this.api.leaveBlur(handleLabels[i]);\n      }\n    }\n  };\n  ContinuousView.prototype._clearHoverLinkToSeries = function () {\n    this._hideIndicator();\n    var indices = this._hoverLinkDataIndices;\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(indices, this.visualMapModel));\n    indices.length = 0;\n  };\n  ContinuousView.prototype._clearHoverLinkFromSeries = function () {\n    this._hideIndicator();\n    var zr = this.api.getZr();\n    zr.off('mouseover', this._hoverLinkFromSeriesMouseOver);\n    zr.off('mouseout', this._hideIndicator);\n  };\n  ContinuousView.prototype._applyTransform = function (vertex, element, inverse, global) {\n    var transform = graphic.getTransform(element, global ? null : this.group);\n    return zrUtil.isArray(vertex) ? graphic.applyTransform(vertex, transform, inverse) : graphic.transformDirection(vertex, transform, inverse);\n  };\n  // TODO: TYPE more specified payload types.\n  ContinuousView.prototype._dispatchHighDown = function (type, batch) {\n    batch && batch.length && this.api.dispatchAction({\n      type: type,\n      batch: batch\n    });\n  };\n  /**\n   * @override\n   */\n  ContinuousView.prototype.dispose = function () {\n    this._clearHoverLinkFromSeries();\n    this._clearHoverLinkToSeries();\n  };\n  ContinuousView.type = 'visualMap.continuous';\n  return ContinuousView;\n}(VisualMapView);\nfunction createPolygon(points, cursor, onDrift, onDragEnd) {\n  return new graphic.Polygon({\n    shape: {\n      points: points\n    },\n    draggable: !!onDrift,\n    cursor: cursor,\n    drift: onDrift,\n    onmousemove: function (e) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n    },\n    ondragend: onDragEnd\n  });\n}\nfunction getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent) {\n  var halfHoverLinkSize = HOVER_LINK_SIZE / 2;\n  var hoverLinkDataSize = visualMapModel.get('hoverLinkDataSize');\n  if (hoverLinkDataSize) {\n    halfHoverLinkSize = linearMap(hoverLinkDataSize, dataExtent, sizeExtent, true) / 2;\n  }\n  return halfHoverLinkSize;\n}\nfunction useHoverLinkOnHandle(visualMapModel) {\n  var hoverLinkOnHandle = visualMapModel.get('hoverLinkOnHandle');\n  return !!(hoverLinkOnHandle == null ? visualMapModel.get('realtime') : hoverLinkOnHandle);\n}\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\nexport default ContinuousView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport var visualMapActionInfo = {\n  type: 'selectDataRange',\n  event: 'dataRangeSelected',\n  // FIXME use updateView appears wrong\n  update: 'update'\n};\nexport var visualMapActionHander = function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'visualMap',\n    query: payload\n  }, function (model) {\n    model.setSelected(payload.selected);\n  });\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nexport var visualMapEncodingHandlers = [{\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var resetDefines = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      var pipelineContext = seriesModel.pipelineContext;\n      if (!visualMapModel.isTargetSeries(seriesModel) || pipelineContext && pipelineContext.large) {\n        return;\n      }\n      resetDefines.push(visualSolution.incrementalApplyVisual(visualMapModel.stateList, visualMapModel.targetVisuals, zrUtil.bind(visualMapModel.getValueState, visualMapModel), visualMapModel.getDataDimensionIndex(seriesModel.getData())));\n    });\n    return resetDefines;\n  }\n},\n// Only support color.\n{\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var visualMetaList = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      if (visualMapModel.isTargetSeries(seriesModel)) {\n        var visualMeta = visualMapModel.getVisualMeta(zrUtil.bind(getColorVisual, null, seriesModel, visualMapModel)) || {\n          stops: [],\n          outerColors: []\n        };\n        var dimIdx = visualMapModel.getDataDimensionIndex(data);\n        if (dimIdx >= 0) {\n          // visualMeta.dimension should be dimension index, but not concrete dimension.\n          visualMeta.dimension = dimIdx;\n          visualMetaList.push(visualMeta);\n        }\n      }\n    });\n    // console.log(JSON.stringify(visualMetaList.map(a => a.stops)));\n    seriesModel.getData().setVisual('visualMeta', visualMetaList);\n  }\n}];\n// FIXME\n// performance and export for heatmap?\n// value can be Infinity or -Infinity\nfunction getColorVisual(seriesModel, visualMapModel, value, valueState) {\n  var mappings = visualMapModel.targetVisuals[valueState];\n  var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n  var resultVisual = {\n    color: getVisualFromData(seriesModel.getData(), 'color') // default color.\n  };\n\n  for (var i = 0, len = visualTypes.length; i < len; i++) {\n    var type = visualTypes[i];\n    var mapping = mappings[type === 'opacity' ? '__alphaForOpacity' : type];\n    mapping && mapping.applyVisual(value, getVisual, setVisual);\n  }\n  return resultVisual.color;\n  function getVisual(key) {\n    return resultVisual[key];\n  }\n  function setVisual(key, value) {\n    resultVisual[key] = value;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar each = zrUtil.each;\nexport default function visualMapPreprocessor(option) {\n  var visualMap = option && option.visualMap;\n  if (!zrUtil.isArray(visualMap)) {\n    visualMap = visualMap ? [visualMap] : [];\n  }\n  each(visualMap, function (opt) {\n    if (!opt) {\n      return;\n    }\n    // rename splitList to pieces\n    if (has(opt, 'splitList') && !has(opt, 'pieces')) {\n      opt.pieces = opt.splitList;\n      delete opt.splitList;\n    }\n    var pieces = opt.pieces;\n    if (pieces && zrUtil.isArray(pieces)) {\n      each(pieces, function (piece) {\n        if (zrUtil.isObject(piece)) {\n          if (has(piece, 'start') && !has(piece, 'min')) {\n            piece.min = piece.start;\n          }\n          if (has(piece, 'end') && !has(piece, 'max')) {\n            piece.max = piece.end;\n          }\n        }\n      });\n    }\n  });\n}\nfunction has(obj, name) {\n  return obj && obj.hasOwnProperty && obj.hasOwnProperty(name);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { visualMapActionInfo, visualMapActionHander } from './visualMapAction.js';\nimport { visualMapEncodingHandlers } from './visualEncoding.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport preprocessor from './preprocessor.js';\nvar installed = false;\nexport default function installCommon(registers) {\n  if (installed) {\n    return;\n  }\n  installed = true;\n  registers.registerSubTypeDefaulter('visualMap', function (option) {\n    // Compatible with ec2, when splitNumber === 0, continuous visualMap will be used.\n    return !option.categories && (!(option.pieces ? option.pieces.length > 0 : option.splitNumber > 0) || option.calculable) ? 'continuous' : 'piecewise';\n  });\n  registers.registerAction(visualMapActionInfo, visualMapActionHander);\n  each(visualMapEncodingHandlers, function (handler) {\n    registers.registerVisual(registers.PRIORITY.VISUAL.COMPONENT, handler);\n  });\n  registers.registerPreprocessor(preprocessor);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport ContinuousModel from './ContinuousModel.js';\nimport ContinuousView from './ContinuousView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(ContinuousModel);\n  registers.registerComponentView(ContinuousView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapModel from './VisualMapModel.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport visualDefault from '../../visual/visualDefault.js';\nimport { reformIntervals } from '../../util/number.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar PiecewiseModel = /** @class */function (_super) {\n  __extends(PiecewiseModel, _super);\n  function PiecewiseModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PiecewiseModel.type;\n    /**\n     * The order is always [low, ..., high].\n     * [{text: string, interval: Array.<number>}, ...]\n     */\n    _this._pieceList = [];\n    return _this;\n  }\n  PiecewiseModel.prototype.optionUpdated = function (newOption, isInit) {\n    _super.prototype.optionUpdated.apply(this, arguments);\n    this.resetExtent();\n    var mode = this._mode = this._determineMode();\n    this._pieceList = [];\n    resetMethods[this._mode].call(this, this._pieceList);\n    this._resetSelected(newOption, isInit);\n    var categories = this.option.categories;\n    this.resetVisual(function (mappingOption, state) {\n      if (mode === 'categories') {\n        mappingOption.mappingMethod = 'category';\n        mappingOption.categories = zrUtil.clone(categories);\n      } else {\n        mappingOption.dataExtent = this.getExtent();\n        mappingOption.mappingMethod = 'piecewise';\n        mappingOption.pieceList = zrUtil.map(this._pieceList, function (piece) {\n          piece = zrUtil.clone(piece);\n          if (state !== 'inRange') {\n            // FIXME\n            // outOfRange do not support special visual in pieces.\n            piece.visual = null;\n          }\n          return piece;\n        });\n      }\n    });\n  };\n  /**\n   * @protected\n   * @override\n   */\n  PiecewiseModel.prototype.completeVisualOption = function () {\n    // Consider this case:\n    // visualMap: {\n    //      pieces: [{symbol: 'circle', lt: 0}, {symbol: 'rect', gte: 0}]\n    // }\n    // where no inRange/outOfRange set but only pieces. So we should make\n    // default inRange/outOfRange for this case, otherwise visuals that only\n    // appear in `pieces` will not be taken into account in visual encoding.\n    var option = this.option;\n    var visualTypesInPieces = {};\n    var visualTypes = VisualMapping.listVisualTypes();\n    var isCategory = this.isCategory();\n    zrUtil.each(option.pieces, function (piece) {\n      zrUtil.each(visualTypes, function (visualType) {\n        if (piece.hasOwnProperty(visualType)) {\n          visualTypesInPieces[visualType] = 1;\n        }\n      });\n    });\n    zrUtil.each(visualTypesInPieces, function (v, visualType) {\n      var exists = false;\n      zrUtil.each(this.stateList, function (state) {\n        exists = exists || has(option, state, visualType) || has(option.target, state, visualType);\n      }, this);\n      !exists && zrUtil.each(this.stateList, function (state) {\n        (option[state] || (option[state] = {}))[visualType] = visualDefault.get(visualType, state === 'inRange' ? 'active' : 'inactive', isCategory);\n      });\n    }, this);\n    function has(obj, state, visualType) {\n      return obj && obj[state] && obj[state].hasOwnProperty(visualType);\n    }\n    _super.prototype.completeVisualOption.apply(this, arguments);\n  };\n  PiecewiseModel.prototype._resetSelected = function (newOption, isInit) {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    // Selected do not merge but all override.\n    var selected = (isInit ? thisOption : newOption).selected || {};\n    thisOption.selected = selected;\n    // Consider 'not specified' means true.\n    zrUtil.each(pieceList, function (piece, index) {\n      var key = this.getSelectedMapKey(piece);\n      if (!selected.hasOwnProperty(key)) {\n        selected[key] = true;\n      }\n    }, this);\n    if (thisOption.selectedMode === 'single') {\n      // Ensure there is only one selected.\n      var hasSel_1 = false;\n      zrUtil.each(pieceList, function (piece, index) {\n        var key = this.getSelectedMapKey(piece);\n        if (selected[key]) {\n          hasSel_1 ? selected[key] = false : hasSel_1 = true;\n        }\n      }, this);\n    }\n    // thisOption.selectedMode === 'multiple', default: all selected.\n  };\n  /**\n   * @public\n   */\n  PiecewiseModel.prototype.getItemSymbol = function () {\n    return this.get('itemSymbol');\n  };\n  /**\n   * @public\n   */\n  PiecewiseModel.prototype.getSelectedMapKey = function (piece) {\n    return this._mode === 'categories' ? piece.value + '' : piece.index + '';\n  };\n  /**\n   * @public\n   */\n  PiecewiseModel.prototype.getPieceList = function () {\n    return this._pieceList;\n  };\n  /**\n   * @return {string}\n   */\n  PiecewiseModel.prototype._determineMode = function () {\n    var option = this.option;\n    return option.pieces && option.pieces.length > 0 ? 'pieces' : this.option.categories ? 'categories' : 'splitNumber';\n  };\n  /**\n   * @override\n   */\n  PiecewiseModel.prototype.setSelected = function (selected) {\n    this.option.selected = zrUtil.clone(selected);\n  };\n  /**\n   * @override\n   */\n  PiecewiseModel.prototype.getValueState = function (value) {\n    var index = VisualMapping.findPieceIndex(value, this._pieceList);\n    return index != null ? this.option.selected[this.getSelectedMapKey(this._pieceList[index])] ? 'inRange' : 'outOfRange' : 'outOfRange';\n  };\n  /**\n   * @public\n   * @param pieceIndex piece index in visualMapModel.getPieceList()\n   */\n  PiecewiseModel.prototype.findTargetDataIndices = function (pieceIndex) {\n    var result = [];\n    var pieceList = this._pieceList;\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimensionIndex(data), function (value, dataIndex) {\n        // Should always base on model pieceList, because it is order sensitive.\n        var pIdx = VisualMapping.findPieceIndex(value, pieceList);\n        pIdx === pieceIndex && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  };\n  /**\n   * @private\n   * @param piece piece.value or piece.interval is required.\n   * @return  Can be Infinity or -Infinity\n   */\n  PiecewiseModel.prototype.getRepresentValue = function (piece) {\n    var representValue;\n    if (this.isCategory()) {\n      representValue = piece.value;\n    } else {\n      if (piece.value != null) {\n        representValue = piece.value;\n      } else {\n        var pieceInterval = piece.interval || [];\n        representValue = pieceInterval[0] === -Infinity && pieceInterval[1] === Infinity ? 0 : (pieceInterval[0] + pieceInterval[1]) / 2;\n      }\n    }\n    return representValue;\n  };\n  PiecewiseModel.prototype.getVisualMeta = function (getColorVisual) {\n    // Do not support category. (category axis is ordinal, numerical)\n    if (this.isCategory()) {\n      return;\n    }\n    var stops = [];\n    var outerColors = ['', ''];\n    var visualMapModel = this;\n    function setStop(interval, valueState) {\n      var representValue = visualMapModel.getRepresentValue({\n        interval: interval\n      }); // Not category\n      if (!valueState) {\n        valueState = visualMapModel.getValueState(representValue);\n      }\n      var color = getColorVisual(representValue, valueState);\n      if (interval[0] === -Infinity) {\n        outerColors[0] = color;\n      } else if (interval[1] === Infinity) {\n        outerColors[1] = color;\n      } else {\n        stops.push({\n          value: interval[0],\n          color: color\n        }, {\n          value: interval[1],\n          color: color\n        });\n      }\n    }\n    // Suplement\n    var pieceList = this._pieceList.slice();\n    if (!pieceList.length) {\n      pieceList.push({\n        interval: [-Infinity, Infinity]\n      });\n    } else {\n      var edge = pieceList[0].interval[0];\n      edge !== -Infinity && pieceList.unshift({\n        interval: [-Infinity, edge]\n      });\n      edge = pieceList[pieceList.length - 1].interval[1];\n      edge !== Infinity && pieceList.push({\n        interval: [edge, Infinity]\n      });\n    }\n    var curr = -Infinity;\n    zrUtil.each(pieceList, function (piece) {\n      var interval = piece.interval;\n      if (interval) {\n        // Fulfill gap.\n        interval[0] > curr && setStop([curr, interval[0]], 'outOfRange');\n        setStop(interval.slice());\n        curr = interval[1];\n      }\n    }, this);\n    return {\n      stops: stops,\n      outerColors: outerColors\n    };\n  };\n  PiecewiseModel.type = 'visualMap.piecewise';\n  PiecewiseModel.defaultOption = inheritDefaultOption(VisualMapModel.defaultOption, {\n    selected: null,\n    minOpen: false,\n    maxOpen: false,\n    align: 'auto',\n    itemWidth: 20,\n    itemHeight: 14,\n    itemSymbol: 'roundRect',\n    pieces: null,\n    categories: null,\n    splitNumber: 5,\n    selectedMode: 'multiple',\n    itemGap: 10,\n    hoverLink: true // Enable hover highlight.\n  });\n\n  return PiecewiseModel;\n}(VisualMapModel);\n;\n/**\n * Key is this._mode\n * @type {Object}\n * @this {module:echarts/component/viusalMap/PiecewiseMode}\n */\nvar resetMethods = {\n  splitNumber: function (outPieceList) {\n    var thisOption = this.option;\n    var precision = Math.min(thisOption.precision, 20);\n    var dataExtent = this.getExtent();\n    var splitNumber = thisOption.splitNumber;\n    splitNumber = Math.max(parseInt(splitNumber, 10), 1);\n    thisOption.splitNumber = splitNumber;\n    var splitStep = (dataExtent[1] - dataExtent[0]) / splitNumber;\n    // Precision auto-adaption\n    while (+splitStep.toFixed(precision) !== splitStep && precision < 5) {\n      precision++;\n    }\n    thisOption.precision = precision;\n    splitStep = +splitStep.toFixed(precision);\n    if (thisOption.minOpen) {\n      outPieceList.push({\n        interval: [-Infinity, dataExtent[0]],\n        close: [0, 0]\n      });\n    }\n    for (var index = 0, curr = dataExtent[0]; index < splitNumber; curr += splitStep, index++) {\n      var max = index === splitNumber - 1 ? dataExtent[1] : curr + splitStep;\n      outPieceList.push({\n        interval: [curr, max],\n        close: [1, 1]\n      });\n    }\n    if (thisOption.maxOpen) {\n      outPieceList.push({\n        interval: [dataExtent[1], Infinity],\n        close: [0, 0]\n      });\n    }\n    reformIntervals(outPieceList);\n    zrUtil.each(outPieceList, function (piece, index) {\n      piece.index = index;\n      piece.text = this.formatValueText(piece.interval);\n    }, this);\n  },\n  categories: function (outPieceList) {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.categories, function (cate) {\n      // FIXME categorypieceListvisualMappingpieceList\n      // \n      outPieceList.push({\n        text: this.formatValueText(cate, true),\n        value: cate\n      });\n    }, this);\n    // See \"Order Rule\".\n    normalizeReverse(thisOption, outPieceList);\n  },\n  pieces: function (outPieceList) {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.pieces, function (pieceListItem, index) {\n      if (!zrUtil.isObject(pieceListItem)) {\n        pieceListItem = {\n          value: pieceListItem\n        };\n      }\n      var item = {\n        text: '',\n        index: index\n      };\n      if (pieceListItem.label != null) {\n        item.text = pieceListItem.label;\n      }\n      if (pieceListItem.hasOwnProperty('value')) {\n        var value = item.value = pieceListItem.value;\n        item.interval = [value, value];\n        item.close = [1, 1];\n      } else {\n        // `min` `max` is legacy option.\n        // `lt` `gt` `lte` `gte` is recommended.\n        var interval = item.interval = [];\n        var close_1 = item.close = [0, 0];\n        var closeList = [1, 0, 1];\n        var infinityList = [-Infinity, Infinity];\n        var useMinMax = [];\n        for (var lg = 0; lg < 2; lg++) {\n          var names = [['gte', 'gt', 'min'], ['lte', 'lt', 'max']][lg];\n          for (var i = 0; i < 3 && interval[lg] == null; i++) {\n            interval[lg] = pieceListItem[names[i]];\n            close_1[lg] = closeList[i];\n            useMinMax[lg] = i === 2;\n          }\n          interval[lg] == null && (interval[lg] = infinityList[lg]);\n        }\n        useMinMax[0] && interval[1] === Infinity && (close_1[0] = 0);\n        useMinMax[1] && interval[0] === -Infinity && (close_1[1] = 0);\n        if (process.env.NODE_ENV !== 'production') {\n          if (interval[0] > interval[1]) {\n            console.warn('Piece ' + index + 'is illegal: ' + interval + ' lower bound should not greater then uppper bound.');\n          }\n        }\n        if (interval[0] === interval[1] && close_1[0] && close_1[1]) {\n          // Consider: [{min: 5, max: 5, visual: {...}}, {min: 0, max: 5}],\n          // we use value to lift the priority when min === max\n          item.value = interval[0];\n        }\n      }\n      item.visual = VisualMapping.retrieveVisuals(pieceListItem);\n      outPieceList.push(item);\n    }, this);\n    // See \"Order Rule\".\n    normalizeReverse(thisOption, outPieceList);\n    // Only pieces\n    reformIntervals(outPieceList);\n    zrUtil.each(outPieceList, function (piece) {\n      var close = piece.close;\n      var edgeSymbols = [['<', ''][close[1]], ['>', ''][close[0]]];\n      piece.text = piece.text || this.formatValueText(piece.value != null ? piece.value : piece.interval, false, edgeSymbols);\n    }, this);\n  }\n};\nfunction normalizeReverse(thisOption, pieceList) {\n  var inverse = thisOption.inverse;\n  if (thisOption.orient === 'vertical' ? !inverse : inverse) {\n    pieceList.reverse();\n  }\n}\nexport default PiecewiseModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapView from './VisualMapView.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport * as layout from '../../util/layout.js';\nimport * as helper from './helper.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nvar PiecewiseVisualMapView = /** @class */function (_super) {\n  __extends(PiecewiseVisualMapView, _super);\n  function PiecewiseVisualMapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PiecewiseVisualMapView.type;\n    return _this;\n  }\n  PiecewiseVisualMapView.prototype.doRender = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var textStyleModel = visualMapModel.textStyleModel;\n    var textFont = textStyleModel.getFont();\n    var textFill = textStyleModel.getTextColor();\n    var itemAlign = this._getItemAlign();\n    var itemSize = visualMapModel.itemSize;\n    var viewData = this._getViewData();\n    var endsText = viewData.endsText;\n    var showLabel = zrUtil.retrieve(visualMapModel.get('showLabel', true), !endsText);\n    endsText && this._renderEndsText(thisGroup, endsText[0], itemSize, showLabel, itemAlign);\n    zrUtil.each(viewData.viewPieceList, function (item) {\n      var piece = item.piece;\n      var itemGroup = new graphic.Group();\n      itemGroup.onclick = zrUtil.bind(this._onItemClick, this, piece);\n      this._enableHoverLink(itemGroup, item.indexInModelPieceList);\n      // TODO Category\n      var representValue = visualMapModel.getRepresentValue(piece);\n      this._createItemSymbol(itemGroup, representValue, [0, 0, itemSize[0], itemSize[1]]);\n      if (showLabel) {\n        var visualState = this.visualMapModel.getValueState(representValue);\n        itemGroup.add(new graphic.Text({\n          style: {\n            x: itemAlign === 'right' ? -textGap : itemSize[0] + textGap,\n            y: itemSize[1] / 2,\n            text: piece.text,\n            verticalAlign: 'middle',\n            align: itemAlign,\n            font: textFont,\n            fill: textFill,\n            opacity: visualState === 'outOfRange' ? 0.5 : 1\n          }\n        }));\n      }\n      thisGroup.add(itemGroup);\n    }, this);\n    endsText && this._renderEndsText(thisGroup, endsText[1], itemSize, showLabel, itemAlign);\n    layout.box(visualMapModel.get('orient'), thisGroup, visualMapModel.get('itemGap'));\n    this.renderBackground(thisGroup);\n    this.positionGroup(thisGroup);\n  };\n  PiecewiseVisualMapView.prototype._enableHoverLink = function (itemGroup, pieceIndex) {\n    var _this = this;\n    itemGroup.on('mouseover', function () {\n      return onHoverLink('highlight');\n    }).on('mouseout', function () {\n      return onHoverLink('downplay');\n    });\n    var onHoverLink = function (method) {\n      var visualMapModel = _this.visualMapModel;\n      // TODO: TYPE More detailed action types\n      visualMapModel.option.hoverLink && _this.api.dispatchAction({\n        type: method,\n        batch: helper.makeHighDownBatch(visualMapModel.findTargetDataIndices(pieceIndex), visualMapModel)\n      });\n    };\n  };\n  PiecewiseVisualMapView.prototype._getItemAlign = function () {\n    var visualMapModel = this.visualMapModel;\n    var modelOption = visualMapModel.option;\n    if (modelOption.orient === 'vertical') {\n      return helper.getItemAlign(visualMapModel, this.api, visualMapModel.itemSize);\n    } else {\n      // horizontal, most case left unless specifying right.\n      var align = modelOption.align;\n      if (!align || align === 'auto') {\n        align = 'left';\n      }\n      return align;\n    }\n  };\n  PiecewiseVisualMapView.prototype._renderEndsText = function (group, text, itemSize, showLabel, itemAlign) {\n    if (!text) {\n      return;\n    }\n    var itemGroup = new graphic.Group();\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        x: showLabel ? itemAlign === 'right' ? itemSize[0] : 0 : itemSize[0] / 2,\n        y: itemSize[1] / 2,\n        verticalAlign: 'middle',\n        align: showLabel ? itemAlign : 'center',\n        text: text\n      })\n    }));\n    group.add(itemGroup);\n  };\n  /**\n   * @private\n   * @return {Object} {peiceList, endsText} The order is the same as screen pixel order.\n   */\n  PiecewiseVisualMapView.prototype._getViewData = function () {\n    var visualMapModel = this.visualMapModel;\n    var viewPieceList = zrUtil.map(visualMapModel.getPieceList(), function (piece, index) {\n      return {\n        piece: piece,\n        indexInModelPieceList: index\n      };\n    });\n    var endsText = visualMapModel.get('text');\n    // Consider orient and inverse.\n    var orient = visualMapModel.get('orient');\n    var inverse = visualMapModel.get('inverse');\n    // Order of model pieceList is always [low, ..., high]\n    if (orient === 'horizontal' ? inverse : !inverse) {\n      viewPieceList.reverse();\n    }\n    // Origin order of endsText is [high, low]\n    else if (endsText) {\n      endsText = endsText.slice().reverse();\n    }\n    return {\n      viewPieceList: viewPieceList,\n      endsText: endsText\n    };\n  };\n  PiecewiseVisualMapView.prototype._createItemSymbol = function (group, representValue, shapeParam) {\n    group.add(createSymbol(\n    // symbol will be string\n    this.getControllerVisual(representValue, 'symbol'), shapeParam[0], shapeParam[1], shapeParam[2], shapeParam[3],\n    // color will be string\n    this.getControllerVisual(representValue, 'color')));\n  };\n  PiecewiseVisualMapView.prototype._onItemClick = function (piece) {\n    var visualMapModel = this.visualMapModel;\n    var option = visualMapModel.option;\n    var selectedMode = option.selectedMode;\n    if (!selectedMode) {\n      return;\n    }\n    var selected = zrUtil.clone(option.selected);\n    var newKey = visualMapModel.getSelectedMapKey(piece);\n    if (selectedMode === 'single' || selectedMode === true) {\n      selected[newKey] = true;\n      zrUtil.each(selected, function (o, key) {\n        selected[key] = key === newKey;\n      });\n    } else {\n      selected[newKey] = !selected[newKey];\n    }\n    this.api.dispatchAction({\n      type: 'selectDataRange',\n      from: this.uid,\n      visualMapId: this.visualMapModel.id,\n      selected: selected\n    });\n  };\n  PiecewiseVisualMapView.type = 'visualMap.piecewise';\n  return PiecewiseVisualMapView;\n}(VisualMapView);\nexport default PiecewiseVisualMapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport PiecewiseModel from './PiecewiseModel.js';\nimport PiecewiseView from './PiecewiseView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(PiecewiseModel);\n  registers.registerComponentView(PiecewiseView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installVisualMapContinuous } from './installVisualMapContinuous.js';\nimport { install as installVisualMapPiecewise } from './installVisualMapPiecewise.js';\nexport function install(registers) {\n  use(installVisualMapContinuous);\n  use(installVisualMapPiecewise);\n  // Do not install './dataZoomSelect',\n  // since it only work for toolbox dataZoom.\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { makeInner } from '../util/model.js';\nimport { getDecalFromPalette } from '../model/mixin/palette.js';\nvar DEFAULT_OPTION = {\n  label: {\n    enabled: true\n  },\n  decal: {\n    show: false\n  }\n};\nvar inner = makeInner();\nvar decalPaletteScope = {};\nexport default function ariaVisual(ecModel, api) {\n  var ariaModel = ecModel.getModel('aria');\n  // See \"area enabled\" detection code in `GlobalModel.ts`.\n  if (!ariaModel.get('enabled')) {\n    return;\n  }\n  var defaultOption = zrUtil.clone(DEFAULT_OPTION);\n  zrUtil.merge(defaultOption.label, ecModel.getLocaleModel().get('aria'), false);\n  zrUtil.merge(ariaModel.option, defaultOption, false);\n  setDecal();\n  setLabel();\n  function setDecal() {\n    var decalModel = ariaModel.getModel('decal');\n    var useDecal = decalModel.get('show');\n    if (useDecal) {\n      // Each type of series use one scope.\n      // Pie and funnel are using different scopes.\n      var paletteScopeGroupByType_1 = zrUtil.createHashMap();\n      ecModel.eachSeries(function (seriesModel) {\n        if (seriesModel.isColorBySeries()) {\n          return;\n        }\n        var decalScope = paletteScopeGroupByType_1.get(seriesModel.type);\n        if (!decalScope) {\n          decalScope = {};\n          paletteScopeGroupByType_1.set(seriesModel.type, decalScope);\n        }\n        inner(seriesModel).scope = decalScope;\n      });\n      ecModel.eachRawSeries(function (seriesModel) {\n        if (ecModel.isSeriesFiltered(seriesModel)) {\n          return;\n        }\n        if (zrUtil.isFunction(seriesModel.enableAriaDecal)) {\n          // Let series define how to use decal palette on data\n          seriesModel.enableAriaDecal();\n          return;\n        }\n        var data = seriesModel.getData();\n        if (!seriesModel.isColorBySeries()) {\n          var dataAll_1 = seriesModel.getRawData();\n          var idxMap_1 = {};\n          var decalScope_1 = inner(seriesModel).scope;\n          data.each(function (idx) {\n            var rawIdx = data.getRawIndex(idx);\n            idxMap_1[rawIdx] = idx;\n          });\n          var dataCount_1 = dataAll_1.count();\n          dataAll_1.each(function (rawIdx) {\n            var idx = idxMap_1[rawIdx];\n            var name = dataAll_1.getName(rawIdx) || rawIdx + '';\n            var paletteDecal = getDecalFromPalette(seriesModel.ecModel, name, decalScope_1, dataCount_1);\n            var specifiedDecal = data.getItemVisual(idx, 'decal');\n            data.setItemVisual(idx, 'decal', mergeDecal(specifiedDecal, paletteDecal));\n          });\n        } else {\n          var paletteDecal = getDecalFromPalette(seriesModel.ecModel, seriesModel.name, decalPaletteScope, ecModel.getSeriesCount());\n          var specifiedDecal = data.getVisual('decal');\n          data.setVisual('decal', mergeDecal(specifiedDecal, paletteDecal));\n        }\n        function mergeDecal(specifiedDecal, paletteDecal) {\n          // Merge decal from palette to decal from itemStyle.\n          // User do not need to specify all of the decal props.\n          var resultDecal = specifiedDecal ? zrUtil.extend(zrUtil.extend({}, paletteDecal), specifiedDecal) : paletteDecal;\n          resultDecal.dirty = true;\n          return resultDecal;\n        }\n      });\n    }\n  }\n  function setLabel() {\n    var labelLocale = ecModel.getLocaleModel().get('aria');\n    var labelModel = ariaModel.getModel('label');\n    labelModel.option = zrUtil.defaults(labelModel.option, labelLocale);\n    if (!labelModel.get('enabled')) {\n      return;\n    }\n    var dom = api.getZr().dom;\n    if (labelModel.get('description')) {\n      dom.setAttribute('aria-label', labelModel.get('description'));\n      return;\n    }\n    var seriesCnt = ecModel.getSeriesCount();\n    var maxDataCnt = labelModel.get(['data', 'maxCount']) || 10;\n    var maxSeriesCnt = labelModel.get(['series', 'maxCount']) || 10;\n    var displaySeriesCnt = Math.min(seriesCnt, maxSeriesCnt);\n    var ariaLabel;\n    if (seriesCnt < 1) {\n      // No series, no aria label\n      return;\n    } else {\n      var title = getTitle();\n      if (title) {\n        var withTitle = labelModel.get(['general', 'withTitle']);\n        ariaLabel = replace(withTitle, {\n          title: title\n        });\n      } else {\n        ariaLabel = labelModel.get(['general', 'withoutTitle']);\n      }\n      var seriesLabels_1 = [];\n      var prefix = seriesCnt > 1 ? labelModel.get(['series', 'multiple', 'prefix']) : labelModel.get(['series', 'single', 'prefix']);\n      ariaLabel += replace(prefix, {\n        seriesCount: seriesCnt\n      });\n      ecModel.eachSeries(function (seriesModel, idx) {\n        if (idx < displaySeriesCnt) {\n          var seriesLabel = void 0;\n          var seriesName = seriesModel.get('name');\n          var withName = seriesName ? 'withName' : 'withoutName';\n          seriesLabel = seriesCnt > 1 ? labelModel.get(['series', 'multiple', withName]) : labelModel.get(['series', 'single', withName]);\n          seriesLabel = replace(seriesLabel, {\n            seriesId: seriesModel.seriesIndex,\n            seriesName: seriesModel.get('name'),\n            seriesType: getSeriesTypeName(seriesModel.subType)\n          });\n          var data = seriesModel.getData();\n          if (data.count() > maxDataCnt) {\n            // Show part of data\n            var partialLabel = labelModel.get(['data', 'partialData']);\n            seriesLabel += replace(partialLabel, {\n              displayCnt: maxDataCnt\n            });\n          } else {\n            seriesLabel += labelModel.get(['data', 'allData']);\n          }\n          var middleSeparator_1 = labelModel.get(['data', 'separator', 'middle']);\n          var endSeparator_1 = labelModel.get(['data', 'separator', 'end']);\n          var dataLabels = [];\n          for (var i = 0; i < data.count(); i++) {\n            if (i < maxDataCnt) {\n              var name_1 = data.getName(i);\n              var value = data.getValues(i);\n              var dataLabel = labelModel.get(['data', name_1 ? 'withName' : 'withoutName']);\n              dataLabels.push(replace(dataLabel, {\n                name: name_1,\n                value: value.join(middleSeparator_1)\n              }));\n            }\n          }\n          seriesLabel += dataLabels.join(middleSeparator_1) + endSeparator_1;\n          seriesLabels_1.push(seriesLabel);\n        }\n      });\n      var separatorModel = labelModel.getModel(['series', 'multiple', 'separator']);\n      var middleSeparator = separatorModel.get('middle');\n      var endSeparator = separatorModel.get('end');\n      ariaLabel += seriesLabels_1.join(middleSeparator) + endSeparator;\n      dom.setAttribute('aria-label', ariaLabel);\n    }\n  }\n  function replace(str, keyValues) {\n    if (!zrUtil.isString(str)) {\n      return str;\n    }\n    var result = str;\n    zrUtil.each(keyValues, function (value, key) {\n      result = result.replace(new RegExp('\\\\{\\\\s*' + key + '\\\\s*\\\\}', 'g'), value);\n    });\n    return result;\n  }\n  function getTitle() {\n    var title = ecModel.get('title');\n    if (title && title.length) {\n      title = title[0];\n    }\n    return title && title.text;\n  }\n  function getSeriesTypeName(type) {\n    var typeNames = ecModel.getLocaleModel().get(['series', 'typeNames']);\n    return typeNames[type] || typeNames.chart;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function ariaPreprocessor(option) {\n  if (!option || !option.aria) {\n    return;\n  }\n  var aria = option.aria;\n  // aria.show is deprecated and should use aria.enabled instead\n  if (aria.show != null) {\n    aria.enabled = aria.show;\n  }\n  aria.label = aria.label || {};\n  // move description, general, series, data to be under aria.label\n  zrUtil.each(['description', 'general', 'series', 'data'], function (name) {\n    if (aria[name] != null) {\n      aria.label[name] = aria[name];\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport ariaVisual from '../../visual/aria.js';\nimport ariaPreprocessor from './preprocessor.js';\nexport function install(registers) {\n  registers.registerPreprocessor(ariaPreprocessor);\n  registers.registerVisual(registers.PRIORITY.VISUAL.ARIA, ariaVisual);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { keys, isArray, map, isObject, isString, isRegExp, isArrayLike, hasOwn, isNumber } from 'zrender/lib/core/util.js';\nimport { throwError, makePrintable } from './log.js';\nimport { getRawValueParser, createFilterComparator } from '../data/helper/dataValueHelper.js';\n;\nvar RELATIONAL_EXPRESSION_OP_ALIAS_MAP = {\n  value: 'eq',\n  // PENDING: not good for literal semantic?\n  '<': 'lt',\n  '<=': 'lte',\n  '>': 'gt',\n  '>=': 'gte',\n  '=': 'eq',\n  '!=': 'ne',\n  '<>': 'ne'\n  // Might be misleading for sake of the difference between '==' and '===',\n  // so don't support them.\n  // '==': 'eq',\n  // '===': 'seq',\n  // '!==': 'sne'\n  // PENDING: Whether support some common alias \"ge\", \"le\", \"neq\"?\n  // ge: 'gte',\n  // le: 'lte',\n  // neq: 'ne',\n};\n// type RelationalExpressionOpEvaluate = (tarVal: unknown, condVal: unknown) => boolean;\nvar RegExpEvaluator = /** @class */function () {\n  function RegExpEvaluator(rVal) {\n    // Support condVal: RegExp | string\n    var condValue = this._condVal = isString(rVal) ? new RegExp(rVal) : isRegExp(rVal) ? rVal : null;\n    if (condValue == null) {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('Illegal regexp', rVal, 'in');\n      }\n      throwError(errMsg);\n    }\n  }\n  RegExpEvaluator.prototype.evaluate = function (lVal) {\n    var type = typeof lVal;\n    return isString(type) ? this._condVal.test(lVal) : isNumber(type) ? this._condVal.test(lVal + '') : false;\n  };\n  return RegExpEvaluator;\n}();\nvar ConstConditionInternal = /** @class */function () {\n  function ConstConditionInternal() {}\n  ConstConditionInternal.prototype.evaluate = function () {\n    return this.value;\n  };\n  return ConstConditionInternal;\n}();\nvar AndConditionInternal = /** @class */function () {\n  function AndConditionInternal() {}\n  AndConditionInternal.prototype.evaluate = function () {\n    var children = this.children;\n    for (var i = 0; i < children.length; i++) {\n      if (!children[i].evaluate()) {\n        return false;\n      }\n    }\n    return true;\n  };\n  return AndConditionInternal;\n}();\nvar OrConditionInternal = /** @class */function () {\n  function OrConditionInternal() {}\n  OrConditionInternal.prototype.evaluate = function () {\n    var children = this.children;\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].evaluate()) {\n        return true;\n      }\n    }\n    return false;\n  };\n  return OrConditionInternal;\n}();\nvar NotConditionInternal = /** @class */function () {\n  function NotConditionInternal() {}\n  NotConditionInternal.prototype.evaluate = function () {\n    return !this.child.evaluate();\n  };\n  return NotConditionInternal;\n}();\nvar RelationalConditionInternal = /** @class */function () {\n  function RelationalConditionInternal() {}\n  RelationalConditionInternal.prototype.evaluate = function () {\n    var needParse = !!this.valueParser;\n    // Call getValue with no `this`.\n    var getValue = this.getValue;\n    var tarValRaw = getValue(this.valueGetterParam);\n    var tarValParsed = needParse ? this.valueParser(tarValRaw) : null;\n    // Relational cond follow \"and\" logic internally.\n    for (var i = 0; i < this.subCondList.length; i++) {\n      if (!this.subCondList[i].evaluate(needParse ? tarValParsed : tarValRaw)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  return RelationalConditionInternal;\n}();\nfunction parseOption(exprOption, getters) {\n  if (exprOption === true || exprOption === false) {\n    var cond = new ConstConditionInternal();\n    cond.value = exprOption;\n    return cond;\n  }\n  var errMsg = '';\n  if (!isObjectNotArray(exprOption)) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = makePrintable('Illegal config. Expect a plain object but actually', exprOption);\n    }\n    throwError(errMsg);\n  }\n  if (exprOption.and) {\n    return parseAndOrOption('and', exprOption, getters);\n  } else if (exprOption.or) {\n    return parseAndOrOption('or', exprOption, getters);\n  } else if (exprOption.not) {\n    return parseNotOption(exprOption, getters);\n  }\n  return parseRelationalOption(exprOption, getters);\n}\nfunction parseAndOrOption(op, exprOption, getters) {\n  var subOptionArr = exprOption[op];\n  var errMsg = '';\n  if (process.env.NODE_ENV !== 'production') {\n    errMsg = makePrintable('\"and\"/\"or\" condition should only be `' + op + ': [...]` and must not be empty array.', 'Illegal condition:', exprOption);\n  }\n  if (!isArray(subOptionArr)) {\n    throwError(errMsg);\n  }\n  if (!subOptionArr.length) {\n    throwError(errMsg);\n  }\n  var cond = op === 'and' ? new AndConditionInternal() : new OrConditionInternal();\n  cond.children = map(subOptionArr, function (subOption) {\n    return parseOption(subOption, getters);\n  });\n  if (!cond.children.length) {\n    throwError(errMsg);\n  }\n  return cond;\n}\nfunction parseNotOption(exprOption, getters) {\n  var subOption = exprOption.not;\n  var errMsg = '';\n  if (process.env.NODE_ENV !== 'production') {\n    errMsg = makePrintable('\"not\" condition should only be `not: {}`.', 'Illegal condition:', exprOption);\n  }\n  if (!isObjectNotArray(subOption)) {\n    throwError(errMsg);\n  }\n  var cond = new NotConditionInternal();\n  cond.child = parseOption(subOption, getters);\n  if (!cond.child) {\n    throwError(errMsg);\n  }\n  return cond;\n}\nfunction parseRelationalOption(exprOption, getters) {\n  var errMsg = '';\n  var valueGetterParam = getters.prepareGetValue(exprOption);\n  var subCondList = [];\n  var exprKeys = keys(exprOption);\n  var parserName = exprOption.parser;\n  var valueParser = parserName ? getRawValueParser(parserName) : null;\n  for (var i = 0; i < exprKeys.length; i++) {\n    var keyRaw = exprKeys[i];\n    if (keyRaw === 'parser' || getters.valueGetterAttrMap.get(keyRaw)) {\n      continue;\n    }\n    var op = hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP, keyRaw) ? RELATIONAL_EXPRESSION_OP_ALIAS_MAP[keyRaw] : keyRaw;\n    var condValueRaw = exprOption[keyRaw];\n    var condValueParsed = valueParser ? valueParser(condValueRaw) : condValueRaw;\n    var evaluator = createFilterComparator(op, condValueParsed) || op === 'reg' && new RegExpEvaluator(condValueParsed);\n    if (!evaluator) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('Illegal relational operation: \"' + keyRaw + '\" in condition:', exprOption);\n      }\n      throwError(errMsg);\n    }\n    subCondList.push(evaluator);\n  }\n  if (!subCondList.length) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = makePrintable('Relational condition must have at least one operator.', 'Illegal condition:', exprOption);\n    }\n    // No relational operator always disabled in case of dangers result.\n    throwError(errMsg);\n  }\n  var cond = new RelationalConditionInternal();\n  cond.valueGetterParam = valueGetterParam;\n  cond.valueParser = valueParser;\n  cond.getValue = getters.getValue;\n  cond.subCondList = subCondList;\n  return cond;\n}\nfunction isObjectNotArray(val) {\n  return isObject(val) && !isArrayLike(val);\n}\nvar ConditionalExpressionParsed = /** @class */function () {\n  function ConditionalExpressionParsed(exprOption, getters) {\n    this._cond = parseOption(exprOption, getters);\n  }\n  ConditionalExpressionParsed.prototype.evaluate = function () {\n    return this._cond.evaluate();\n  };\n  return ConditionalExpressionParsed;\n}();\n;\nexport function parseConditionalExpression(exprOption, getters) {\n  return new ConditionalExpressionParsed(exprOption, getters);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parseConditionalExpression } from '../../util/conditionalExpression.js';\nimport { hasOwn, createHashMap } from 'zrender/lib/core/util.js';\nimport { makePrintable, throwError } from '../../util/log.js';\nexport var filterTransform = {\n  type: 'echarts:filter',\n  // PENDING: enhance to filter by index rather than create new data\n  transform: function (params) {\n    // [Caveat] Fail-Fast:\n    // Do not return the whole dataset unless user config indicates it explicitly.\n    // For example, if no condition is specified by mistake, returning an empty result\n    // is better than returning the entire raw source for the user to find the mistake.\n    var upstream = params.upstream;\n    var rawItem;\n    var condition = parseConditionalExpression(params.config, {\n      valueGetterAttrMap: createHashMap({\n        dimension: true\n      }),\n      prepareGetValue: function (exprOption) {\n        var errMsg = '';\n        var dimLoose = exprOption.dimension;\n        if (!hasOwn(exprOption, 'dimension')) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = makePrintable('Relation condition must has prop \"dimension\" specified.', 'Illegal condition:', exprOption);\n          }\n          throwError(errMsg);\n        }\n        var dimInfo = upstream.getDimensionInfo(dimLoose);\n        if (!dimInfo) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = makePrintable('Can not find dimension info via: ' + dimLoose + '.\\n', 'Existing dimensions: ', upstream.cloneAllDimensionInfo(), '.\\n', 'Illegal condition:', exprOption, '.\\n');\n          }\n          throwError(errMsg);\n        }\n        return {\n          dimIdx: dimInfo.index\n        };\n      },\n      getValue: function (param) {\n        return upstream.retrieveValueFromItem(rawItem, param.dimIdx);\n      }\n    });\n    var resultData = [];\n    for (var i = 0, len = upstream.count(); i < len; i++) {\n      rawItem = upstream.getRawDataItem(i);\n      if (condition.evaluate()) {\n        resultData.push(rawItem);\n      }\n    }\n    return {\n      data: resultData\n    };\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { SOURCE_FORMAT_ARRAY_ROWS, SOURCE_FORMAT_OBJECT_ROWS } from '../../util/types.js';\nimport { makePrintable, throwError } from '../../util/log.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport { normalizeToArray } from '../../util/model.js';\nimport { getRawValueParser, SortOrderComparator } from '../../data/helper/dataValueHelper.js';\nvar sampleLog = '';\nif (process.env.NODE_ENV !== 'production') {\n  sampleLog = ['Valid config is like:', '{ dimension: \"age\", order: \"asc\" }', 'or [{ dimension: \"age\", order: \"asc\"], { dimension: \"date\", order: \"desc\" }]'].join(' ');\n}\nexport var sortTransform = {\n  type: 'echarts:sort',\n  transform: function (params) {\n    var upstream = params.upstream;\n    var config = params.config;\n    var errMsg = '';\n    // Normalize\n    // const orderExprList: OrderExpression[] = isArray(config[0])\n    //     ? config as OrderExpression[]\n    //     : [config as OrderExpression];\n    var orderExprList = normalizeToArray(config);\n    if (!orderExprList.length) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'Empty `config` in sort transform.';\n      }\n      throwError(errMsg);\n    }\n    var orderDefList = [];\n    each(orderExprList, function (orderExpr) {\n      var dimLoose = orderExpr.dimension;\n      var order = orderExpr.order;\n      var parserName = orderExpr.parser;\n      var incomparable = orderExpr.incomparable;\n      if (dimLoose == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = 'Sort transform config must has \"dimension\" specified.' + sampleLog;\n        }\n        throwError(errMsg);\n      }\n      if (order !== 'asc' && order !== 'desc') {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = 'Sort transform config must has \"order\" specified.' + sampleLog;\n        }\n        throwError(errMsg);\n      }\n      if (incomparable && incomparable !== 'min' && incomparable !== 'max') {\n        var errMsg_1 = '';\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg_1 = 'incomparable must be \"min\" or \"max\" rather than \"' + incomparable + '\".';\n        }\n        throwError(errMsg_1);\n      }\n      if (order !== 'asc' && order !== 'desc') {\n        var errMsg_2 = '';\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg_2 = 'order must be \"asc\" or \"desc\" rather than \"' + order + '\".';\n        }\n        throwError(errMsg_2);\n      }\n      var dimInfo = upstream.getDimensionInfo(dimLoose);\n      if (!dimInfo) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = makePrintable('Can not find dimension info via: ' + dimLoose + '.\\n', 'Existing dimensions: ', upstream.cloneAllDimensionInfo(), '.\\n', 'Illegal config:', orderExpr, '.\\n');\n        }\n        throwError(errMsg);\n      }\n      var parser = parserName ? getRawValueParser(parserName) : null;\n      if (parserName && !parser) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = makePrintable('Invalid parser name ' + parserName + '.\\n', 'Illegal config:', orderExpr, '.\\n');\n        }\n        throwError(errMsg);\n      }\n      orderDefList.push({\n        dimIdx: dimInfo.index,\n        parser: parser,\n        comparator: new SortOrderComparator(order, incomparable)\n      });\n    });\n    // TODO: support it?\n    var sourceFormat = upstream.sourceFormat;\n    if (sourceFormat !== SOURCE_FORMAT_ARRAY_ROWS && sourceFormat !== SOURCE_FORMAT_OBJECT_ROWS) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'sourceFormat \"' + sourceFormat + '\" is not supported yet';\n      }\n      throwError(errMsg);\n    }\n    // Other upstream format are all array.\n    var resultData = [];\n    for (var i = 0, len = upstream.count(); i < len; i++) {\n      resultData.push(upstream.getRawDataItem(i));\n    }\n    resultData.sort(function (item0, item1) {\n      for (var i = 0; i < orderDefList.length; i++) {\n        var orderDef = orderDefList[i];\n        var val0 = upstream.retrieveValueFromItem(item0, orderDef.dimIdx);\n        var val1 = upstream.retrieveValueFromItem(item1, orderDef.dimIdx);\n        if (orderDef.parser) {\n          val0 = orderDef.parser(val0);\n          val1 = orderDef.parser(val1);\n        }\n        var result = orderDef.comparator.evaluate(val0, val1);\n        if (result !== 0) {\n          return result;\n        }\n      }\n      return 0;\n    });\n    return {\n      data: resultData\n    };\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { filterTransform } from './filterTransform.js';\nimport { sortTransform } from './sortTransform.js';\nexport function install(registers) {\n  registers.registerTransform(filterTransform);\n  registers.registerTransform(sortTransform);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * This module is imported by echarts directly.\n *\n * Notice:\n * Always keep this file exists for backward compatibility.\n * Because before 4.1.0, dataset is an optional component,\n * some users may import this module manually.\n */\nimport ComponentModel from '../../model/Component.js';\nimport ComponentView from '../../view/Component.js';\nimport { SERIES_LAYOUT_BY_COLUMN } from '../../util/types.js';\nimport { disableTransformOptionMerge, SourceManager } from '../../data/helper/sourceManager.js';\nvar DatasetModel = /** @class */function (_super) {\n  __extends(DatasetModel, _super);\n  function DatasetModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataset';\n    return _this;\n  }\n  DatasetModel.prototype.init = function (option, parentModel, ecModel) {\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n    this._sourceManager = new SourceManager(this);\n    disableTransformOptionMerge(this);\n  };\n  DatasetModel.prototype.mergeOption = function (newOption, ecModel) {\n    _super.prototype.mergeOption.call(this, newOption, ecModel);\n    disableTransformOptionMerge(this);\n  };\n  DatasetModel.prototype.optionUpdated = function () {\n    this._sourceManager.dirty();\n  };\n  DatasetModel.prototype.getSourceManager = function () {\n    return this._sourceManager;\n  };\n  DatasetModel.type = 'dataset';\n  DatasetModel.defaultOption = {\n    seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN\n  };\n  return DatasetModel;\n}(ComponentModel);\nexport { DatasetModel };\nvar DatasetView = /** @class */function (_super) {\n  __extends(DatasetView, _super);\n  function DatasetView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataset';\n    return _this;\n  }\n  DatasetView.type = 'dataset';\n  return DatasetView;\n}(ComponentView);\nexport function install(registers) {\n  registers.registerComponentModel(DatasetModel);\n  registers.registerComponentView(DatasetView);\n}"],"names":["PolarAxisPointer","_super","apply","this","arguments","__extends","prototype","makeElOption","elOption","value","axisModel","axisPointerModel","api","axis","dim","animationThreshold","Math","PI","polar","otherExtent","getOtherAxis","getExtent","coordValue","dataToCoord","axisPointerType","get","elStyle","viewHelper","pointerOption","pointerShapeBuilder","style","graphicKey","type","pointer","labelPos","labelMargin","coord","axisAngle","getAngleAxis","position","align","verticalAlign","radiusExtent","getRadiusAxis","transform","matrix","cx","cy","graphic","applyTransform","labelRotation","getModel","labelLayout","AxisBuilder","innerTextLayout","textAlign","textVerticalAlign","r","coordToPoint","abs","getLabelPosition","BaseAxisPointer","line","shape","shadow","bandWidth","max","getBandWidth","radian","PolarModel","_this","findAxisModel","axisType","foundAxisModel","ecModel","eachComponent","getCoordSysModel","dependencies","defaultOption","z","center","radius","ComponentModel","PolarAxisModel","getReferringComponents","SINGLE_REFERRING","models","zrUtil","AxisModelCommonMixin","AngleAxisModel","RadiusAxisModel","RadiusAxis","scale","call","pointToData","point","clamp","Axis","dataToRadius","radiusToData","coordToData","inner","makeInner","AngleAxis","angleExtent","calculateCategoryInterval","labelModel","getLabelModel","ordinalScale","ordinalExtent","tickCount","count","tickValue","unitSpan","unitH","rect","textContain","getFont","dh","height","isNaN","Infinity","interval","floor","cache","model","lastAutoInterval","lastTickCount","dataToAngle","angleToData","polarDimensions","getCoordSys","finder","seriesModel","polarModel","coordinateSystem","Polar","name","dimensions","_radiusAxis","_angleAxis","axisPointerEnabled","containPoint","pointToCoord","contain","containData","data","getAxis","getAxes","getAxesByScale","scaleType","axes","angleAxis","radiusAxis","push","getBaseAxis","getTooltipAxes","baseAxis","baseAxes","otherAxes","dataToPoint","dx","dy","extent","minAngle","min","maxAngle","inverse","sqrt","atan2","dir","cos","sin","getArea","slice","reverse","RADIAN","r0","startAngle","endAngle","clockwise","x","y","d2","convertToPixel","convertFromPixel","pixel","updatePolarScale","setExtent","eachSeries","data_1","getData","getDataDimensionsOnAxis","unionExtentFromData","niceScaleExtent","onBand","diff","setAxis","_a","createScaleByModel","mainType","isAngleAxisModel","create","polarList","idx","update","radiusAxisModel","angleAxisModel","width","getWidth","getHeight","parsePercent","size","parsedRadius","resizePolar","process","elementList","getAxisLineShape","rExtent","angle","start","end","x1","y1","x2","y2","getRadiusIdx","fixAngleOverlap","list","firstItem","lastItem","length","pop","AngleAxisView","axisPointerClass","render","group","removeAll","ticksAngles","getTicksCoords","minorTickAngles","getMinorTicksCoords","labels","getViewLabels","labelItem","getRawOrdinalNumber","isBlank","angelAxisElementsBuilders","AxisView","axisLine","lineStyleModel","rId","r0Id","shapeType","getLineStyle","z2","silent","fill","add","axisTick","tickModel","tickLen","lines","tickAngleItem","mergePath","stroke","minorTick","tickAngles","minorTickModel","i","k","axisLabel","rawCategoryData","getCategories","commonLabelModel","triggerEvent","p","labelTextAlign","labelTextVerticalAlign","rawCategoryItem","textStyle","Model","textEl","isLabelSilent","createTextStyle","getTextColor","text","formattedLabel","eventData","makeAxisEventDataBase","targetType","rawLabel","getECData","splitLine","lineColors","lineCount","Array","splitLines","colorIndex","minorSplitLine","splitArea","areaStyleModel","areaColors","splitAreas","prevAngle","r1","len","getAreaStyle","axisBuilderAttrs","selfBuilderAttrs","RadiusAxisView","oldAxisGroup","_axisGroup","newAxisGroup","ticksCoords","minorTicksCoords","layout","rotation","labelDirection","tickDirection","nameDirection","labelRotate","layoutAxis","axisBuilder","getGroup","groupTransition","axisElementBuilders","prevRadius","getSeriesStackId","seriesIndex","getAxisKey","componentIndex","seriesType","lastStackCoords","barWidthAndOffset","barSeries","columnsMap","axisKey","axisExtent","columnsOnAxis","remainedWidth","autoWidthCount","categoryGap","gap","stacks","stackId","maxWidth","barWidth","barMaxWidth","barGap","barCategoryGap","result","coordSysName","barGapPercent","autoWidth","column","stack","lastColumn","widthSum","offset","calRadialBar","getSeriesByType","isSeriesFiltered","eachSeriesByType","columnLayoutInfo","columnOffset","columnWidth","valueAxis","barMinHeight","barMinAngle","valueDim","mapDimension","baseDim","stacked","isDimensionStacked","clampLayout","valueAxisStart","baseValue","sign","baseCoord","n","radiusSpan","angleSpan","setItemLayout","angleAxisExtraOption","splitNumber","rotate","radiusAxisExtraOption","PolarView","ComponentView","install","registers","use","installAxisPointer","registerAxisPointerClass","registerCoordinateSystem","polarCreator","registerComponentModel","registerComponentView","axisModelCreator","registerLayout","curry","barLayoutPolar","opt","single","axisPosition","orient","getRect","rectBound","positionMap","horizontal","top","bottom","vertical","left","right","labelInside","SingleAxisView","payload","singleAxisHelper","remove","rectCoordAxisHandleRemove","axisView","axisGroup","splitLineModel","lineWidth","gridRect","isHorizontal","p1","p2","tickCoord","toGlobalCoord","subPixelOptimizeLine","lineStyle","rectCoordAxisBuildSplitArea","SingleAxisModel","layoutMode","show","tooltip","opacity","mixin","SingleAxis","coordExtent","singleDimensions","singleModel","singleAxisModel","Single","dimension","_init","axisHelper","isCategory","_axis","each","mapDimensionsAll","resize","_rect","getLayoutRect","_adjustAxis","_updateAxisTransform","coordBase","extentSum","toLocalCoord","val","pt","singles","XY","WH","SingleAxisPointer","coordSys","getGlobalExtent","getPointDimIndex","pixelValue","layoutInfo","getHandleTransform","updateHandleTransform","delta","dimIndex","currPosition","cursorOtherValue","cursorPoint","tooltipOption","subPixelOptimize","span","SingleView","singleCreator","mergeAndNormalizeLayoutParams","target","raw","cellSizeArr","cellSize","ignoreSize","hvIdx","sizeCalculable","mergeLayoutParam","CalendarModel","init","option","parentModel","inputPositionParams","getLayoutParams","mergeOption","getCellSize","color","itemStyle","borderWidth","borderColor","dayLabel","firstDay","margin","monthLabel","formatter","yearLabel","fontFamily","fontWeight","fontSize","CalendarView","calendarModel","rangeData","getRangeInfo","getOrient","localeModel","getLocaleModel","_renderDayRect","_renderLines","_renderYearText","_renderMonthText","_renderWeekText","itemRectStyleModel","getItemStyle","sw","getCellWidth","sh","getCellHeight","time","getNextNDay","dataToRect","tl","cursor","self","_tlpoints","_blpoints","_firstDayOfMonth","_firstDayPoints","addPoints","formatedDate","getDateInfo","m","date","setMonth","getMonth","points","_getLinePointsOfOneWeek","_drawSplitline","_getEdgesPoints","rs","poyline","parsedDate","tmpD","day","_formatterLabel","params","isString","formatTplSimple","isFunction","nameMap","_yearTextPositionControl","aligns","pos","xc","yc","posPoints","content","yearText","attr","_monthTextPositionControl","isCenter","vAlign","termPoints","tmp","firstDayPoints","name_1","yyyy","yy","MM","M","monthText","extend","_weekTextPositionControl","isStart","firstDayOfWeek","getFirstDayOfWeek","map","lweek","fweek","weekText","PROXIMATE_ONE_DAY","Calendar","getDimensionsInfo","_model","_rangeInfo","_sw","_sh","_orient","_firstDayOfWeek","numberUtil","getFullYear","mStr","d","getDate","dStr","getDay","getTime","Date","setDate","_lineWidth","_getRangeInfo","_initRangeOption","weeks","whNames","layoutParams","getBoxLayoutParams","cellNumbers","cellSizeSpecified","whGlobal","calendarRect","dayInfo","range","NaN","week","nthWeek","pointToDate","contentShape","tr","br","bl","nthX","nthY","_getDateByWeeksAndDay","console","warn","normalizedRange","rangeStr","toString","test","reversed","parsedRange","allDay","startDateNum","endDateNum","dateNum","rangeInfo","nthDay","calendarList","calendar","calendarSeries","isSetLoc","obj","props","isSet","prop","TRANSITION_PROPS_TO_COPY","ROOT_TRANSITION_PROPS_TO_COPY","concat","copyTransitionInfo","source","targetProp","GraphicComponentModel","preventAutoZ","elements","optionUpdated","newOption","isInit","thisOption","newList","existList","flattenedList","_flatten","mappingResult","modelUtil","elOptionsToUpdate","_elOptionsToUpdate","resultItem","index","newElOption","existElOption","existing","id","keyInfo","parentId","newElParentOption","parentOption","setKeyInfoToNewElOption","newElOptCopy","$action","copyLayoutParams","clipPath","mergeNewElOptionToExist","existItem","hv","existingGroupOpt","newGroupOpt","setLayoutInfoToExist","item","optionList","children","useElOptionsToUpdate","els","nonShapeGraphicElements","path","compoundPath","graphicUtil","image","GraphicComponentView","_elMap","graphicModel","_lastGraphicModel","_clear","_updateElements","_relocate","elMap","rootGroup","globalZ","globalZLevel","elExisting","targetElParent","elType","elOptionStyle","textBaseline","textContentOption","textContent","textConfig","isEC4CompatibleStyle","convertResult","convertFromEC4CompatibleStyle","elOptionCleaned","layoutUtil","getCleanedElOption","isMerge","isReplace","el_1","createEl","isNew","stopPreviousKeyframeAnimationAndRestore","applyUpdateTransition","updateCommonAttrs","removeEl","el_2","updateLeaveTo","el","textContentExisting","getTextContent","setTextContent","clipPathOption","clipPathType","oldClipPath","getClipPath","newEl","setClipPath","applyKeyframeAnimation","keyframeAnimation","elInner","setTextConfig","ignore","componentType","info","setEventData","componentModel","itemName","itemTooltipOption","elOptions","apiWidth","apiHeight","xy","isGroup","isParentRoot","parentEl","parent","parentElInner","containerInfo","layoutPos","layouted","boundingMode","bounding","transition","animatePos","key","isTransitionAll","updateProps","dispose","graphicType","set","traverse","applyLeaveTransition","removeKey","defaultZ","defaultZlevel","Displayable","indexOf","draggable","registerPreprocessor","graphicOption","isArray","DATA_ZOOM_AXIS_DIMENSIONS","SERIES_COORDS","getAxisMainType","axisDim","findEffectedDataZooms","foundNewLink","axisRecords","createHashMap","effectedModels","effectedModelMap","query","dataZoomModel","uid","addToEffected","processSingle","isLink","eachTargetAxis","axisIndex","axisIdxArr","isLinked","dataZoom","collectReferCoordSysModelInfo","coordSysInfoWrap","infoList","infoMap","getComponent","coordSysModel","coordSysUid","coordSysInfo","axisModels","DataZoomAxisInfo","indexList","indexMap","axisCmptIdx","retrieveRawOption","ret","hasOwnProperty","DataZoomModel","_autoThrottle","_noTarget","_rangePropMode","inputRawOption","settledOption","mergeDefaultAndTheme","_doInit","merge","_setDefaultThrottle","_updateRangeUse","names","_resetTarget","optionOrient","targetAxisIndexMap","_targetAxisInfoMap","_fillSpecifiedTargetAxis","_makeAutoOrientByTargetAxis","_fillAutoTargetAxisByOrient","axisInfo","hasAxisSpecified","refering","MULTIPLE_REFERRING","specified","needAuto","setParallelAxis","findComponents","filter","gridModel_1","axModel","globalOption","throttle","animation","animationDurationUpdate","rangePropMode","rangeModeInOption","percentSpecified","valueSpecified","noTarget","getFirstTargetAxisModel","firstAxisModel","callback","context","getAxisProxy","getAxisModel","__dzAxisProxy","setRawRange","setCalculatedRange","getPercentRange","axisProxy","findRepresentativeAxisProxy","getDataPercentWindow","getValueRange","getDataValueWindow","firstProxy","axisDimList","keys","j","proxy","hostedBy","getRangePropMode","filterMode","SelectDataZoomModel","DataZoomView","SelectDataZoomView","asc","AxisProxy","dimName","_dimName","_axisIndex","_dataZoomModel","_valueWindow","_percentWindow","getTargetSeriesModels","seriesModels","coordType","isCoordSupported","axisMainType","getMinMaxSpan","_minMaxSpan","calculateDataWindow","hasPropModeValue","dataExtent","_dataExtent","percentExtent","percentWindow","valueWindow","boundPercent","boundValue","parse","spans","restrictSet","fromWindow","toWindow","fromExtent","toExtent","toValue","suffix","sliderMove","reset","targetSeries","unionAxisExtentFromData","rawExtentResult","ensureScaleRawExtentInfo","calculate","calculateDataExtent","_updateMinMaxSpan","dataWindow","_setAxisModel","filterData","seriesData","dataDims","store_1","getStore","dataDimIndices_1","getDimensionIndex","filterSelf","dataIndex","leftOut","rightOut","hasValue","thisHasValue","thisLeftOut","thisRightOut","setData","isInWindow","selectRange","setApproximateExtent","minMaxSpan","minMax","percentSpan","valueSpan","precision","rawExtentInfo","setDeterminedMinMax","toFixed","freeze","getTargetSeries","eachAxisModel","cb","proxyList","seriesModelMap","overallReset","percentRange","valueRange","startValue","endValue","installed","installCommon","registerProcessor","PRIORITY","PROCESSOR","FILTER","dataZoomProcessor","registerAction","installDataZoomAction","registerSubTypeDefaulter","SelectZoomModel","SelectZoomView","ToolboxFeature","features","registerFeature","ctor","getFeature","ToolboxModel","feature","featureOpt","featureName","Feature","featureManager","getDefaultOption","backgroundColor","borderRadius","padding","itemSize","itemGap","showTitle","iconStyle","emphasis","makeBackground","formatUtil","ToolboxView","toolboxModel","isVertical","featureOpts","_features","featureNames","DataDiffer","_featureNames","processFeature","execute","boxLayoutParams","viewportSize","layoutBox","positionElement","listComponentHelper","getBoundingRect","eachChild","icon","titleText","__title","emphasisState","ensureState","emphasisTextConfig","emphasisTextState","emphasisTextStyle","ZRText","makeFont","offsetX","needPutOnTop","topOffset","newIndex","oldIndex","oldName","featureModel","newTitle","title","isUserFeatureName","onclick","getUID","isToolboxFeature","unusable","iconsMap","titlesMap","iconStyleModel","iconStyleEmphasisModel","icons","getIcons","titles","iconPaths","iconStr","iconName","createIcon","setStyle","font","fontStyle","setTooltipConfig","formatterParamsExtra","on","hoverStyle","defaultTextPosition","enterEmphasis","leaveEmphasis","hide","createIconPaths","setIconStatus","status","iconStatus","updateView","SaveAsImage","isSvg","getZr","painter","getType","url","getConnectedDataURL","connectedBackgroundColor","excludeComponents","pixelRatio","browser","env","MouseEvent","newEdge","ie","edge","$a","document","createElement","download","href","evt","view","defaultView","bubbles","cancelable","dispatchEvent","window","navigator","msSaveOrOpenBlob","parts","split","base64Encoded","bstr","decodeURIComponent","atob","filename","u8arr","Uint8Array","charCodeAt","blob","Blob","frame","body","appendChild","cw","contentWindow","doc","open","write","close","focus","execCommand","removeChild","lang","html","tab","INNER_STACK_KEYWORD","radioTypes","MagicType","availableIcons","bar","seriesOptGenreator","series","radio","subType","seriesId","newSeriesOpt","categoryAxis","boundaryGap","currentType","tiled","dispatchAction","markPoint","markLine","isStack","echarts","event","BLOCK_SPLITER","join","ITEM_SPLITER","assembleSeriesWithCategoryAxis","groups","tables","valueAxisDim","headers","columns","rawData","getRawData","mapArray","items","trim","str","replace","itemSplitRegex","RegExp","parseContents","blockMetaList","blocks","block","isTSVFormat","tsv","tsvLines","shift","categories","header","parseTSVContents","blockMeta","seriesName","hasName","parseListContents","DataView","setTimeout","container","getDom","_dom","root","cssText","innerHTML","viewMain","textarea","optionToContent","contentToOption","seriesGroupByCategoryAxis","otherSeries","meta","eachRawSeries","other","groupSeries","vals","argLen","getName","getContentFromModel","htmlOrDom","getOption","readOnly","buttonContainer","buttonStyle","closeButton","refreshButton","addEventListener","e","Error","clientHeight","textColor","textareaColor","textareaBorderColor","buttonColor","buttonTextColor","tryMergeDataOption","newData","originalData","newVal","original","shouldDeleteName","newSeriesOptList","seriesOpt","getSeriesByName","getStoreSnapshots","store","snapshots","RestoreOption","history","from","resetOption","INCLUDE_FINDER_MAIN_TYPES","BrushTargetManager","_targetInfoList","foundCpts","parseFinder","targetInfoBuilders","builder","include","setOutputRanges","areas","matchOutputRanges","area","coordRange","coordRanges","coordConvert","brushType","__rangeOffset","diffProcessor","values","xyMinMax","targetInfo","findTargetInfo","coordSyses","setInputRanges","panelId","rangeOffset","xyMinMaxCurr","xyMinMaxOrigin","sizeCurr","getSize","sizeOrigin","scales","getScales","makePanelOpts","getDefaultBrushType","getPanelRect","defaultBrushType","brushHelper","isTargetByCursor","getLinearBrushOtherExtent","controlSeries","targetInfoList","areaPanelId","targetInfoMatchers","formatMinMax","modelUtilParseFinder","includeMainTypes","grid","xAxisModels","yAxisModels","gridModels","gridModelMap","xAxesHas","yAxesHas","gridModel","cartesians","getCartesians","cartesian","panelRectBuilders","xAxisDeclared","yAxisDeclared","geo","geoModels","geoModel","xAxisModel","yAxisModel","master","clone","getTransform","lineX","axisConvert","lineY","to","rangeOrCoordRange","xminymin","xmaxymax","polygon","axisNameIndex","axisDiffProcessor","refer","DATA_ZOOM_ID_BASE","makeInternalComponentId","DataZoomFeature","_brushController","BrushController","_onBrush","mount","zoomActive","_isZoomActive","dataZoomSelectActive","brushTargetManager","makeAxisFinder","panels","setPanels","enableBrush","brushStyle","updateZoomBtnStatus","updateBackBtnStatus","handlers","unmount","eventParam","isEnd","snapshot","updateCovers","setBatch","newSnapshot","storedSnapshots","batchItem","dataZoomId","queryComponents","_dispatchZoomAction","found","dzModel","findDataZoom","minValueSpan","maxValueSpan","batch","zoom","back","nextActive","head","dzFeatureModel","setting","xAxisIndex","yAxisIndex","xAxisId","yAxisId","registerInternalOptionCreator","featureDataZoomPath","dzOptions","finderResult","buildInternalOptions","axisIndexPropName","newOpt","$fromToolbox","DataZoom","Restore","installDataZoomSelect","TooltipModel","showContent","trigger","triggerOn","alwaysShowContent","displayMode","renderMode","confine","showDelay","hideDelay","transitionDuration","enterable","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","extraCssText","axisPointer","animationEasingUpdate","crossStyle","shouldTooltipConfine","tooltipModel","confineOption","testStyle","styleProps","domSupported","documentElement","TRANSFORM_VENDOR","TRANSITION_VENDOR","toCSSVendorPrefix","styleVendor","styleProp","toCamelCase","toLowerCase","CSS_TRANSITION_VENDOR","CSS_TRANSFORM_VENDOR","gCssText","transform3dSupported","assembleTransform","x0","y0","transformSupported","is3d","translate","assembleCssText","enableTransition","onlyFade","textStyleModel","getPaddingFromTooltipModel","boxShadow","duration","transitionCurve","transitionOption","transitionText","assembleTransition","borderName","camelCase","round","assembleFont","normalizeCssArray","makeStyleCoord","out","zr","zrX","zrY","zrPainter","zrViewportRoot","getViewportRoot","transformLocalCoord","viewportRootOffset","getViewportRootOffset","offsetLeft","offsetTop","TooltipHTMLContent","_show","_styleCoord","_enterable","_alwaysShowContent","_firstShow","_longHide","wxa","domBelongToZr","_zr","appendTo","querySelector","isDom","_api","_container","onmouseenter","clearTimeout","_hideTimeout","_inContent","onmousemove","handler","normalizeEvent","dispatch","onmouseleave","hideLater","_hideDelay","stl","currentStyle","getComputedStyle","domStyle","_moveIfResized","className","nearPointColor","_longHideTimeout","styleCoord","convertToColorString","display","setContent","markers","arrowPosition","arrow","rotateDeg","arrowPos","arrowSize","positionStyle","transformStyle","rotateRadian","arrowWH","rotatedWH","borderStyle","SQRT2","assembleArrow","parentNode","childNodes","arrowEl","setEnterable","offsetWidth","offsetHeight","moveTo","style_1","transforms","ratioX","ratioY","visibility","willChange","bind","isShow","TooltipRichContent","markupStyleCreator","throwError","rich","richTextStyles","lineHeight","textShadowColor","propName","shadowOuterSize","calcShadowOuterSize","mathMaxWith0","markRedraw","proxyRect","Rect","TooltipView","node","_renderMode","getTooltipRenderMode","_tooltipContent","_tooltipModel","_ecModel","tooltipContent","_initGlobalListener","_keepShow","createOrUpdate","clear","globalListener","currTrigger","_tryShow","_hide","_lastX","_lastY","self_1","_refreshUpdateTimeout","isDisposed","manuallyShowTip","dataByCoordSys","_lastDataByCoordSys","makeDispatchAction","_ticket","cmptRef","queryOptionMap","preParseFinder","componentMainType","queryResult","queryReferringComponents","useDefault","enableAll","enableNone","getViewOfComponentModel","subEl","tooltipConfig","findComponentReference","offsetY","positionDefault","_manuallyAxisShowTip","pointInfo","findPointFromSeries","findHover","manuallyHideTip","coordSysAxesInfo","getSeriesByIndex","buildTooltipModel","getItemModel","_showAxisTooltip","seriesDispatcher_1","cmptDispatcher_1","ssrType","findEventDispatcher","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","delay","_showTimout","globalTooltipModel","singleTooltipModel","cbParamsList","articleMarkup","createTooltipMarkup","noHeader","markupTextArrLegacy","TooltipMarkupStyleCreator","itemCoordSys","dataByAxis","axisItem","axisValue","axisValueLabel","axisPointerViewHelper","seriesDataIndices","valueLabelOpt","axisSectionMarkup","sortBlocks","idxItem","dataIndexInside","cbParams","getDataParams","axisId","marker","makeTooltipMarker","seriesTooltipResult","normalizeTooltipFormatResult","formatTooltip","frag","valueFormatter","positionExpr","orderMode","builtMarkupText","buildTooltipMarkup","unshift","blockBreak","allMarkupText","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","random","dispatcher","ecData","dataModel","dataType","tooltipTrigger","markupText","asyncTicket","getRawIndex","tooltipOpt","tooltipModelCascade","cmpt","subTooltipModel","defaultHtml","formatterParams","_getNearestPoint","useUTC","params0","timeFormat","formatTpl","cbTicket","tooltipDataParams","viewWidth","viewHeight","contentSize","viewSize","isObject","boxLayoutPosition","layoutRect","domWidth","domHeight","ceil","rectWidth","rectHeight","calcTooltipPosition","gapH","gapV","refixTooltipPosition","isCenterAlign","confineTooltipPosition","lastCoordSys","lastCbParamsList","_cbParamsList","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisDataByAxis","indexAxis","thisItem","lastIndices","newIndices","lastIdxItem","newIdxItem","seriesIdx","lastCbParams","modelCascade","defaultTooltipOption","resultModel","noop","DEFAULT_TOOLBOX_BTNS","brushPreprocessor","brushComponents","normalizeToArray","brush","brushComponentSpecifiedBtns","brushOpt","tbs","toolbox","toolboxFeature","toolboxBrush","brushTypes","arr","flag","removeDuplicate","hasKeys","createVisualMappings","stateList","supplementVisualOption","visualMappings","state","mappings","Creater","__hidden","createMappings","visualData","visualType","VisualMapping","isValidType","mappingOption","visual","__alphaForOpacity","replaceVisualOption","has","selector","getLineSelectors","itemLayout","selectors","boundingRect","intersect","polygonContain","BoundingRect","linePolygonIntersect","xyIndex","wh","inLineRange","layoutRange","STATE_LIST","DISPATCH_METHOD","DISPATCH_FLAG","layoutCovers","brushModel","brushVisual","throttleType","throttleDelay","brushSelected","setBrushOption","brushOption","brushIndex","thisBrushSelected","brushId","brushName","selected","brushLink","linkedSeriesMap","selectedDataIndexForLink","rangeInfoBySeries","hasBrushExists","boundingRectBuilders","selectableArea","makeBrushCommonSelectorForSeries","visualSolution","mappingMethod","linkOthers","brushed","rangeInfoList","hasAxisBrushed","eachActiveState","activeState","stepAParallel","brushSelector","seriesIndices","brushModelNotControll","checkInRange","stepAOthers","seriesBrushSelected","getValueState","scope","visualTypesMap","getVisual","getItemVisualFromData","setVisual","setItemVisualFromData","eachItem","valueOrIndex","rawDataItem","getRawDataItem","visualMap","valueState","visualTypes","applyVisual","prepareVisualTypes","doDispatch","fn","throttleUtil","getBoundingRectFromMinMax","rg","BrushView","_updateController","updateTransform","updateVisual","$from","modelId","removeOnClick","generateBrushOption","brushMode","transformable","BrushModel","inBrush","outOfBrush","liftZ","setAreas","ICON_TYPES","BrushFeature","isBrushed","_brushType","_brushMode","intervals","command","keep","registerVisual","VISUAL","BRUSH","TitleModel","subtext","subtarget","subtextStyle","TitleView","titleModel","subtextStyleModel","disableBox","textRect","subText","subTextEl","link","sublink","windowOpen","groupRect","layoutOption","alignStyle","TimelineModel","_initData","setCurrentIndex","currentIndex","_data","loop","getCurrentIndex","isIndexMax","setPlayState","autoPlay","getPlayState","processedDataArr","dataArr","_names","newItem","convertOptionIdName","getDataItemValue","dimType","category","SeriesData","initData","realtime","controlPosition","rewind","playInterval","label","SliderTimelineModel","inheritDefaultOption","symbol","symbolSize","checkpointStyle","animationDuration","animationEasing","controlStyle","showPlayBtn","showPrevBtn","showNextBtn","playIcon","stopIcon","nextIcon","prevIcon","prevBtnSize","nextBtnSize","progress","DataFormatMixin","TimelineView","TimelineAxis","labelDataIndexStore","giveSymbol","hostModel","itemStyleModel","setColor","onUpdate","symbolType","createSymbol","onCreate","rectHover","normalizeSymbolSize","scaleX","scaleY","symbolOffset","normalizeSymbolOffset","symbolRotate","pointerMoveTo","progressLine","timelineModel","noAnimation","dragging","pointerModel","toCoord","animationCfg","easing","stopAnimation","animateTo","SliderTimelineView","layoutInfo_1","_layout","mainGroup_1","_createGroup","labelGroup","axis_1","_createAxis","getLabel","noName","_renderAxisLabel","_position","_doPlayStop","_updateTicksStatus","_clearTimer","parsedLabelPos","playPosition","prevBtnPosition","nextBtnPosition","labelPosOpt","viewRect","getViewRect","labelAlignMap","labelBaselineMap","rotationMap","mainLength","controlModel","showControl","controlSize","controlGap","sizePlusGap","xLeft","xRight","labelAlign","labelBaseline","mainGroup","_mainGroup","_labelGroup","rotateOriginX","rotateOriginY","viewBound","getBound","mainBound","labelBound","mainPosition","labelsPosition","mainBoundIdx","toBound","setOrigin","targetGroup","originX","originY","fromPos","dimIdx","boundIdx","setPosition","OrdinalScale","ordinalMeta","TimeScale","locale","IntervalScale","getTicks","getDataExtent","calcNiceTicks","newGroup","_renderAxisLine","lineCap","_progressLine","_currentPointer","defaults","_renderAxisTick","ticks","_tickSymbols","tick","itemModel","hoverStyleModel","progressStyleModel","symbolOpt","_changeTimeline","enableHoverEmphasis","_tickLabels","normalLabelModel","hoverLabelModel","progressLabelModel","_renderControl","playState","makeBtn","willRotate","iconSize","retrieve2","btn","objPath","opts","makeControlIcon","_handlePlayClick","_renderCurrentPointer","me","drift","_handlePointerDrag","ondragend","_handlePointerDragend","nextState","_pointerChangeTimeline","mousePos","_toAxisCoord","dirty","targetDataIndex","_findNearestTick","_timer","vertex","trans","getLocalTransform","axisCoord","dist","nextIndex","tickSymbols","tickLabels","toggleState","timelinePreprocessor","timelineOpt","timeline","ec2Types","transferItem","dataItem","compatibleEC2","itemStyleEmphasis","labelNormal","normal","excludeLabelAttr","replaceMerge","installTimelineAction","preprocessor","checkMarkerInSeries","seriesOpts","markerType","seriesOptArr","fillLabel","defaultEmphasis","MarkerModel","createdBySelf","_mergeOption","isAnimationEnabled","hostSeries","__hostSeries","getShallow","markerOpt","markerModel","createMarkerModelFromSeries","multipleSeries","getRawValue","noValue","getMarkerModelFromSeries","MarkPointModel","masterMarkerModel","hasXOrY","parseFloat","markerTypeCalculatorWithExtent","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","calcDataDim","getCalculationInfo","numCalculate","indicesOfNearest","coordArrValue","markerTypeCalculator","average","median","dataTransform","dims","hasXAndY","getAxisInfo","coordInfo","baseDataDim","valueDataDim","xAxis","yAxis","valueIndex","getDimension","dataDim","dimItem","getDimensionInfo","coordDim","dataDimToCoordDim","dataFilter","createMarkerDimValueGetter","inCoordSys","rawVal","parseDataValue","sum_1","count_1","getMedian","MarkerView","markerGroupMap","renderSeries","markKeep","drawGroup","toggleBlurSeries","seriesModelList","isBlur","eachItemGraphicEl","enterBlur","leaveBlur","updateMarkerLayout","mpData","xPx","yPx","getMarkerPosition","getValues","MarkPointView","markPointModel","mpModel","updateLayout","symbolDrawMap","symbolDraw","SymbolDraw","coordDimsInfos","dataOpt","markerHelper","dimValueGetter","createData","symbolKeepAspect","rawIdx","dataParams","getVisualFromData","setItemVisual","updateData","child","MarkLineModel","distance","markLineTransform","mlModel","itemArray","mlType","retrieve","getStackedDimension","baseIndex","mlFrom","mlTo","isNumber","normalizedItem","isInfinity","isFinite","ifMarkLineHasOnlyDim","fromCoord","otherDimIndex","markLineFilter","updateSingleMarkerEndLayout","isFrom","isCoordinateSystemType","MarkLineView","markLineModel","mlData_1","fromData_1","toData_1","getItemLayout","lineDrawMap","lineDraw","LineDraw","mlData","fromData","toData","lineData","optData","hasItemOption","createList","updateDataVisualAndLayout","getItemVisual","fromSymbolKeepAspect","fromSymbolOffset","fromSymbolRotate","fromSymbolSize","fromSymbol","toSymbolKeepAspect","toSymbolOffset","toSymbolRotate","toSymbolSize","toSymbol","MarkAreaModel","markAreaTransform","maModel","item0","item1","lt","rb","ltCoord","rbCoord","mergeAll","ifMarkAreaHasOnlyDim","markAreaFilter","item2","containZone","getSingleMarkerEndPoint","pointValue0","pointValue1","clampPointValue0","clampData","clampPointValue1","pointValue","dimPermutations","MarkAreaView","markAreaModel","areaData_1","getItemGraphicEl","setShape","areaGroupMap","polygonGroup","areaData","coordDimsInfos_1","xAxisScale","yAxisScale","xAxisExtent","yAxisExtent","xPointExtent","yPointExtent","allClipped","colorUtil","setItemGraphicEl","newIdx","oldIdx","useStyle","setLabelStyle","getLabelStatesModels","labelFetcher","labelDataIndex","defaultText","inheritColor","setStatesStylesFromModel","toggleHoverEmphasis","markArea","LegendModel","_updateSelector","getDefaultSelectorOptions","_updateData","legendData","hasSelected","isSelected","select","potentialData","availableNames","isPotential","legendVisualProvider","getAllNames","isNameSpecified","_availableNames","legendNameMap","unSelect","toggleSelected","allSelect","inverseSelect","itemWidth","itemHeight","inactiveColor","inactiveBorderColor","inactiveBorderWidth","borderCap","borderJoin","borderDashOffset","borderMiterLimit","inactiveWidth","cap","dashOffset","miterLimit","selectedMode","selectorLabel","selectorPosition","selectorItemGap","selectorButtonGap","Group","LegendView","newlineDisabled","_contentGroup","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","legendModel","isFirstRender","resetInner","itemAlign","renderInner","positionInfo","maxSize","mainRect","layoutInner","_backgroundEl","contentGroup","legendDrawnMap","selectMode","excludeSeriesId","legendItemModel","g","newline","lineVisualStyle","legendIcon","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","ssr","provider","containName","indexOfName","colorArr","stringify","_createSelector","selectorGroup","selectorItem","labelText","emphasisLabelModel","itemVisualStyle","drawType","visualDrawType","iconRotate","legendIconType","iconType","handleCommonProps","visualStyle","propVal","iconBrushType","lastIndexOf","decalStyle","decal","createOrUpdatePatternFromDecal","legendLineModel","visualHasBorder","getLegendStyle","getLegendIcon","symboType","getDefaultLegendIcon","textX","hitRect","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","hw","yx","dataName","isUseHoverLayer","storage","getDisplayList","states","hoverLayer","legendFilter","legendModels","filterSeries","legendSelectActionHandler","methodName","selectedMap","isToggleSelect","isItemSelected","SERIES_FILTER","installLegendAction","ScrollableLegendModel","setScrollDataIndex","scrollDataIndex","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","ScrollableLegendView","_currentIndex","_containerGroup","_controllerGroup","removeClipPath","__rectSize","controllerGroup","pageIconSizeArr","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","_pageGo","processMaxSize","_layoutContentAndController","containerGroup","controllerRect","showController","_showController","containerPos","controllerPos","clipShape","invisible","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","legendId","canJump","childOfName","pageText","current","total","pageCount","containerRectSize","targetItemIndex","_findTargetItemIndex","targetItem","itemCount","pCount","pagePrevDataIndex","pageNextDataIndex","targetItemInfo","getItemInfo","s","winStartItemInfo","winEndItemInfo","currItemInfo","itemRect","itemInfo","winStart","legendDataIdx","defaultIndex","installLegendPlain","installScrollableLegendAction","installLegendScroll","InsideZoomModel","disabled","zoomLock","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","preventDefaultMouseMove","disposeCoordSysRecord","coordSysRecordMap","coordSysRecord","controller","containsPoint","installDataZoomRoamProcessor","apiInner","dataZoomInfoMap","dzReferCoordSysWrap","dzCoordSysInfo","RoamController","eventName","dzInfo","isAvailableBehavior","method","getRange","dzReferCoordSysInfo","createCoordSysRecord","firstDzInfo","firstDzKey","controllerParams","controlType","prefix","typePriority","dataZoomInfo","oneType","mergeControllerParams","enable","setPointerChecker","InsideZoomView","roams","pan","getRangeHandlers","scrollMove","coordSysKeyArr","coordSysKey","dzUid","coordSysMainType","lastRange","directionInfo","getDirectionInfo","percentPoint","signal","pixelStart","pixelLength","minSpan","maxSpan","makeMover","oldX","oldY","newX","newY","scrollDelta","getPercentDelta","percentDelta","oldPoint","newPoint","singleAxis","SliderZoomModel","dataBackground","areaStyle","selectedDataBackground","fillerColor","handleIcon","handleSize","handleStyle","moveHandleSize","moveHandleIcon","moveHandleStyle","showDetail","showDataShadow","brushSelect","HORIZONTAL","VERTICAL","SHOW_DATA_SHADOW_SERIES_TYPE","REALTIME_ANIMATION_CONFIG","SliderZoomView","_displayables","_onBrushEnd","_buildView","_updateView","off","thisGroup","_brushing","brushRect","_resetLocation","_resetInterval","barGroup","sliderGroup","_renderBackground","_renderHandle","_renderDataShadow","_positionGroup","coordRect","_findCoordRect","ecSize","_location","_size","location","targetAxisModel","otherAxisInverse","_dataShadowInfo","_getViewExtent","clickPanel","_onClickPanel","_onBrushStart","_prepareDataShadowInfo","dataShadowSegs","oldSize","_shadowSize","candlestickDim","getShadowDim","otherDim","polygonPts","_shadowPolygonPts","polylinePts","_shadowPolylinePts","_shadowData","_shadowDim","otherDataExtent_1","otherOffset","lastIsEmpty_1","otherShadowExtent_1","thisShadowExtent","areaPoints_1","linePoints_1","step_1","thisCoord_1","stride_1","isEmpty","otherCoord","linearMap","createDataShadowGroup","isSelectedArea","segmentIgnoreThreshold","polyline","thisAxis","thisDim","displayables","handles","handleLabels","filler","handleIndex","symbolBuildProxies","getCursor","_onDragMove","_onDragEnd","onmouseover","_showDataInfo","onmouseout","bRect","_handleHeight","_handleWidth","strokeNoScale","handleColor","actualMoveZone","moveHandleHeight","moveHandle_1","moveHandle","moveZoneExpandSize","moveZone","ondragstart","_range","viewExtent","_handleEnds","_updateInterval","handleEnds","viewExtend","nonRealtime","displaybles","handleInterval","handle","handleHeight","segIntervals","segGroup","_updateDataInfo","labelTexts","dataInterval","_formatLabel","orderedHandleEnds","setLabel","barTransform","direction","transformDirection","textPoint","labelFormatter","labelPrecision","getPixelPrecision","valueStr","showOrHide","_dragging","eventTool","changed","localPoint","transformCoordToLocal","_brushStart","_brushStartTime","brushShape","_updateBrushRect","mouseX","mouseY","brushStart","endPoint","startPoint","coordSysInfoList","installDataZoomInside","installDataZoomSlider","visualDefault","active","inactive","colorHue","colorSaturation","colorLightness","colorAlpha","mapVisual","eachVisual","VisualMapModel","replacableOptionKeys","dataBound","targetVisuals","controllerVisuals","resetItemSize","completeVisualOption","resetVisual","getItemSymbol","getTargetSeriesIndices","optionSeriesIndex","eachTargetSeries","isTargetSeries","is","formatValueText","edgeSymbols","isMinMax","textValue","resetExtent","getDataDimensionIndex","optDim","dimNames","dimInfo","isCalculationCoord","storeDimIndex","base","inRange","outOfRange","completeSingle","stateExist","stateAbsent","optExist","optAbsent","defa","symbolExists","symbolSizeExists","defaultSymbol","visuals","max_1","setSelected","getSelected","getVisualMeta","getColorVisual","contentColor","textGap","DEFAULT_BAR_BOUND","ContinuousModel","_resetRange","auto","findTargetDataIndices","dataIndices","oVals","getColorStopValues","iVals","stops","setStop","iIdx","oIdx","iLen","oLen","first","stopsLen","outerColors","calculable","hoverLink","indicatorIcon","indicatorSize","indicatorStyle","visualMapModel","step","stopValues","VisualMapView","autoPositionValues","doRender","renderBackground","getControllerVisual","targetValue","visualCluster","forceState","visualObj","defaultColor","getter","setter","visualMapping","convertOpacityToAlpha","dependsOn","positionGroup","paramsSet","getItemAlign","modelOption","realIndex","reals","fakeValue","layoutInput","rParam","makeHighDownBatch","highlightKey","mathMin","mathMax","createPolygon","onDrift","onDragEnd","useHoverLinkOnHandle","hoverLinkOnHandle","ContinuousView","_shapes","_dataInterval","_hoverLinkDataIndices","_hoverLinkFromSeriesMouseOver","_hideIndicator","_useHandle","_renderBar","dataRangeText","_renderEndsText","_enableHoverLinkToSeries","_enableHoverLinkFromSeries","endsIndex","_applyTransform","shapes","useHandle","helper","_createBarGroup","gradientBarGroup","_dragHandle","getTextRect","textSize","handleThumbs","handleLabelPoints","_createHandle","_createIndicator","handleThumb","strokeFirst","setAsHighDownDispatcher","handleLabel","stateTransition","handleLabelPoint","indicator","ZRImage","pathStyle","indicatorLabel","indicatorLabelPoint","_firstShowIndicator","visualMapId","_hovering","_clearHoverLinkToSeries","_doHoverLinkToSeries","sizeExtent","forSketch","outOfRangeHandleEnds","inRangeHandleEnds","visualInRange","_createBarVisual","visualOutOfRange","barColor","barPoints","_updateHandle","colorStops","_makeColorGradient","symbolSizes","_createBarPoints","LinearGradient","handlesColor","currValue","_showIndicator","cursorValue","rangeSymbol","halfHoverLinkSize","oldIndicatorPos","indicatorNewProps","labelNewProps","additive","_clearHoverLinkFromSeries","cursorPos","hoverOnBar","HOVER_LINK_SIZE","hoverLinkDataSize","getHalfHoverLinkSize","hoverRange","oldBatch","newBatch","resultBatches","_dispatchHighDown","currECData","indices","element","global","visualMapActionInfo","visualMapActionHander","visualMapEncodingHandlers","createOnAllSeries","resetDefines","pipelineContext","large","next","visualMetaList","visualMeta","resultVisual","mapping","visualMapPreprocessor","pieces","splitList","piece","COMPONENT","PiecewiseModel","_pieceList","mode","_mode","_determineMode","resetMethods","_resetSelected","pieceList","visualTypesInPieces","listVisualTypes","v","exists","getSelectedMapKey","hasSel_1","getPieceList","findPieceIndex","pieceIndex","getRepresentValue","representValue","pieceInterval","curr","minOpen","maxOpen","itemSymbol","outPieceList","parseInt","splitStep","reformIntervals","cate","normalizeReverse","pieceListItem","close_1","closeList","infinityList","useMinMax","lg","retrieveVisuals","PiecewiseVisualMapView","textFont","textFill","_getItemAlign","viewData","_getViewData","endsText","showLabel","viewPieceList","_onItemClick","_enableHoverLink","indexInModelPieceList","_createItemSymbol","visualState","onHoverLink","shapeParam","newKey","o","PiecewiseView","installVisualMapContinuous","installVisualMapPiecewise","DEFAULT_OPTION","enabled","decalPaletteScope","ariaVisual","ariaModel","paletteScopeGroupByType_1","isColorBySeries","decalScope","enableAriaDecal","paletteDecal","getDecalFromPalette","getSeriesCount","specifiedDecal","mergeDecal","dataAll_1","idxMap_1","decalScope_1","dataCount_1","resultDecal","setDecal","labelLocale","dom","setAttribute","ariaLabel","seriesCnt","maxDataCnt","maxSeriesCnt","displaySeriesCnt","getTitle","seriesLabels_1","seriesCount","seriesLabel","withName","getSeriesTypeName","displayCnt","middleSeparator_1","endSeparator_1","dataLabels","dataLabel","separatorModel","middleSeparator","endSeparator","keyValues","typeNames","chart","ariaPreprocessor","aria","ARIA","RELATIONAL_EXPRESSION_OP_ALIAS_MAP","RegExpEvaluator","rVal","_condVal","isRegExp","evaluate","lVal","ConstConditionInternal","AndConditionInternal","OrConditionInternal","NotConditionInternal","RelationalConditionInternal","needParse","valueParser","tarValRaw","getValue","valueGetterParam","tarValParsed","subCondList","parseOption","exprOption","getters","cond","isObjectNotArray","and","parseAndOrOption","or","not","subOption","errMsg","parseNotOption","prepareGetValue","exprKeys","parserName","parser","getRawValueParser","keyRaw","valueGetterAttrMap","op","hasOwn","condValueRaw","condValueParsed","evaluator","createFilterComparator","parseRelationalOption","subOptionArr","isArrayLike","ConditionalExpressionParsed","_cond","filterTransform","rawItem","upstream","condition","config","dimLoose","param","retrieveValueFromItem","resultData","sortTransform","orderExprList","orderDefList","orderExpr","order","incomparable","comparator","SortOrderComparator","sourceFormat","SOURCE_FORMAT_ARRAY_ROWS","SOURCE_FORMAT_OBJECT_ROWS","sort","orderDef","val0","val1","registerTransform","DatasetModel","_sourceManager","SourceManager","disableTransformOptionMerge","getSourceManager","seriesLayoutBy","SERIES_LAYOUT_BY_COLUMN","DatasetView"],"sourceRoot":""}